(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ml(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uF(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var G3={exports:{}},Ty={},H3={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=Symbol.for("react.element"),cF=Symbol.for("react.portal"),hF=Symbol.for("react.fragment"),fF=Symbol.for("react.strict_mode"),dF=Symbol.for("react.profiler"),pF=Symbol.for("react.provider"),mF=Symbol.for("react.context"),gF=Symbol.for("react.forward_ref"),yF=Symbol.for("react.suspense"),vF=Symbol.for("react.memo"),wF=Symbol.for("react.lazy"),pA=Symbol.iterator;function _F(t){return t===null||typeof t!="object"?null:(t=pA&&t[pA]||t["@@iterator"],typeof t=="function"?t:null)}var q3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W3=Object.assign,K3={};function Dh(t,e,n){this.props=t,this.context=e,this.refs=K3,this.updater=n||q3}Dh.prototype.isReactComponent={};Dh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q3(){}Q3.prototype=Dh.prototype;function dx(t,e,n){this.props=t,this.context=e,this.refs=K3,this.updater=n||q3}var px=dx.prototype=new Q3;px.constructor=dx;W3(px,Dh.prototype);px.isPureReactComponent=!0;var mA=Array.isArray,Y3=Object.prototype.hasOwnProperty,mx={current:null},X3={key:!0,ref:!0,__self:!0,__source:!0};function J3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Y3.call(e,r)&&!X3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wp,type:t,key:s,ref:o,props:i,_owner:mx.current}}function bF(t,e){return{$$typeof:wp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gx(t){return typeof t=="object"&&t!==null&&t.$$typeof===wp}function xF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gA=/\/+/g;function Hv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xF(""+t.key):e.toString(36)}function dg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wp:case cF:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Hv(o,0):r,mA(i)?(n="",t!=null&&(n=t.replace(gA,"$&/")+"/"),dg(i,e,n,"",function(u){return u})):i!=null&&(gx(i)&&(i=bF(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mA(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Hv(s,a);o+=dg(s,e,n,l,i)}else if(l=_F(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Hv(s,a++),o+=dg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cm(t,e,n){if(t==null)return t;var r=[],i=0;return dg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ei={current:null},pg={transition:null},SF={ReactCurrentDispatcher:ei,ReactCurrentBatchConfig:pg,ReactCurrentOwner:mx};function Z3(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:cm,forEach:function(t,e,n){cm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cm(t,function(){e++}),e},toArray:function(t){return cm(t,function(e){return e})||[]},only:function(t){if(!gx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=Dh;mt.Fragment=hF;mt.Profiler=dF;mt.PureComponent=dx;mt.StrictMode=fF;mt.Suspense=yF;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF;mt.act=Z3;mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=W3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Y3.call(e,l)&&!X3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wp,type:t.type,key:i,ref:s,props:r,_owner:o}};mt.createContext=function(t){return t={$$typeof:mF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pF,_context:t},t.Consumer=t};mt.createElement=J3;mt.createFactory=function(t){var e=J3.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:gF,render:t}};mt.isValidElement=gx;mt.lazy=function(t){return{$$typeof:wF,_payload:{_status:-1,_result:t},_init:EF}};mt.memo=function(t,e){return{$$typeof:vF,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=pg.transition;pg.transition={};try{t()}finally{pg.transition=e}};mt.unstable_act=Z3;mt.useCallback=function(t,e){return ei.current.useCallback(t,e)};mt.useContext=function(t){return ei.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return ei.current.useDeferredValue(t)};mt.useEffect=function(t,e){return ei.current.useEffect(t,e)};mt.useId=function(){return ei.current.useId()};mt.useImperativeHandle=function(t,e,n){return ei.current.useImperativeHandle(t,e,n)};mt.useInsertionEffect=function(t,e){return ei.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return ei.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return ei.current.useMemo(t,e)};mt.useReducer=function(t,e,n){return ei.current.useReducer(t,e,n)};mt.useRef=function(t){return ei.current.useRef(t)};mt.useState=function(t){return ei.current.useState(t)};mt.useSyncExternalStore=function(t,e,n){return ei.current.useSyncExternalStore(t,e,n)};mt.useTransition=function(){return ei.current.useTransition()};mt.version="18.3.1";H3.exports=mt;var C=H3.exports;const yr=Ml(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AF=C,PF=Symbol.for("react.element"),TF=Symbol.for("react.fragment"),CF=Object.prototype.hasOwnProperty,IF=AF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RF={key:!0,ref:!0,__self:!0,__source:!0};function eM(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CF.call(e,r)&&!RF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PF,type:t,key:s,ref:o,props:i,_owner:IF.current}}Ty.Fragment=TF;Ty.jsx=eM;Ty.jsxs=eM;G3.exports=Ty;var b=G3.exports;var Bw={},tM={exports:{}},Vi={},nM={exports:{}},rM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var q=O.length;O.push($);e:for(;0<q;){var B=q-1>>>1,_=O[B];if(0<i(_,$))O[B]=$,O[q]=_,q=B;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],q=O.pop();if(q!==$){O[0]=q;e:for(var B=0,_=O.length,j=_>>>1;B<j;){var ue=2*(B+1)-1,I=O[ue],Q=ue+1,ne=O[Q];if(0>i(I,q))Q<_&&0>i(ne,I)?(O[B]=ne,O[Q]=q,B=Q):(O[B]=I,O[ue]=q,B=ue);else if(Q<_&&0>i(ne,q))O[B]=ne,O[Q]=q,B=Q;else break e}}return $}function i(O,$){var q=O.sortIndex-$.sortIndex;return q!==0?q:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,m=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(O){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=O)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function M(O){if(w=!1,A(O),!m)if(n(l)!==null)m=!0,k(U);else{var $=n(u);$!==null&&V(M,$.startTime-O)}}function U(O,$){m=!1,w&&(w=!1,v(R),R=-1),p=!0;var q=f;try{for(A($),h=n(l);h!==null&&(!(h.expirationTime>$)||O&&!G());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var _=B(h.expirationTime<=$);$=t.unstable_now(),typeof _=="function"?h.callback=_:h===n(l)&&r(l),A($)}else r(l);h=n(l)}if(h!==null)var j=!0;else{var ue=n(u);ue!==null&&V(M,ue.startTime-$),j=!1}return j}finally{h=null,f=q,p=!1}}var N=!1,D=null,R=-1,L=5,z=-1;function G(){return!(t.unstable_now()-z<L)}function W(){if(D!==null){var O=t.unstable_now();z=O;var $=!0;try{$=D(!0,O)}finally{$?E():(N=!1,D=null)}}else N=!1}var E;if(typeof S=="function")E=function(){S(W)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,T=g.port2;g.port1.onmessage=W,E=function(){T.postMessage(null)}}else E=function(){x(W,0)};function k(O){D=O,N||(N=!0,E())}function V(O,$){R=x(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,k(U))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var q=f;f=$;try{return O()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=f;f=O;try{return $()}finally{f=q}},t.unstable_scheduleCallback=function(O,$,q){var B=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?B+q:B):q=B,O){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=q+_,O={id:c++,callback:$,priorityLevel:O,startTime:q,expirationTime:_,sortIndex:-1},q>B?(O.sortIndex=q,e(u,O),n(l)===null&&O===n(u)&&(w?(v(R),R=-1):w=!0,V(M,q-B))):(O.sortIndex=_,e(l,O),m||p||(m=!0,k(U))),O},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(O){var $=f;return function(){var q=f;f=$;try{return O.apply(this,arguments)}finally{f=q}}}})(rM);nM.exports=rM;var kF=nM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MF=C,Li=kF;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iM=new Set,Ed={};function ju(t,e){oh(t,e),oh(t+"Capture",e)}function oh(t,e){for(Ed[t]=e,t=0;t<e.length;t++)iM.add(e[t])}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zw=Object.prototype.hasOwnProperty,OF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yA={},vA={};function NF(t){return zw.call(vA,t)?!0:zw.call(yA,t)?!1:OF.test(t)?vA[t]=!0:(yA[t]=!0,!1)}function DF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LF(t,e,n,r){if(e===null||typeof e>"u"||DF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ti(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new ti(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new ti(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new ti(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new ti(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new ti(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new ti(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new ti(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new ti(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new ti(t,5,!1,t.toLowerCase(),null,!1,!1)});var yx=/[\-:]([a-z])/g;function vx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yx,vx);br[e]=new ti(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yx,vx);br[e]=new ti(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yx,vx);br[e]=new ti(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new ti(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new ti(t,1,!1,t.toLowerCase(),null,!0,!0)});function wx(t,e,n,r){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LF(e,n,i,r)&&(n=null),r||i===null?NF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ea=MF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hm=Symbol.for("react.element"),pc=Symbol.for("react.portal"),mc=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),sM=Symbol.for("react.provider"),oM=Symbol.for("react.context"),bx=Symbol.for("react.forward_ref"),Uw=Symbol.for("react.suspense"),$w=Symbol.for("react.suspense_list"),xx=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),aM=Symbol.for("react.offscreen"),wA=Symbol.iterator;function df(t){return t===null||typeof t!="object"?null:(t=wA&&t[wA]||t["@@iterator"],typeof t=="function"?t:null)}var mn=Object.assign,qv;function Lf(t){if(qv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qv=e&&e[1]||""}return`
`+qv+t}var Wv=!1;function Kv(t,e){if(!t||Wv)return"";Wv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lf(t):""}function VF(t){switch(t.tag){case 5:return Lf(t.type);case 16:return Lf("Lazy");case 13:return Lf("Suspense");case 19:return Lf("SuspenseList");case 0:case 2:case 15:return t=Kv(t.type,!1),t;case 11:return t=Kv(t.type.render,!1),t;case 1:return t=Kv(t.type,!0),t;default:return""}}function Gw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mc:return"Fragment";case pc:return"Portal";case jw:return"Profiler";case _x:return"StrictMode";case Uw:return"Suspense";case $w:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oM:return(t.displayName||"Context")+".Consumer";case sM:return(t._context.displayName||"Context")+".Provider";case bx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xx:return e=t.displayName||null,e!==null?e:Gw(t.type)||"Memo";case Fa:e=t._payload,t=t._init;try{return Gw(t(e))}catch{}}return null}function FF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gw(e);case 8:return e===_x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BF(t){var e=lM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fm(t){t._valueTracker||(t._valueTracker=BF(t))}function uM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function e0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hw(t,e){var n=e.checked;return mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _A(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cM(t,e){e=e.checked,e!=null&&wx(t,"checked",e,!1)}function qw(t,e){cM(t,e);var n=vl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ww(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ww(t,e.type,vl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ww(t,e,n){(e!=="number"||e0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vf=Array.isArray;function jc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Vf(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vl(n)}}function hM(t,e){var n=vl(e.value),r=vl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function EA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dm,dM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dm=dm||document.createElement("div"),dm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zF=["Webkit","ms","Moz","O"];Object.keys(Xf).forEach(function(t){zF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xf[e]=Xf[t]})});function pM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xf.hasOwnProperty(t)&&Xf[t]?(""+e).trim():e+"px"}function mM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jF=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yw(t,e){if(e){if(jF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Xw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jw=null;function Ex(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zw=null,Uc=null,$c=null;function SA(t){if(t=xp(t)){if(typeof Zw!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=My(e),Zw(t.stateNode,t.type,e))}}function gM(t){Uc?$c?$c.push(t):$c=[t]:Uc=t}function yM(){if(Uc){var t=Uc,e=$c;if($c=Uc=null,SA(t),e)for(t=0;t<e.length;t++)SA(e[t])}}function vM(t,e){return t(e)}function wM(){}var Qv=!1;function _M(t,e,n){if(Qv)return t(e,n);Qv=!0;try{return vM(t,e,n)}finally{Qv=!1,(Uc!==null||$c!==null)&&(wM(),yM())}}function Ad(t,e){var n=t.stateNode;if(n===null)return null;var r=My(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var e_=!1;if(ua)try{var pf={};Object.defineProperty(pf,"passive",{get:function(){e_=!0}}),window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{e_=!1}function UF(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Jf=!1,t0=null,n0=!1,t_=null,$F={onError:function(t){Jf=!0,t0=t}};function GF(t,e,n,r,i,s,o,a,l){Jf=!1,t0=null,UF.apply($F,arguments)}function HF(t,e,n,r,i,s,o,a,l){if(GF.apply(this,arguments),Jf){if(Jf){var u=t0;Jf=!1,t0=null}else throw Error(fe(198));n0||(n0=!0,t_=u)}}function Uu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function AA(t){if(Uu(t)!==t)throw Error(fe(188))}function qF(t){var e=t.alternate;if(!e){if(e=Uu(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return AA(i),t;if(s===r)return AA(i),e;s=s.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function xM(t){return t=qF(t),t!==null?EM(t):null}function EM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EM(t);if(e!==null)return e;t=t.sibling}return null}var SM=Li.unstable_scheduleCallback,PA=Li.unstable_cancelCallback,WF=Li.unstable_shouldYield,KF=Li.unstable_requestPaint,Tn=Li.unstable_now,QF=Li.unstable_getCurrentPriorityLevel,Sx=Li.unstable_ImmediatePriority,AM=Li.unstable_UserBlockingPriority,r0=Li.unstable_NormalPriority,YF=Li.unstable_LowPriority,PM=Li.unstable_IdlePriority,Cy=null,mo=null;function XF(t){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(Cy,t,void 0,(t.current.flags&128)===128)}catch{}}var Ds=Math.clz32?Math.clz32:e7,JF=Math.log,ZF=Math.LN2;function e7(t){return t>>>=0,t===0?32:31-(JF(t)/ZF|0)|0}var pm=64,mm=4194304;function Ff(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function i0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ff(a):(s&=o,s!==0&&(r=Ff(s)))}else o=n&~i,o!==0?r=Ff(o):s!==0&&(r=Ff(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ds(e),i=1<<n,r|=t[n],e&=~i;return r}function t7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ds(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=t7(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function n_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TM(){var t=pm;return pm<<=1,!(pm&4194240)&&(pm=64),t}function Yv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _p(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ds(e),t[e]=n}function r7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ds(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ax(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ds(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Wt=0;function CM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IM,Px,RM,kM,MM,r_=!1,gm=[],il=null,sl=null,ol=null,Pd=new Map,Td=new Map,ja=[],i7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TA(t,e){switch(t){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":Pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(e.pointerId)}}function mf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xp(e),e!==null&&Px(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function s7(t,e,n,r,i){switch(e){case"focusin":return il=mf(il,t,e,n,r,i),!0;case"dragenter":return sl=mf(sl,t,e,n,r,i),!0;case"mouseover":return ol=mf(ol,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pd.set(s,mf(Pd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Td.set(s,mf(Td.get(s)||null,t,e,n,r,i)),!0}return!1}function OM(t){var e=lu(t.target);if(e!==null){var n=Uu(e);if(n!==null){if(e=n.tag,e===13){if(e=bM(n),e!==null){t.blockedOn=e,MM(t.priority,function(){RM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jw=r,n.target.dispatchEvent(r),Jw=null}else return e=xp(n),e!==null&&Px(e),t.blockedOn=n,!1;e.shift()}return!0}function CA(t,e,n){mg(t)&&n.delete(e)}function o7(){r_=!1,il!==null&&mg(il)&&(il=null),sl!==null&&mg(sl)&&(sl=null),ol!==null&&mg(ol)&&(ol=null),Pd.forEach(CA),Td.forEach(CA)}function gf(t,e){t.blockedOn===e&&(t.blockedOn=null,r_||(r_=!0,Li.unstable_scheduleCallback(Li.unstable_NormalPriority,o7)))}function Cd(t){function e(i){return gf(i,t)}if(0<gm.length){gf(gm[0],t);for(var n=1;n<gm.length;n++){var r=gm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(il!==null&&gf(il,t),sl!==null&&gf(sl,t),ol!==null&&gf(ol,t),Pd.forEach(e),Td.forEach(e),n=0;n<ja.length;n++)r=ja[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ja.length&&(n=ja[0],n.blockedOn===null);)OM(n),n.blockedOn===null&&ja.shift()}var Gc=Ea.ReactCurrentBatchConfig,s0=!0;function a7(t,e,n,r){var i=Wt,s=Gc.transition;Gc.transition=null;try{Wt=1,Tx(t,e,n,r)}finally{Wt=i,Gc.transition=s}}function l7(t,e,n,r){var i=Wt,s=Gc.transition;Gc.transition=null;try{Wt=4,Tx(t,e,n,r)}finally{Wt=i,Gc.transition=s}}function Tx(t,e,n,r){if(s0){var i=i_(t,e,n,r);if(i===null)o1(t,e,r,o0,n),TA(t,r);else if(s7(i,t,e,n,r))r.stopPropagation();else if(TA(t,r),e&4&&-1<i7.indexOf(t)){for(;i!==null;){var s=xp(i);if(s!==null&&IM(s),s=i_(t,e,n,r),s===null&&o1(t,e,r,o0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else o1(t,e,r,null,n)}}var o0=null;function i_(t,e,n,r){if(o0=null,t=Ex(r),t=lu(t),t!==null)if(e=Uu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return o0=t,null}function NM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QF()){case Sx:return 1;case AM:return 4;case r0:case YF:return 16;case PM:return 536870912;default:return 16}default:return 16}}var Za=null,Cx=null,gg=null;function DM(){if(gg)return gg;var t,e=Cx,n=e.length,r,i="value"in Za?Za.value:Za.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gg=i.slice(t,1<r?1-r:void 0)}function yg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ym(){return!0}function IA(){return!1}function Fi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ym:IA,this.isPropagationStopped=IA,this}return mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ym)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ym)},persist:function(){},isPersistent:ym}),e}var Lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ix=Fi(Lh),bp=mn({},Lh,{view:0,detail:0}),u7=Fi(bp),Xv,Jv,yf,Iy=mn({},bp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yf&&(yf&&t.type==="mousemove"?(Xv=t.screenX-yf.screenX,Jv=t.screenY-yf.screenY):Jv=Xv=0,yf=t),Xv)},movementY:function(t){return"movementY"in t?t.movementY:Jv}}),RA=Fi(Iy),c7=mn({},Iy,{dataTransfer:0}),h7=Fi(c7),f7=mn({},bp,{relatedTarget:0}),Zv=Fi(f7),d7=mn({},Lh,{animationName:0,elapsedTime:0,pseudoElement:0}),p7=Fi(d7),m7=mn({},Lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g7=Fi(m7),y7=mn({},Lh,{data:0}),kA=Fi(y7),v7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_7[t])?!!e[t]:!1}function Rx(){return b7}var x7=mn({},bp,{key:function(t){if(t.key){var e=v7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rx,charCode:function(t){return t.type==="keypress"?yg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E7=Fi(x7),S7=mn({},Iy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MA=Fi(S7),A7=mn({},bp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rx}),P7=Fi(A7),T7=mn({},Lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),C7=Fi(T7),I7=mn({},Iy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R7=Fi(I7),k7=[9,13,27,32],kx=ua&&"CompositionEvent"in window,Zf=null;ua&&"documentMode"in document&&(Zf=document.documentMode);var M7=ua&&"TextEvent"in window&&!Zf,LM=ua&&(!kx||Zf&&8<Zf&&11>=Zf),OA=String.fromCharCode(32),NA=!1;function VM(t,e){switch(t){case"keyup":return k7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gc=!1;function O7(t,e){switch(t){case"compositionend":return FM(e);case"keypress":return e.which!==32?null:(NA=!0,OA);case"textInput":return t=e.data,t===OA&&NA?null:t;default:return null}}function N7(t,e){if(gc)return t==="compositionend"||!kx&&VM(t,e)?(t=DM(),gg=Cx=Za=null,gc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LM&&e.locale!=="ko"?null:e.data;default:return null}}var D7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D7[t.type]:e==="textarea"}function BM(t,e,n,r){gM(r),e=a0(e,"onChange"),0<e.length&&(n=new Ix("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ed=null,Id=null;function L7(t){YM(t,0)}function Ry(t){var e=wc(t);if(uM(e))return t}function V7(t,e){if(t==="change")return e}var zM=!1;if(ua){var e1;if(ua){var t1="oninput"in document;if(!t1){var LA=document.createElement("div");LA.setAttribute("oninput","return;"),t1=typeof LA.oninput=="function"}e1=t1}else e1=!1;zM=e1&&(!document.documentMode||9<document.documentMode)}function VA(){ed&&(ed.detachEvent("onpropertychange",jM),Id=ed=null)}function jM(t){if(t.propertyName==="value"&&Ry(Id)){var e=[];BM(e,Id,t,Ex(t)),_M(L7,e)}}function F7(t,e,n){t==="focusin"?(VA(),ed=e,Id=n,ed.attachEvent("onpropertychange",jM)):t==="focusout"&&VA()}function B7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ry(Id)}function z7(t,e){if(t==="click")return Ry(e)}function j7(t,e){if(t==="input"||t==="change")return Ry(e)}function U7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Us=typeof Object.is=="function"?Object.is:U7;function Rd(t,e){if(Us(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zw.call(e,i)||!Us(t[i],e[i]))return!1}return!0}function FA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BA(t,e){var n=FA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FA(n)}}function UM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $M(){for(var t=window,e=e0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=e0(t.document)}return e}function Mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $7(t){var e=$M(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&UM(n.ownerDocument.documentElement,n)){if(r!==null&&Mx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=BA(n,s);var o=BA(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G7=ua&&"documentMode"in document&&11>=document.documentMode,yc=null,s_=null,td=null,o_=!1;function zA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;o_||yc==null||yc!==e0(r)||(r=yc,"selectionStart"in r&&Mx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),td&&Rd(td,r)||(td=r,r=a0(s_,"onSelect"),0<r.length&&(e=new Ix("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yc)))}function vm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vc={animationend:vm("Animation","AnimationEnd"),animationiteration:vm("Animation","AnimationIteration"),animationstart:vm("Animation","AnimationStart"),transitionend:vm("Transition","TransitionEnd")},n1={},GM={};ua&&(GM=document.createElement("div").style,"AnimationEvent"in window||(delete vc.animationend.animation,delete vc.animationiteration.animation,delete vc.animationstart.animation),"TransitionEvent"in window||delete vc.transitionend.transition);function ky(t){if(n1[t])return n1[t];if(!vc[t])return t;var e=vc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GM)return n1[t]=e[n];return t}var HM=ky("animationend"),qM=ky("animationiteration"),WM=ky("animationstart"),KM=ky("transitionend"),QM=new Map,jA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ol(t,e){QM.set(t,e),ju(e,[t])}for(var r1=0;r1<jA.length;r1++){var i1=jA[r1],H7=i1.toLowerCase(),q7=i1[0].toUpperCase()+i1.slice(1);Ol(H7,"on"+q7)}Ol(HM,"onAnimationEnd");Ol(qM,"onAnimationIteration");Ol(WM,"onAnimationStart");Ol("dblclick","onDoubleClick");Ol("focusin","onFocus");Ol("focusout","onBlur");Ol(KM,"onTransitionEnd");oh("onMouseEnter",["mouseout","mouseover"]);oh("onMouseLeave",["mouseout","mouseover"]);oh("onPointerEnter",["pointerout","pointerover"]);oh("onPointerLeave",["pointerout","pointerover"]);ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bf));function UA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HF(r,e,void 0,t),t.currentTarget=null}function YM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;UA(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;UA(i,a,u),s=l}}}if(n0)throw t=t_,n0=!1,t_=null,t}function tn(t,e){var n=e[h_];n===void 0&&(n=e[h_]=new Set);var r=t+"__bubble";n.has(r)||(XM(e,t,2,!1),n.add(r))}function s1(t,e,n){var r=0;e&&(r|=4),XM(n,t,r,e)}var wm="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[wm]){t[wm]=!0,iM.forEach(function(n){n!=="selectionchange"&&(W7.has(n)||s1(n,!1,t),s1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wm]||(e[wm]=!0,s1("selectionchange",!1,e))}}function XM(t,e,n,r){switch(NM(e)){case 1:var i=a7;break;case 4:i=l7;break;default:i=Tx}n=i.bind(null,e,n,t),i=void 0,!e_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function o1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=lu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_M(function(){var u=s,c=Ex(n),h=[];e:{var f=QM.get(t);if(f!==void 0){var p=Ix,m=t;switch(t){case"keypress":if(yg(n)===0)break e;case"keydown":case"keyup":p=E7;break;case"focusin":m="focus",p=Zv;break;case"focusout":m="blur",p=Zv;break;case"beforeblur":case"afterblur":p=Zv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=RA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=h7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=P7;break;case HM:case qM:case WM:p=p7;break;case KM:p=C7;break;case"scroll":p=u7;break;case"wheel":p=R7;break;case"copy":case"cut":case"paste":p=g7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=MA}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var S=u,A;S!==null;){A=S;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,v!==null&&(M=Ad(S,v),M!=null&&w.push(Md(S,M,A)))),x)break;S=S.return}0<w.length&&(f=new p(f,m,null,n,c),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Jw&&(m=n.relatedTarget||n.fromElement)&&(lu(m)||m[ca]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?lu(m):null,m!==null&&(x=Uu(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(w=RA,M="onMouseLeave",v="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=MA,M="onPointerLeave",v="onPointerEnter",S="pointer"),x=p==null?f:wc(p),A=m==null?f:wc(m),f=new w(M,S+"leave",p,n,c),f.target=x,f.relatedTarget=A,M=null,lu(c)===u&&(w=new w(v,S+"enter",m,n,c),w.target=A,w.relatedTarget=x,M=w),x=M,p&&m)t:{for(w=p,v=m,S=0,A=w;A;A=ec(A))S++;for(A=0,M=v;M;M=ec(M))A++;for(;0<S-A;)w=ec(w),S--;for(;0<A-S;)v=ec(v),A--;for(;S--;){if(w===v||v!==null&&w===v.alternate)break t;w=ec(w),v=ec(v)}w=null}else w=null;p!==null&&$A(h,f,p,w,!1),m!==null&&x!==null&&$A(h,x,m,w,!0)}}e:{if(f=u?wc(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var U=V7;else if(DA(f))if(zM)U=j7;else{U=B7;var N=F7}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(U=z7);if(U&&(U=U(t,u))){BM(h,U,n,c);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ww(f,"number",f.value)}switch(N=u?wc(u):window,t){case"focusin":(DA(N)||N.contentEditable==="true")&&(yc=N,s_=u,td=null);break;case"focusout":td=s_=yc=null;break;case"mousedown":o_=!0;break;case"contextmenu":case"mouseup":case"dragend":o_=!1,zA(h,n,c);break;case"selectionchange":if(G7)break;case"keydown":case"keyup":zA(h,n,c)}var D;if(kx)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else gc?VM(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(LM&&n.locale!=="ko"&&(gc||R!=="onCompositionStart"?R==="onCompositionEnd"&&gc&&(D=DM()):(Za=c,Cx="value"in Za?Za.value:Za.textContent,gc=!0)),N=a0(u,R),0<N.length&&(R=new kA(R,t,null,n,c),h.push({event:R,listeners:N}),D?R.data=D:(D=FM(n),D!==null&&(R.data=D)))),(D=M7?O7(t,n):N7(t,n))&&(u=a0(u,"onBeforeInput"),0<u.length&&(c=new kA("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=D))}YM(h,e)})}function Md(t,e,n){return{instance:t,listener:e,currentTarget:n}}function a0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ad(t,n),s!=null&&r.unshift(Md(t,s,i)),s=Ad(t,e),s!=null&&r.push(Md(t,s,i))),t=t.return}return r}function ec(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $A(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ad(n,s),l!=null&&o.unshift(Md(n,l,a))):i||(l=Ad(n,s),l!=null&&o.push(Md(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var K7=/\r\n?/g,Q7=/\u0000|\uFFFD/g;function GA(t){return(typeof t=="string"?t:""+t).replace(K7,`
`).replace(Q7,"")}function _m(t,e,n){if(e=GA(e),GA(t)!==e&&n)throw Error(fe(425))}function l0(){}var a_=null,l_=null;function u_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c_=typeof setTimeout=="function"?setTimeout:void 0,Y7=typeof clearTimeout=="function"?clearTimeout:void 0,HA=typeof Promise=="function"?Promise:void 0,X7=typeof queueMicrotask=="function"?queueMicrotask:typeof HA<"u"?function(t){return HA.resolve(null).then(t).catch(J7)}:c_;function J7(t){setTimeout(function(){throw t})}function a1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cd(e)}function al(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vh=Math.random().toString(36).slice(2),uo="__reactFiber$"+Vh,Od="__reactProps$"+Vh,ca="__reactContainer$"+Vh,h_="__reactEvents$"+Vh,Z7="__reactListeners$"+Vh,eB="__reactHandles$"+Vh;function lu(t){var e=t[uo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ca]||n[uo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qA(t);t!==null;){if(n=t[uo])return n;t=qA(t)}return e}t=n,n=t.parentNode}return null}function xp(t){return t=t[uo]||t[ca],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function My(t){return t[Od]||null}var f_=[],_c=-1;function Nl(t){return{current:t}}function rn(t){0>_c||(t.current=f_[_c],f_[_c]=null,_c--)}function Zt(t,e){_c++,f_[_c]=t.current,t.current=e}var wl={},Ur=Nl(wl),di=Nl(!1),Su=wl;function ah(t,e){var n=t.type.contextTypes;if(!n)return wl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pi(t){return t=t.childContextTypes,t!=null}function u0(){rn(di),rn(Ur)}function WA(t,e,n){if(Ur.current!==wl)throw Error(fe(168));Zt(Ur,e),Zt(di,n)}function JM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,FF(t)||"Unknown",i));return mn({},n,r)}function c0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wl,Su=Ur.current,Zt(Ur,t),Zt(di,di.current),!0}function KA(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=JM(t,e,Su),r.__reactInternalMemoizedMergedChildContext=t,rn(di),rn(Ur),Zt(Ur,t)):rn(di),Zt(di,n)}var Wo=null,Oy=!1,l1=!1;function ZM(t){Wo===null?Wo=[t]:Wo.push(t)}function tB(t){Oy=!0,ZM(t)}function Dl(){if(!l1&&Wo!==null){l1=!0;var t=0,e=Wt;try{var n=Wo;for(Wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wo=null,Oy=!1}catch(i){throw Wo!==null&&(Wo=Wo.slice(t+1)),SM(Sx,Dl),i}finally{Wt=e,l1=!1}}return null}var bc=[],xc=0,h0=null,f0=0,es=[],ts=0,Au=null,Jo=1,Zo="";function Jl(t,e){bc[xc++]=f0,bc[xc++]=h0,h0=t,f0=e}function e4(t,e,n){es[ts++]=Jo,es[ts++]=Zo,es[ts++]=Au,Au=t;var r=Jo;t=Zo;var i=32-Ds(r)-1;r&=~(1<<i),n+=1;var s=32-Ds(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jo=1<<32-Ds(e)+i|n<<i|r,Zo=s+t}else Jo=1<<s|n<<i|r,Zo=t}function Ox(t){t.return!==null&&(Jl(t,1),e4(t,1,0))}function Nx(t){for(;t===h0;)h0=bc[--xc],bc[xc]=null,f0=bc[--xc],bc[xc]=null;for(;t===Au;)Au=es[--ts],es[ts]=null,Zo=es[--ts],es[ts]=null,Jo=es[--ts],es[ts]=null}var Ni=null,ki=null,an=!1,Cs=null;function t4(t,e){var n=is(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ni=t,ki=al(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ni=t,ki=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Au!==null?{id:Jo,overflow:Zo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=is(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ni=t,ki=null,!0):!1;default:return!1}}function d_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p_(t){if(an){var e=ki;if(e){var n=e;if(!QA(t,e)){if(d_(t))throw Error(fe(418));e=al(n.nextSibling);var r=Ni;e&&QA(t,e)?t4(r,n):(t.flags=t.flags&-4097|2,an=!1,Ni=t)}}else{if(d_(t))throw Error(fe(418));t.flags=t.flags&-4097|2,an=!1,Ni=t}}}function YA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ni=t}function bm(t){if(t!==Ni)return!1;if(!an)return YA(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!u_(t.type,t.memoizedProps)),e&&(e=ki)){if(d_(t))throw n4(),Error(fe(418));for(;e;)t4(t,e),e=al(e.nextSibling)}if(YA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ki=al(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ki=null}}else ki=Ni?al(t.stateNode.nextSibling):null;return!0}function n4(){for(var t=ki;t;)t=al(t.nextSibling)}function lh(){ki=Ni=null,an=!1}function Dx(t){Cs===null?Cs=[t]:Cs.push(t)}var nB=Ea.ReactCurrentBatchConfig;function vf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function xm(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function XA(t){var e=t._init;return e(t._payload)}function r4(t){function e(v,S){if(t){var A=v.deletions;A===null?(v.deletions=[S],v.flags|=16):A.push(S)}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function r(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function i(v,S){return v=hl(v,S),v.index=0,v.sibling=null,v}function s(v,S,A){return v.index=A,t?(A=v.alternate,A!==null?(A=A.index,A<S?(v.flags|=2,S):A):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,S,A,M){return S===null||S.tag!==6?(S=m1(A,v.mode,M),S.return=v,S):(S=i(S,A),S.return=v,S)}function l(v,S,A,M){var U=A.type;return U===mc?c(v,S,A.props.children,M,A.key):S!==null&&(S.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Fa&&XA(U)===S.type)?(M=i(S,A.props),M.ref=vf(v,S,A),M.return=v,M):(M=Sg(A.type,A.key,A.props,null,v.mode,M),M.ref=vf(v,S,A),M.return=v,M)}function u(v,S,A,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=g1(A,v.mode,M),S.return=v,S):(S=i(S,A.children||[]),S.return=v,S)}function c(v,S,A,M,U){return S===null||S.tag!==7?(S=bu(A,v.mode,M,U),S.return=v,S):(S=i(S,A),S.return=v,S)}function h(v,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=m1(""+S,v.mode,A),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case hm:return A=Sg(S.type,S.key,S.props,null,v.mode,A),A.ref=vf(v,null,S),A.return=v,A;case pc:return S=g1(S,v.mode,A),S.return=v,S;case Fa:var M=S._init;return h(v,M(S._payload),A)}if(Vf(S)||df(S))return S=bu(S,v.mode,A,null),S.return=v,S;xm(v,S)}return null}function f(v,S,A,M){var U=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return U!==null?null:a(v,S,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hm:return A.key===U?l(v,S,A,M):null;case pc:return A.key===U?u(v,S,A,M):null;case Fa:return U=A._init,f(v,S,U(A._payload),M)}if(Vf(A)||df(A))return U!==null?null:c(v,S,A,M,null);xm(v,A)}return null}function p(v,S,A,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(A)||null,a(S,v,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case hm:return v=v.get(M.key===null?A:M.key)||null,l(S,v,M,U);case pc:return v=v.get(M.key===null?A:M.key)||null,u(S,v,M,U);case Fa:var N=M._init;return p(v,S,A,N(M._payload),U)}if(Vf(M)||df(M))return v=v.get(A)||null,c(S,v,M,U,null);xm(S,M)}return null}function m(v,S,A,M){for(var U=null,N=null,D=S,R=S=0,L=null;D!==null&&R<A.length;R++){D.index>R?(L=D,D=null):L=D.sibling;var z=f(v,D,A[R],M);if(z===null){D===null&&(D=L);break}t&&D&&z.alternate===null&&e(v,D),S=s(z,S,R),N===null?U=z:N.sibling=z,N=z,D=L}if(R===A.length)return n(v,D),an&&Jl(v,R),U;if(D===null){for(;R<A.length;R++)D=h(v,A[R],M),D!==null&&(S=s(D,S,R),N===null?U=D:N.sibling=D,N=D);return an&&Jl(v,R),U}for(D=r(v,D);R<A.length;R++)L=p(D,v,R,A[R],M),L!==null&&(t&&L.alternate!==null&&D.delete(L.key===null?R:L.key),S=s(L,S,R),N===null?U=L:N.sibling=L,N=L);return t&&D.forEach(function(G){return e(v,G)}),an&&Jl(v,R),U}function w(v,S,A,M){var U=df(A);if(typeof U!="function")throw Error(fe(150));if(A=U.call(A),A==null)throw Error(fe(151));for(var N=U=null,D=S,R=S=0,L=null,z=A.next();D!==null&&!z.done;R++,z=A.next()){D.index>R?(L=D,D=null):L=D.sibling;var G=f(v,D,z.value,M);if(G===null){D===null&&(D=L);break}t&&D&&G.alternate===null&&e(v,D),S=s(G,S,R),N===null?U=G:N.sibling=G,N=G,D=L}if(z.done)return n(v,D),an&&Jl(v,R),U;if(D===null){for(;!z.done;R++,z=A.next())z=h(v,z.value,M),z!==null&&(S=s(z,S,R),N===null?U=z:N.sibling=z,N=z);return an&&Jl(v,R),U}for(D=r(v,D);!z.done;R++,z=A.next())z=p(D,v,R,z.value,M),z!==null&&(t&&z.alternate!==null&&D.delete(z.key===null?R:z.key),S=s(z,S,R),N===null?U=z:N.sibling=z,N=z);return t&&D.forEach(function(W){return e(v,W)}),an&&Jl(v,R),U}function x(v,S,A,M){if(typeof A=="object"&&A!==null&&A.type===mc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case hm:e:{for(var U=A.key,N=S;N!==null;){if(N.key===U){if(U=A.type,U===mc){if(N.tag===7){n(v,N.sibling),S=i(N,A.props.children),S.return=v,v=S;break e}}else if(N.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Fa&&XA(U)===N.type){n(v,N.sibling),S=i(N,A.props),S.ref=vf(v,N,A),S.return=v,v=S;break e}n(v,N);break}else e(v,N);N=N.sibling}A.type===mc?(S=bu(A.props.children,v.mode,M,A.key),S.return=v,v=S):(M=Sg(A.type,A.key,A.props,null,v.mode,M),M.ref=vf(v,S,A),M.return=v,v=M)}return o(v);case pc:e:{for(N=A.key;S!==null;){if(S.key===N)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){n(v,S.sibling),S=i(S,A.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=g1(A,v.mode,M),S.return=v,v=S}return o(v);case Fa:return N=A._init,x(v,S,N(A._payload),M)}if(Vf(A))return m(v,S,A,M);if(df(A))return w(v,S,A,M);xm(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(n(v,S.sibling),S=i(S,A),S.return=v,v=S):(n(v,S),S=m1(A,v.mode,M),S.return=v,v=S),o(v)):n(v,S)}return x}var uh=r4(!0),i4=r4(!1),d0=Nl(null),p0=null,Ec=null,Lx=null;function Vx(){Lx=Ec=p0=null}function Fx(t){var e=d0.current;rn(d0),t._currentValue=e}function m_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hc(t,e){p0=t,Lx=Ec=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hi=!0),t.firstContext=null)}function ls(t){var e=t._currentValue;if(Lx!==t)if(t={context:t,memoizedValue:e,next:null},Ec===null){if(p0===null)throw Error(fe(308));Ec=t,p0.dependencies={lanes:0,firstContext:t}}else Ec=Ec.next=t;return e}var uu=null;function Bx(t){uu===null?uu=[t]:uu.push(t)}function s4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bx(e)):(n.next=i.next,i.next=n),e.interleaved=n,ha(t,r)}function ha(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ba=!1;function zx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ll(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ot&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ha(t,n)}return i=r.interleaved,i===null?(e.next=e,Bx(r)):(e.next=i.next,i.next=e),r.interleaved=e,ha(t,n)}function vg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ax(t,n)}}function JA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function m0(t,e,n,r){var i=t.updateQueue;Ba=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(f=e,p=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=mn({},h,f);break e;case 2:Ba=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Tu|=o,t.lanes=o,t.memoizedState=h}}function ZA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var Ep={},go=Nl(Ep),Nd=Nl(Ep),Dd=Nl(Ep);function cu(t){if(t===Ep)throw Error(fe(174));return t}function jx(t,e){switch(Zt(Dd,e),Zt(Nd,t),Zt(go,Ep),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qw(e,t)}rn(go),Zt(go,e)}function ch(){rn(go),rn(Nd),rn(Dd)}function a4(t){cu(Dd.current);var e=cu(go.current),n=Qw(e,t.type);e!==n&&(Zt(Nd,t),Zt(go,n))}function Ux(t){Nd.current===t&&(rn(go),rn(Nd))}var fn=Nl(0);function g0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var u1=[];function $x(){for(var t=0;t<u1.length;t++)u1[t]._workInProgressVersionPrimary=null;u1.length=0}var wg=Ea.ReactCurrentDispatcher,c1=Ea.ReactCurrentBatchConfig,Pu=0,pn=null,qn=null,nr=null,y0=!1,nd=!1,Ld=0,rB=0;function Rr(){throw Error(fe(321))}function Gx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Us(t[n],e[n]))return!1;return!0}function Hx(t,e,n,r,i,s){if(Pu=s,pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wg.current=t===null||t.memoizedState===null?aB:lB,t=n(r,i),nd){s=0;do{if(nd=!1,Ld=0,25<=s)throw Error(fe(301));s+=1,nr=qn=null,e.updateQueue=null,wg.current=uB,t=n(r,i)}while(nd)}if(wg.current=v0,e=qn!==null&&qn.next!==null,Pu=0,nr=qn=pn=null,y0=!1,e)throw Error(fe(300));return t}function qx(){var t=Ld!==0;return Ld=0,t}function no(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?pn.memoizedState=nr=t:nr=nr.next=t,nr}function us(){if(qn===null){var t=pn.alternate;t=t!==null?t.memoizedState:null}else t=qn.next;var e=nr===null?pn.memoizedState:nr.next;if(e!==null)nr=e,qn=t;else{if(t===null)throw Error(fe(310));qn=t,t={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},nr===null?pn.memoizedState=nr=t:nr=nr.next=t}return nr}function Vd(t,e){return typeof e=="function"?e(t):e}function h1(t){var e=us(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=qn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Pu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,pn.lanes|=c,Tu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Us(r,e.memoizedState)||(hi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pn.lanes|=s,Tu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function f1(t){var e=us(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Us(s,e.memoizedState)||(hi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function l4(){}function u4(t,e){var n=pn,r=us(),i=e(),s=!Us(r.memoizedState,i);if(s&&(r.memoizedState=i,hi=!0),r=r.queue,Wx(f4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nr!==null&&nr.memoizedState.tag&1){if(n.flags|=2048,Fd(9,h4.bind(null,n,r,i,e),void 0,null),or===null)throw Error(fe(349));Pu&30||c4(n,e,i)}return i}function c4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function h4(t,e,n,r){e.value=n,e.getSnapshot=r,d4(e)&&p4(t)}function f4(t,e,n){return n(function(){d4(e)&&p4(t)})}function d4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Us(t,n)}catch{return!0}}function p4(t){var e=ha(t,1);e!==null&&Ls(e,t,1,-1)}function eP(t){var e=no();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:t},e.queue=t,t=t.dispatch=oB.bind(null,pn,t),[e.memoizedState,t]}function Fd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function m4(){return us().memoizedState}function _g(t,e,n,r){var i=no();pn.flags|=t,i.memoizedState=Fd(1|e,n,void 0,r===void 0?null:r)}function Ny(t,e,n,r){var i=us();r=r===void 0?null:r;var s=void 0;if(qn!==null){var o=qn.memoizedState;if(s=o.destroy,r!==null&&Gx(r,o.deps)){i.memoizedState=Fd(e,n,s,r);return}}pn.flags|=t,i.memoizedState=Fd(1|e,n,s,r)}function tP(t,e){return _g(8390656,8,t,e)}function Wx(t,e){return Ny(2048,8,t,e)}function g4(t,e){return Ny(4,2,t,e)}function y4(t,e){return Ny(4,4,t,e)}function v4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w4(t,e,n){return n=n!=null?n.concat([t]):null,Ny(4,4,v4.bind(null,e,t),n)}function Kx(){}function _4(t,e){var n=us();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b4(t,e){var n=us();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function x4(t,e,n){return Pu&21?(Us(n,e)||(n=TM(),pn.lanes|=n,Tu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hi=!0),t.memoizedState=n)}function iB(t,e){var n=Wt;Wt=n!==0&&4>n?n:4,t(!0);var r=c1.transition;c1.transition={};try{t(!1),e()}finally{Wt=n,c1.transition=r}}function E4(){return us().memoizedState}function sB(t,e,n){var r=cl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S4(t))A4(e,n);else if(n=s4(t,e,n,r),n!==null){var i=Qr();Ls(n,t,r,i),P4(n,e,r)}}function oB(t,e,n){var r=cl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S4(t))A4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Us(a,o)){var l=e.interleaved;l===null?(i.next=i,Bx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=s4(t,e,i,r),n!==null&&(i=Qr(),Ls(n,t,r,i),P4(n,e,r))}}function S4(t){var e=t.alternate;return t===pn||e!==null&&e===pn}function A4(t,e){nd=y0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ax(t,n)}}var v0={readContext:ls,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},aB={readContext:ls,useCallback:function(t,e){return no().memoizedState=[t,e===void 0?null:e],t},useContext:ls,useEffect:tP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_g(4194308,4,v4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _g(4194308,4,t,e)},useInsertionEffect:function(t,e){return _g(4,2,t,e)},useMemo:function(t,e){var n=no();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=no();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sB.bind(null,pn,t),[r.memoizedState,t]},useRef:function(t){var e=no();return t={current:t},e.memoizedState=t},useState:eP,useDebugValue:Kx,useDeferredValue:function(t){return no().memoizedState=t},useTransition:function(){var t=eP(!1),e=t[0];return t=iB.bind(null,t[1]),no().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pn,i=no();if(an){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),or===null)throw Error(fe(349));Pu&30||c4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tP(f4.bind(null,r,s,t),[t]),r.flags|=2048,Fd(9,h4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=no(),e=or.identifierPrefix;if(an){var n=Zo,r=Jo;n=(r&~(1<<32-Ds(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ld++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lB={readContext:ls,useCallback:_4,useContext:ls,useEffect:Wx,useImperativeHandle:w4,useInsertionEffect:g4,useLayoutEffect:y4,useMemo:b4,useReducer:h1,useRef:m4,useState:function(){return h1(Vd)},useDebugValue:Kx,useDeferredValue:function(t){var e=us();return x4(e,qn.memoizedState,t)},useTransition:function(){var t=h1(Vd)[0],e=us().memoizedState;return[t,e]},useMutableSource:l4,useSyncExternalStore:u4,useId:E4,unstable_isNewReconciler:!1},uB={readContext:ls,useCallback:_4,useContext:ls,useEffect:Wx,useImperativeHandle:w4,useInsertionEffect:g4,useLayoutEffect:y4,useMemo:b4,useReducer:f1,useRef:m4,useState:function(){return f1(Vd)},useDebugValue:Kx,useDeferredValue:function(t){var e=us();return qn===null?e.memoizedState=t:x4(e,qn.memoizedState,t)},useTransition:function(){var t=f1(Vd)[0],e=us().memoizedState;return[t,e]},useMutableSource:l4,useSyncExternalStore:u4,useId:E4,unstable_isNewReconciler:!1};function Es(t,e){if(t&&t.defaultProps){e=mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function g_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dy={isMounted:function(t){return(t=t._reactInternals)?Uu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=cl(t),s=sa(r,i);s.payload=e,n!=null&&(s.callback=n),e=ll(t,s,i),e!==null&&(Ls(e,t,i,r),vg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=cl(t),s=sa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ll(t,s,i),e!==null&&(Ls(e,t,i,r),vg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qr(),r=cl(t),i=sa(n,r);i.tag=2,e!=null&&(i.callback=e),e=ll(t,i,r),e!==null&&(Ls(e,t,r,n),vg(e,t,r))}};function nP(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rd(n,r)||!Rd(i,s):!0}function T4(t,e,n){var r=!1,i=wl,s=e.contextType;return typeof s=="object"&&s!==null?s=ls(s):(i=pi(e)?Su:Ur.current,r=e.contextTypes,s=(r=r!=null)?ah(t,i):wl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dy.enqueueReplaceState(e,e.state,null)}function y_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ls(s):(s=pi(e)?Su:Ur.current,i.context=ah(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(g_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dy.enqueueReplaceState(i,i.state,null),m0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hh(t,e){try{var n="",r=e;do n+=VF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function d1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function v_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cB=typeof WeakMap=="function"?WeakMap:Map;function C4(t,e,n){n=sa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_0||(_0=!0,C_=r),v_(t,e)},n}function I4(t,e,n){n=sa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){v_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){v_(t,e),typeof r!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=SB.bind(null,t,e,n),e.then(t,t))}function sP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sa(-1,1),e.tag=2,ll(n,e,1))),n.lanes|=1),t)}var hB=Ea.ReactCurrentOwner,hi=!1;function Hr(t,e,n,r){e.child=t===null?i4(e,null,n,r):uh(e,t.child,n,r)}function aP(t,e,n,r,i){n=n.render;var s=e.ref;return Hc(e,i),r=Hx(t,e,n,r,s,i),n=qx(),t!==null&&!hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fa(t,e,i)):(an&&n&&Ox(e),e.flags|=1,Hr(t,e,r,i),e.child)}function lP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!nE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,R4(t,e,s,r,i)):(t=Sg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rd,n(o,r)&&t.ref===e.ref)return fa(t,e,i)}return e.flags|=1,t=hl(s,r),t.ref=e.ref,t.return=e,e.child=t}function R4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rd(s,r)&&t.ref===e.ref)if(hi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hi=!0);else return e.lanes=t.lanes,fa(t,e,i)}return w_(t,e,n,r,i)}function k4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Ac,Ai),Ai|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(Ac,Ai),Ai|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Zt(Ac,Ai),Ai|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Zt(Ac,Ai),Ai|=r;return Hr(t,e,i,n),e.child}function M4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function w_(t,e,n,r,i){var s=pi(n)?Su:Ur.current;return s=ah(e,s),Hc(e,i),n=Hx(t,e,n,r,s,i),r=qx(),t!==null&&!hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fa(t,e,i)):(an&&r&&Ox(e),e.flags|=1,Hr(t,e,n,i),e.child)}function uP(t,e,n,r,i){if(pi(n)){var s=!0;c0(e)}else s=!1;if(Hc(e,i),e.stateNode===null)bg(t,e),T4(e,n,r),y_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ls(u):(u=pi(n)?Su:Ur.current,u=ah(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&rP(e,o,r,u),Ba=!1;var f=e.memoizedState;o.state=f,m0(e,r,o,i),l=e.memoizedState,a!==r||f!==l||di.current||Ba?(typeof c=="function"&&(g_(e,n,c,r),l=e.memoizedState),(a=Ba||nP(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,o4(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Es(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ls(l):(l=pi(n)?Su:Ur.current,l=ah(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&rP(e,o,r,l),Ba=!1,f=e.memoizedState,o.state=f,m0(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||di.current||Ba?(typeof p=="function"&&(g_(e,n,p,r),m=e.memoizedState),(u=Ba||nP(e,n,u,r,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return __(t,e,n,r,s,i)}function __(t,e,n,r,i,s){M4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&KA(e,n,!1),fa(t,e,s);r=e.stateNode,hB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=uh(e,t.child,null,s),e.child=uh(e,null,a,s)):Hr(t,e,a,s),e.memoizedState=r.state,i&&KA(e,n,!0),e.child}function O4(t){var e=t.stateNode;e.pendingContext?WA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WA(t,e.context,!1),jx(t,e.containerInfo)}function cP(t,e,n,r,i){return lh(),Dx(i),e.flags|=256,Hr(t,e,n,r),e.child}var b_={dehydrated:null,treeContext:null,retryLane:0};function x_(t){return{baseLanes:t,cachePool:null,transitions:null}}function N4(t,e,n){var r=e.pendingProps,i=fn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zt(fn,i&1),t===null)return p_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fy(o,r,0,null),t=bu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=x_(n),e.memoizedState=b_,t):Qx(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fB(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hl(a,s):(s=bu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?x_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=b_,r}return s=t.child,t=s.sibling,r=hl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qx(t,e){return e=Fy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Em(t,e,n,r){return r!==null&&Dx(r),uh(e,t.child,null,n),t=Qx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fB(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=d1(Error(fe(422))),Em(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fy({mode:"visible",children:r.children},i,0,null),s=bu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&uh(e,t.child,null,o),e.child.memoizedState=x_(o),e.memoizedState=b_,s);if(!(e.mode&1))return Em(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(fe(419)),r=d1(s,r,void 0),Em(t,e,o,r)}if(a=(o&t.childLanes)!==0,hi||a){if(r=or,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ha(t,i),Ls(r,t,i,-1))}return tE(),r=d1(Error(fe(421))),Em(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AB.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ki=al(i.nextSibling),Ni=e,an=!0,Cs=null,t!==null&&(es[ts++]=Jo,es[ts++]=Zo,es[ts++]=Au,Jo=t.id,Zo=t.overflow,Au=e),e=Qx(e,r.children),e.flags|=4096,e)}function hP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),m_(t.return,e,n)}function p1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function D4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Hr(t,e,r.children,n),r=fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hP(t,n,e);else if(t.tag===19)hP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zt(fn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&g0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),p1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&g0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}p1(e,!0,n,null,s);break;case"together":p1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=hl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dB(t,e,n){switch(e.tag){case 3:O4(e),lh();break;case 5:a4(e);break;case 1:pi(e.type)&&c0(e);break;case 4:jx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(d0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(fn,fn.current&1),e.flags|=128,null):n&e.child.childLanes?N4(t,e,n):(Zt(fn,fn.current&1),t=fa(t,e,n),t!==null?t.sibling:null);Zt(fn,fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(fn,fn.current),r)break;return null;case 22:case 23:return e.lanes=0,k4(t,e,n)}return fa(t,e,n)}var L4,E_,V4,F4;L4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E_=function(){};V4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cu(go.current);var s=null;switch(n){case"input":i=Hw(t,i),r=Hw(t,r),s=[];break;case"select":i=mn({},i,{value:void 0}),r=mn({},r,{value:void 0}),s=[];break;case"textarea":i=Kw(t,i),r=Kw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=l0)}Yw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ed.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ed.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};F4=function(t,e,n,r){n!==r&&(e.flags|=4)};function wf(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pB(t,e,n){var r=e.pendingProps;switch(Nx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(e),null;case 1:return pi(e.type)&&u0(),kr(e),null;case 3:return r=e.stateNode,ch(),rn(di),rn(Ur),$x(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cs!==null&&(k_(Cs),Cs=null))),E_(t,e),kr(e),null;case 5:Ux(e);var i=cu(Dd.current);if(n=e.type,t!==null&&e.stateNode!=null)V4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return kr(e),null}if(t=cu(go.current),bm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[uo]=e,r[Od]=s,t=(e.mode&1)!==0,n){case"dialog":tn("cancel",r),tn("close",r);break;case"iframe":case"object":case"embed":tn("load",r);break;case"video":case"audio":for(i=0;i<Bf.length;i++)tn(Bf[i],r);break;case"source":tn("error",r);break;case"img":case"image":case"link":tn("error",r),tn("load",r);break;case"details":tn("toggle",r);break;case"input":_A(r,s),tn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tn("invalid",r);break;case"textarea":xA(r,s),tn("invalid",r)}Yw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_m(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_m(r.textContent,a,t),i=["children",""+a]):Ed.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tn("scroll",r)}switch(n){case"input":fm(r),bA(r,s,!0);break;case"textarea":fm(r),EA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=l0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[uo]=e,t[Od]=r,L4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xw(n,r),n){case"dialog":tn("cancel",t),tn("close",t),i=r;break;case"iframe":case"object":case"embed":tn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bf.length;i++)tn(Bf[i],t);i=r;break;case"source":tn("error",t),i=r;break;case"img":case"image":case"link":tn("error",t),tn("load",t),i=r;break;case"details":tn("toggle",t),i=r;break;case"input":_A(t,r),i=Hw(t,r),tn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mn({},r,{value:void 0}),tn("invalid",t);break;case"textarea":xA(t,r),i=Kw(t,r),tn("invalid",t);break;default:i=r}Yw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?mM(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dM(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sd(t,l):typeof l=="number"&&Sd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ed.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tn("scroll",t):l!=null&&wx(t,s,l,o))}switch(n){case"input":fm(t),bA(t,r,!1);break;case"textarea":fm(t),EA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?jc(t,!!r.multiple,s,!1):r.defaultValue!=null&&jc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=l0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kr(e),null;case 6:if(t&&e.stateNode!=null)F4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=cu(Dd.current),cu(go.current),bm(e)){if(r=e.stateNode,n=e.memoizedProps,r[uo]=e,(s=r.nodeValue!==n)&&(t=Ni,t!==null))switch(t.tag){case 3:_m(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_m(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[uo]=e,e.stateNode=r}return kr(e),null;case 13:if(rn(fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&ki!==null&&e.mode&1&&!(e.flags&128))n4(),lh(),e.flags|=98560,s=!1;else if(s=bm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[uo]=e}else lh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kr(e),s=!1}else Cs!==null&&(k_(Cs),Cs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fn.current&1?Kn===0&&(Kn=3):tE())),e.updateQueue!==null&&(e.flags|=4),kr(e),null);case 4:return ch(),E_(t,e),t===null&&kd(e.stateNode.containerInfo),kr(e),null;case 10:return Fx(e.type._context),kr(e),null;case 17:return pi(e.type)&&u0(),kr(e),null;case 19:if(rn(fn),s=e.memoizedState,s===null)return kr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)wf(s,!1);else{if(Kn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=g0(t),o!==null){for(e.flags|=128,wf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zt(fn,fn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tn()>fh&&(e.flags|=128,r=!0,wf(s,!1),e.lanes=4194304)}else{if(!r)if(t=g0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!an)return kr(e),null}else 2*Tn()-s.renderingStartTime>fh&&n!==1073741824&&(e.flags|=128,r=!0,wf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tn(),e.sibling=null,n=fn.current,Zt(fn,r?n&1|2:n&1),e):(kr(e),null);case 22:case 23:return eE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ai&1073741824&&(kr(e),e.subtreeFlags&6&&(e.flags|=8192)):kr(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function mB(t,e){switch(Nx(e),e.tag){case 1:return pi(e.type)&&u0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ch(),rn(di),rn(Ur),$x(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ux(e),null;case 13:if(rn(fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));lh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rn(fn),null;case 4:return ch(),null;case 10:return Fx(e.type._context),null;case 22:case 23:return eE(),null;case 24:return null;default:return null}}var Sm=!1,Lr=!1,gB=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Sc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){En(t,e,r)}else n.current=null}function S_(t,e,n){try{n()}catch(r){En(t,e,r)}}var fP=!1;function yB(t,e){if(a_=s0,t=$M(),Mx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(l_={focusedElem:t,selectionRange:n},s0=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,x=m.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Es(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(M){En(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return m=fP,fP=!1,m}function rd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&S_(e,n,s)}i=i.next}while(i!==r)}}function Ly(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function A_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function B4(t){var e=t.alternate;e!==null&&(t.alternate=null,B4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[uo],delete e[Od],delete e[h_],delete e[Z7],delete e[eB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z4(t){return t.tag===5||t.tag===3||t.tag===4}function dP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function P_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=l0));else if(r!==4&&(t=t.child,t!==null))for(P_(t,e,n),t=t.sibling;t!==null;)P_(t,e,n),t=t.sibling}function T_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T_(t,e,n),t=t.sibling;t!==null;)T_(t,e,n),t=t.sibling}var fr=null,Ts=!1;function ka(t,e,n){for(n=n.child;n!==null;)j4(t,e,n),n=n.sibling}function j4(t,e,n){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(Cy,n)}catch{}switch(n.tag){case 5:Lr||Sc(n,e);case 6:var r=fr,i=Ts;fr=null,ka(t,e,n),fr=r,Ts=i,fr!==null&&(Ts?(t=fr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fr.removeChild(n.stateNode));break;case 18:fr!==null&&(Ts?(t=fr,n=n.stateNode,t.nodeType===8?a1(t.parentNode,n):t.nodeType===1&&a1(t,n),Cd(t)):a1(fr,n.stateNode));break;case 4:r=fr,i=Ts,fr=n.stateNode.containerInfo,Ts=!0,ka(t,e,n),fr=r,Ts=i;break;case 0:case 11:case 14:case 15:if(!Lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&S_(n,e,o),i=i.next}while(i!==r)}ka(t,e,n);break;case 1:if(!Lr&&(Sc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){En(n,e,a)}ka(t,e,n);break;case 21:ka(t,e,n);break;case 22:n.mode&1?(Lr=(r=Lr)||n.memoizedState!==null,ka(t,e,n),Lr=r):ka(t,e,n);break;default:ka(t,e,n)}}function pP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gB),e.forEach(function(r){var i=PB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:fr=a.stateNode,Ts=!1;break e;case 3:fr=a.stateNode.containerInfo,Ts=!0;break e;case 4:fr=a.stateNode.containerInfo,Ts=!0;break e}a=a.return}if(fr===null)throw Error(fe(160));j4(s,o,i),fr=null,Ts=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){En(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U4(e,t),e=e.sibling}function U4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vs(e,t),eo(t),r&4){try{rd(3,t,t.return),Ly(3,t)}catch(w){En(t,t.return,w)}try{rd(5,t,t.return)}catch(w){En(t,t.return,w)}}break;case 1:vs(e,t),eo(t),r&512&&n!==null&&Sc(n,n.return);break;case 5:if(vs(e,t),eo(t),r&512&&n!==null&&Sc(n,n.return),t.flags&32){var i=t.stateNode;try{Sd(i,"")}catch(w){En(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cM(i,s),Xw(a,o);var u=Xw(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?mM(i,h):c==="dangerouslySetInnerHTML"?dM(i,h):c==="children"?Sd(i,h):wx(i,c,h,u)}switch(a){case"input":qw(i,s);break;case"textarea":hM(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?jc(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?jc(i,!!s.multiple,s.defaultValue,!0):jc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Od]=s}catch(w){En(t,t.return,w)}}break;case 6:if(vs(e,t),eo(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){En(t,t.return,w)}}break;case 3:if(vs(e,t),eo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cd(e.containerInfo)}catch(w){En(t,t.return,w)}break;case 4:vs(e,t),eo(t);break;case 13:vs(e,t),eo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jx=Tn())),r&4&&pP(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Lr=(u=Lr)||c,vs(e,t),Lr=u):vs(e,t),eo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Oe=t,c=t.child;c!==null;){for(h=Oe=c;Oe!==null;){switch(f=Oe,p=f.child,f.tag){case 0:case 11:case 14:case 15:rd(4,f,f.return);break;case 1:Sc(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){En(r,n,w)}}break;case 5:Sc(f,f.return);break;case 22:if(f.memoizedState!==null){gP(h);continue}}p!==null?(p.return=f,Oe=p):gP(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pM("display",o))}catch(w){En(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){En(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(e,t),eo(t),r&4&&pP(t);break;case 21:break;default:vs(e,t),eo(t)}}function eo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z4(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sd(i,""),r.flags&=-33);var s=dP(t);T_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dP(t);P_(t,a,o);break;default:throw Error(fe(161))}}catch(l){En(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vB(t,e,n){Oe=t,$4(t)}function $4(t,e,n){for(var r=(t.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lr;a=Sm;var u=Lr;if(Sm=o,(Lr=l)&&!u)for(Oe=i;Oe!==null;)o=Oe,l=o.child,o.tag===22&&o.memoizedState!==null?yP(i):l!==null?(l.return=o,Oe=l):yP(i);for(;s!==null;)Oe=s,$4(s),s=s.sibling;Oe=i,Sm=a,Lr=u}mP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Oe=s):mP(t)}}function mP(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lr||Ly(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Es(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ZA(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ZA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Cd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Lr||e.flags&512&&A_(e)}catch(f){En(e,e.return,f)}}if(e===t){Oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function gP(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function yP(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ly(4,e)}catch(l){En(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){En(e,i,l)}}var s=e.return;try{A_(e)}catch(l){En(e,s,l)}break;case 5:var o=e.return;try{A_(e)}catch(l){En(e,o,l)}}}catch(l){En(e,e.return,l)}if(e===t){Oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Oe=a;break}Oe=e.return}}var wB=Math.ceil,w0=Ea.ReactCurrentDispatcher,Yx=Ea.ReactCurrentOwner,os=Ea.ReactCurrentBatchConfig,Ot=0,or=null,Bn=null,vr=0,Ai=0,Ac=Nl(0),Kn=0,Bd=null,Tu=0,Vy=0,Xx=0,id=null,li=null,Jx=0,fh=1/0,Go=null,_0=!1,C_=null,ul=null,Am=!1,el=null,b0=0,sd=0,I_=null,xg=-1,Eg=0;function Qr(){return Ot&6?Tn():xg!==-1?xg:xg=Tn()}function cl(t){return t.mode&1?Ot&2&&vr!==0?vr&-vr:nB.transition!==null?(Eg===0&&(Eg=TM()),Eg):(t=Wt,t!==0||(t=window.event,t=t===void 0?16:NM(t.type)),t):1}function Ls(t,e,n,r){if(50<sd)throw sd=0,I_=null,Error(fe(185));_p(t,n,r),(!(Ot&2)||t!==or)&&(t===or&&(!(Ot&2)&&(Vy|=n),Kn===4&&Ua(t,vr)),mi(t,r),n===1&&Ot===0&&!(e.mode&1)&&(fh=Tn()+500,Oy&&Dl()))}function mi(t,e){var n=t.callbackNode;n7(t,e);var r=i0(t,t===or?vr:0);if(r===0)n!==null&&PA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&PA(n),e===1)t.tag===0?tB(vP.bind(null,t)):ZM(vP.bind(null,t)),X7(function(){!(Ot&6)&&Dl()}),n=null;else{switch(CM(r)){case 1:n=Sx;break;case 4:n=AM;break;case 16:n=r0;break;case 536870912:n=PM;break;default:n=r0}n=X4(n,G4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G4(t,e){if(xg=-1,Eg=0,Ot&6)throw Error(fe(327));var n=t.callbackNode;if(qc()&&t.callbackNode!==n)return null;var r=i0(t,t===or?vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=x0(t,r);else{e=r;var i=Ot;Ot|=2;var s=q4();(or!==t||vr!==e)&&(Go=null,fh=Tn()+500,_u(t,e));do try{xB();break}catch(a){H4(t,a)}while(1);Vx(),w0.current=s,Ot=i,Bn!==null?e=0:(or=null,vr=0,e=Kn)}if(e!==0){if(e===2&&(i=n_(t),i!==0&&(r=i,e=R_(t,i))),e===1)throw n=Bd,_u(t,0),Ua(t,r),mi(t,Tn()),n;if(e===6)Ua(t,r);else{if(i=t.current.alternate,!(r&30)&&!_B(i)&&(e=x0(t,r),e===2&&(s=n_(t),s!==0&&(r=s,e=R_(t,s))),e===1))throw n=Bd,_u(t,0),Ua(t,r),mi(t,Tn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Zl(t,li,Go);break;case 3:if(Ua(t,r),(r&130023424)===r&&(e=Jx+500-Tn(),10<e)){if(i0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c_(Zl.bind(null,t,li,Go),e);break}Zl(t,li,Go);break;case 4:if(Ua(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ds(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wB(r/1960))-r,10<r){t.timeoutHandle=c_(Zl.bind(null,t,li,Go),r);break}Zl(t,li,Go);break;case 5:Zl(t,li,Go);break;default:throw Error(fe(329))}}}return mi(t,Tn()),t.callbackNode===n?G4.bind(null,t):null}function R_(t,e){var n=id;return t.current.memoizedState.isDehydrated&&(_u(t,e).flags|=256),t=x0(t,e),t!==2&&(e=li,li=n,e!==null&&k_(e)),t}function k_(t){li===null?li=t:li.push.apply(li,t)}function _B(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Us(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ua(t,e){for(e&=~Xx,e&=~Vy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ds(e),r=1<<n;t[n]=-1,e&=~r}}function vP(t){if(Ot&6)throw Error(fe(327));qc();var e=i0(t,0);if(!(e&1))return mi(t,Tn()),null;var n=x0(t,e);if(t.tag!==0&&n===2){var r=n_(t);r!==0&&(e=r,n=R_(t,r))}if(n===1)throw n=Bd,_u(t,0),Ua(t,e),mi(t,Tn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zl(t,li,Go),mi(t,Tn()),null}function Zx(t,e){var n=Ot;Ot|=1;try{return t(e)}finally{Ot=n,Ot===0&&(fh=Tn()+500,Oy&&Dl())}}function Cu(t){el!==null&&el.tag===0&&!(Ot&6)&&qc();var e=Ot;Ot|=1;var n=os.transition,r=Wt;try{if(os.transition=null,Wt=1,t)return t()}finally{Wt=r,os.transition=n,Ot=e,!(Ot&6)&&Dl()}}function eE(){Ai=Ac.current,rn(Ac)}function _u(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y7(n)),Bn!==null)for(n=Bn.return;n!==null;){var r=n;switch(Nx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&u0();break;case 3:ch(),rn(di),rn(Ur),$x();break;case 5:Ux(r);break;case 4:ch();break;case 13:rn(fn);break;case 19:rn(fn);break;case 10:Fx(r.type._context);break;case 22:case 23:eE()}n=n.return}if(or=t,Bn=t=hl(t.current,null),vr=Ai=e,Kn=0,Bd=null,Xx=Vy=Tu=0,li=id=null,uu!==null){for(e=0;e<uu.length;e++)if(n=uu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}uu=null}return t}function H4(t,e){do{var n=Bn;try{if(Vx(),wg.current=v0,y0){for(var r=pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}y0=!1}if(Pu=0,nr=qn=pn=null,nd=!1,Ld=0,Yx.current=null,n===null||n.return===null){Kn=1,Bd=e,Bn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=sP(o);if(p!==null){p.flags&=-257,oP(p,o,a,s,e),p.mode&1&&iP(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){iP(s,u,e),tE();break e}l=Error(fe(426))}}else if(an&&a.mode&1){var x=sP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),oP(x,o,a,s,e),Dx(hh(l,a));break e}}s=l=hh(l,a),Kn!==4&&(Kn=2),id===null?id=[s]:id.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=C4(s,l,e);JA(s,v);break e;case 1:a=l;var S=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ul===null||!ul.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=I4(s,a,e);JA(s,M);break e}}s=s.return}while(s!==null)}K4(n)}catch(U){e=U,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(1)}function q4(){var t=w0.current;return w0.current=v0,t===null?v0:t}function tE(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),or===null||!(Tu&268435455)&&!(Vy&268435455)||Ua(or,vr)}function x0(t,e){var n=Ot;Ot|=2;var r=q4();(or!==t||vr!==e)&&(Go=null,_u(t,e));do try{bB();break}catch(i){H4(t,i)}while(1);if(Vx(),Ot=n,w0.current=r,Bn!==null)throw Error(fe(261));return or=null,vr=0,Kn}function bB(){for(;Bn!==null;)W4(Bn)}function xB(){for(;Bn!==null&&!WF();)W4(Bn)}function W4(t){var e=Y4(t.alternate,t,Ai);t.memoizedProps=t.pendingProps,e===null?K4(t):Bn=e,Yx.current=null}function K4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mB(n,e),n!==null){n.flags&=32767,Bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kn=6,Bn=null;return}}else if(n=pB(n,e,Ai),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=t}while(e!==null);Kn===0&&(Kn=5)}function Zl(t,e,n){var r=Wt,i=os.transition;try{os.transition=null,Wt=1,EB(t,e,n,r)}finally{os.transition=i,Wt=r}return null}function EB(t,e,n,r){do qc();while(el!==null);if(Ot&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(r7(t,s),t===or&&(Bn=or=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Am||(Am=!0,X4(r0,function(){return qc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=os.transition,os.transition=null;var o=Wt;Wt=1;var a=Ot;Ot|=4,Yx.current=null,yB(t,n),U4(n,t),$7(l_),s0=!!a_,l_=a_=null,t.current=n,vB(n),KF(),Ot=a,Wt=o,os.transition=s}else t.current=n;if(Am&&(Am=!1,el=t,b0=i),s=t.pendingLanes,s===0&&(ul=null),XF(n.stateNode),mi(t,Tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_0)throw _0=!1,t=C_,C_=null,t;return b0&1&&t.tag!==0&&qc(),s=t.pendingLanes,s&1?t===I_?sd++:(sd=0,I_=t):sd=0,Dl(),null}function qc(){if(el!==null){var t=CM(b0),e=os.transition,n=Wt;try{if(os.transition=null,Wt=16>t?16:t,el===null)var r=!1;else{if(t=el,el=null,b0=0,Ot&6)throw Error(fe(331));var i=Ot;for(Ot|=4,Oe=t.current;Oe!==null;){var s=Oe,o=s.child;if(Oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Oe=u;Oe!==null;){var c=Oe;switch(c.tag){case 0:case 11:case 15:rd(8,c,s)}var h=c.child;if(h!==null)h.return=c,Oe=h;else for(;Oe!==null;){c=Oe;var f=c.sibling,p=c.return;if(B4(c),c===u){Oe=null;break}if(f!==null){f.return=p,Oe=f;break}Oe=p}}}var m=s.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Oe=o;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rd(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Oe=v;break e}Oe=s.return}}var S=t.current;for(Oe=S;Oe!==null;){o=Oe;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Oe=A;else e:for(o=S;Oe!==null;){if(a=Oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ly(9,a)}}catch(U){En(a,a.return,U)}if(a===o){Oe=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Oe=M;break e}Oe=a.return}}if(Ot=i,Dl(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(Cy,t)}catch{}r=!0}return r}finally{Wt=n,os.transition=e}}return!1}function wP(t,e,n){e=hh(n,e),e=C4(t,e,1),t=ll(t,e,1),e=Qr(),t!==null&&(_p(t,1,e),mi(t,e))}function En(t,e,n){if(t.tag===3)wP(t,t,n);else for(;e!==null;){if(e.tag===3){wP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ul===null||!ul.has(r))){t=hh(n,t),t=I4(e,t,1),e=ll(e,t,1),t=Qr(),e!==null&&(_p(e,1,t),mi(e,t));break}}e=e.return}}function SB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qr(),t.pingedLanes|=t.suspendedLanes&n,or===t&&(vr&n)===n&&(Kn===4||Kn===3&&(vr&130023424)===vr&&500>Tn()-Jx?_u(t,0):Xx|=n),mi(t,e)}function Q4(t,e){e===0&&(t.mode&1?(e=mm,mm<<=1,!(mm&130023424)&&(mm=4194304)):e=1);var n=Qr();t=ha(t,e),t!==null&&(_p(t,e,n),mi(t,n))}function AB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Q4(t,n)}function PB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),Q4(t,n)}var Y4;Y4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||di.current)hi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hi=!1,dB(t,e,n);hi=!!(t.flags&131072)}else hi=!1,an&&e.flags&1048576&&e4(e,f0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bg(t,e),t=e.pendingProps;var i=ah(e,Ur.current);Hc(e,n),i=Hx(null,e,r,t,i,n);var s=qx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pi(r)?(s=!0,c0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zx(e),i.updater=Dy,e.stateNode=i,i._reactInternals=e,y_(e,r,t,n),e=__(null,e,r,!0,s,n)):(e.tag=0,an&&s&&Ox(e),Hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CB(r),t=Es(r,t),i){case 0:e=w_(null,e,r,t,n);break e;case 1:e=uP(null,e,r,t,n);break e;case 11:e=aP(null,e,r,t,n);break e;case 14:e=lP(null,e,r,Es(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),w_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),uP(t,e,r,i,n);case 3:e:{if(O4(e),t===null)throw Error(fe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,o4(t,e),m0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=hh(Error(fe(423)),e),e=cP(t,e,r,n,i);break e}else if(r!==i){i=hh(Error(fe(424)),e),e=cP(t,e,r,n,i);break e}else for(ki=al(e.stateNode.containerInfo.firstChild),Ni=e,an=!0,Cs=null,n=i4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lh(),r===i){e=fa(t,e,n);break e}Hr(t,e,r,n)}e=e.child}return e;case 5:return a4(e),t===null&&p_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,u_(r,i)?o=null:s!==null&&u_(r,s)&&(e.flags|=32),M4(t,e),Hr(t,e,o,n),e.child;case 6:return t===null&&p_(e),null;case 13:return N4(t,e,n);case 4:return jx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uh(e,null,r,n):Hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),aP(t,e,r,i,n);case 7:return Hr(t,e,e.pendingProps,n),e.child;case 8:return Hr(t,e,e.pendingProps.children,n),e.child;case 12:return Hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zt(d0,r._currentValue),r._currentValue=o,s!==null)if(Us(s.value,o)){if(s.children===i.children&&!di.current){e=fa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=sa(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),m_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),m_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hc(e,n),i=ls(i),r=r(i),e.flags|=1,Hr(t,e,r,n),e.child;case 14:return r=e.type,i=Es(r,e.pendingProps),i=Es(r.type,i),lP(t,e,r,i,n);case 15:return R4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Es(r,i),bg(t,e),e.tag=1,pi(r)?(t=!0,c0(e)):t=!1,Hc(e,n),T4(e,r,i),y_(e,r,i,n),__(null,e,r,!0,t,n);case 19:return D4(t,e,n);case 22:return k4(t,e,n)}throw Error(fe(156,e.tag))};function X4(t,e){return SM(t,e)}function TB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(t,e,n,r){return new TB(t,e,n,r)}function nE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CB(t){if(typeof t=="function")return nE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bx)return 11;if(t===xx)return 14}return 2}function hl(t,e){var n=t.alternate;return n===null?(n=is(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")nE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mc:return bu(n.children,i,s,e);case _x:o=8,i|=8;break;case jw:return t=is(12,n,e,i|2),t.elementType=jw,t.lanes=s,t;case Uw:return t=is(13,n,e,i),t.elementType=Uw,t.lanes=s,t;case $w:return t=is(19,n,e,i),t.elementType=$w,t.lanes=s,t;case aM:return Fy(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sM:o=10;break e;case oM:o=9;break e;case bx:o=11;break e;case xx:o=14;break e;case Fa:o=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=is(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bu(t,e,n,r){return t=is(7,t,r,e),t.lanes=n,t}function Fy(t,e,n,r){return t=is(22,t,r,e),t.elementType=aM,t.lanes=n,t.stateNode={isHidden:!1},t}function m1(t,e,n){return t=is(6,t,null,e),t.lanes=n,t}function g1(t,e,n){return e=is(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yv(0),this.expirationTimes=Yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rE(t,e,n,r,i,s,o,a,l){return t=new IB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=is(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zx(s),t}function RB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function J4(t){if(!t)return wl;t=t._reactInternals;e:{if(Uu(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(pi(n))return JM(t,n,e)}return e}function Z4(t,e,n,r,i,s,o,a,l){return t=rE(n,r,!0,t,i,s,o,a,l),t.context=J4(null),n=t.current,r=Qr(),i=cl(n),s=sa(r,i),s.callback=e??null,ll(n,s,i),t.current.lanes=i,_p(t,i,r),mi(t,r),t}function By(t,e,n,r){var i=e.current,s=Qr(),o=cl(i);return n=J4(n),e.context===null?e.context=n:e.pendingContext=n,e=sa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ll(i,e,o),t!==null&&(Ls(t,i,o,s),vg(t,i,o)),o}function E0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _P(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iE(t,e){_P(t,e),(t=t.alternate)&&_P(t,e)}function kB(){return null}var eO=typeof reportError=="function"?reportError:function(t){console.error(t)};function sE(t){this._internalRoot=t}zy.prototype.render=sE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));By(t,e,null,null)};zy.prototype.unmount=sE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cu(function(){By(null,t,null,null)}),e[ca]=null}};function zy(t){this._internalRoot=t}zy.prototype.unstable_scheduleHydration=function(t){if(t){var e=kM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ja.length&&e!==0&&e<ja[n].priority;n++);ja.splice(n,0,t),n===0&&OM(t)}};function oE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bP(){}function MB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=E0(o);s.call(u)}}var o=Z4(e,r,t,0,null,!1,!1,"",bP);return t._reactRootContainer=o,t[ca]=o.current,kd(t.nodeType===8?t.parentNode:t),Cu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=E0(l);a.call(u)}}var l=rE(t,0,!1,null,null,!1,!1,"",bP);return t._reactRootContainer=l,t[ca]=l.current,kd(t.nodeType===8?t.parentNode:t),Cu(function(){By(e,l,n,r)}),l}function Uy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=E0(o);a.call(l)}}By(e,o,t,i)}else o=MB(n,e,t,i,r);return E0(o)}IM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ff(e.pendingLanes);n!==0&&(Ax(e,n|1),mi(e,Tn()),!(Ot&6)&&(fh=Tn()+500,Dl()))}break;case 13:Cu(function(){var r=ha(t,1);if(r!==null){var i=Qr();Ls(r,t,1,i)}}),iE(t,1)}};Px=function(t){if(t.tag===13){var e=ha(t,134217728);if(e!==null){var n=Qr();Ls(e,t,134217728,n)}iE(t,134217728)}};RM=function(t){if(t.tag===13){var e=cl(t),n=ha(t,e);if(n!==null){var r=Qr();Ls(n,t,e,r)}iE(t,e)}};kM=function(){return Wt};MM=function(t,e){var n=Wt;try{return Wt=t,e()}finally{Wt=n}};Zw=function(t,e,n){switch(e){case"input":if(qw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=My(r);if(!i)throw Error(fe(90));uM(r),qw(r,i)}}}break;case"textarea":hM(t,n);break;case"select":e=n.value,e!=null&&jc(t,!!n.multiple,e,!1)}};vM=Zx;wM=Cu;var OB={usingClientEntryPoint:!1,Events:[xp,wc,My,gM,yM,Zx]},_f={findFiberByHostInstance:lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NB={bundleType:_f.bundleType,version:_f.version,rendererPackageName:_f.rendererPackageName,rendererConfig:_f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xM(t),t===null?null:t.stateNode},findFiberByHostInstance:_f.findFiberByHostInstance||kB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{Cy=Pm.inject(NB),mo=Pm}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OB;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oE(e))throw Error(fe(200));return RB(t,e,null,n)};Vi.createRoot=function(t,e){if(!oE(t))throw Error(fe(299));var n=!1,r="",i=eO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rE(t,1,!1,null,null,n,!1,r,i),t[ca]=e.current,kd(t.nodeType===8?t.parentNode:t),new sE(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=xM(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return Cu(t)};Vi.hydrate=function(t,e,n){if(!jy(e))throw Error(fe(200));return Uy(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!oE(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=eO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Z4(e,null,t,1,n??null,i,!1,s,o),t[ca]=e.current,kd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zy(e)};Vi.render=function(t,e,n){if(!jy(e))throw Error(fe(200));return Uy(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!jy(t))throw Error(fe(40));return t._reactRootContainer?(Cu(function(){Uy(null,null,t,!1,function(){t._reactRootContainer=null,t[ca]=null})}),!0):!1};Vi.unstable_batchedUpdates=Zx;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jy(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Uy(t,e,n,!1,r)};Vi.version="18.3.1-next-f1338f8080-20240426";function tO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tO)}catch(t){console.error(t)}}tO(),tM.exports=Vi;var aE=tM.exports;const Pc=Ml(aE);var xP=aE;Bw.createRoot=xP.createRoot,Bw.hydrateRoot=xP.hydrateRoot;const DB="modulepreload",LB=function(t){return"/"+t},EP={},VB=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=LB(s),s in EP)return;EP[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":DB,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var lE={};Object.defineProperty(lE,"__esModule",{value:!0});lE.parse=GB;lE.serialize=HB;const FB=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,BB=/^[\u0021-\u003A\u003C-\u007E]*$/,zB=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,jB=/^[\u0020-\u003A\u003D-\u007E]*$/,UB=Object.prototype.toString,$B=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function GB(t,e){const n=new $B,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||qB;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=SP(t,s,o),c=AP(t,o,u),h=t.slice(u,c);if(n[h]===void 0){let f=SP(t,o+1,l),p=AP(t,l,f);const m=i(t.slice(f,p));n[h]=m}s=l+1}while(s<r);return n}function SP(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function AP(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function HB(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!FB.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!BB.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!zB.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!jB.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!WB(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function qB(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function WB(t){return UB.call(t)==="[object Date]"}var nO=t=>{throw TypeError(t)},KB=(t,e,n)=>e.has(t)||nO("Cannot "+n),y1=(t,e,n)=>(KB(t,e,"read from private field"),n?n.call(t):e.get(t)),QB=(t,e,n)=>e.has(t)?nO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),PP="popstate";function YB(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return zd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_l(i)}return JB(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XB(){return Math.random().toString(36).substring(2,10)}function TP(t,e){return{usr:t.state,key:t.key,idx:e}}function zd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sa(e):e,state:n,key:e&&e.key||r||XB()}}function _l({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function JB(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function h(){a="POP";let x=c(),v=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:v})}function f(x,v){a="PUSH";let S=zd(w.location,x,v);n&&n(S,x),u=c()+1;let A=TP(S,u),M=w.createHref(S);try{o.pushState(A,"",M)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(M)}s&&l&&l({action:a,location:w.location,delta:1})}function p(x,v){a="REPLACE";let S=zd(w.location,x,v);n&&n(S,x),u=c();let A=TP(S,u),M=w.createHref(S);o.replaceState(A,"",M),s&&l&&l({action:a,location:w.location,delta:0})}function m(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:_l(x);return S=S.replace(/ $/,"%20"),ot(v,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,v)}let w={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(PP,h),l=x,()=>{i.removeEventListener(PP,h),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(x){return o.go(x)}};return w}var zf,CP=class{constructor(t){if(QB(this,zf,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(y1(this,zf).has(t))return y1(this,zf).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){y1(this,zf).set(t,e)}};zf=new WeakMap;var ZB=new Set(["lazy","caseSensitive","path","id","index","children"]);function ez(t){return ZB.has(t)}var tz=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function nz(t){return tz.has(t)}function rz(t){return t.index===!0}function S0(t,e,n=[],r={}){return t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(ot(i.index!==!0||!i.children,"Cannot specify children on an index route"),ot(!r[a],`Found a route id collision on id "${a}".  Route id's must be globally unique within Data Router usages`),rz(i)){let l={...i,...e(i),id:a};return r[a]=l,l}else{let l={...i,...e(i),id:a,children:void 0};return r[a]=l,i.children&&(l.children=S0(i.children,e,o,r)),l}})}function $a(t,e,n="/"){return Ag(t,e,n,!1)}function Ag(t,e,n,r){let i=typeof e=="string"?Sa(e):e,s=cs(i.pathname||"/",n);if(s==null)return null;let o=rO(t);sz(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=gz(s);a=pz(o[l],u,r)}return a}function iz(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function rO(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=yo([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ot(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),rO(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:fz(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of iO(s.path))i(s,o,l)}),e}function iO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oz=/^:[\w-]+$/,az=3,lz=2,uz=1,cz=10,hz=-2,IP=t=>t==="*";function fz(t,e){let n=t.split("/"),r=n.length;return n.some(IP)&&(r+=hz),e&&(r+=lz),n.filter(i=>!IP(i)).reduce((i,s)=>i+(oz.test(s)?az:s===""?uz:cz),r)}function dz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pz(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=A0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=A0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:yo([s,h.pathname]),pathnameBase:wz(yo([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=yo([s,h.pathnameBase]))}return o}function A0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:h},f)=>{if(c==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function mz(t,e=!1,n=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sa(t):t;return{pathname:n?n.startsWith("/")?n:vz(n,e):e,search:_z(r),hash:bz(i)}}function vz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function v1(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $y(t){let e=sO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Gy(t,e,n,r=!1){let i;typeof t=="string"?i=Sa(t):(i={...t},ot(!i.pathname||!i.pathname.includes("?"),v1("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),v1("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),v1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=yz(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var yo=t=>t.join("/").replace(/\/\/+/g,"/"),wz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_z=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,P0=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var oO=["POST","PUT","PATCH","DELETE"],xz=new Set(oO),Ez=["GET",...oO],Sz=new Set(Ez),Az=new Set([301,302,303,307,308]),Pz=new Set([307,308]),w1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cz=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),aO="remix-router-transitions",lO=Symbol("ResetLoaderData");function Iz(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ot(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||Cz,s={},o=S0(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||Nz,c={unstable_middleware:!1,...t.future},h=null,f=new Set,p=null,m=null,w=null,x=t.hydrationData!=null,v=$a(o,t.history.location,l),S=!1,A=null;if(v==null&&!t.patchRoutesOnNavigation){let H=Zi(404,{pathname:t.history.location.pathname}),{matches:K,route:X}=jP(o);v=K,A={[X.id]:H}}v&&!t.hydrationData&&Tt(v,o,t.history.location.pathname).active&&(v=null);let M;if(v)if(v.some(H=>H.route.lazy))M=!1;else if(!v.some(H=>H.route.loader))M=!0;else{let H=t.hydrationData?t.hydrationData.loaderData:null,K=t.hydrationData?t.hydrationData.errors:null;if(K){let X=v.findIndex(te=>K[te.route.id]!==void 0);M=v.slice(0,X+1).every(te=>!O_(te.route,H,K))}else M=v.every(X=>!O_(X.route,H,K))}else{M=!1,v=[];let H=Tt(null,o,t.history.location.pathname);H.active&&H.matches&&(S=!0,v=H.matches)}let U,N={historyAction:t.history.action,location:t.history.location,matches:v,initialized:M,navigation:w1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},D="POP",R=!1,L,z=!1,G=new Map,W=null,E=!1,g=!1,T=new Set,k=new Map,V=0,O=-1,$=new Map,q=new Set,B=new Map,_=new Map,j=new Set,ue=new Map,I,Q=null;function ne(){if(h=t.history.listen(({action:H,location:K,delta:X})=>{if(I){I(),I=void 0;return}Rn(ue.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=$t({currentLocation:N.location,nextLocation:K,historyAction:H});if(te&&X!=null){let we=new Promise(ge=>{I=ge});t.history.go(X*-1),ni(te,{state:"blocked",location:K,proceed(){ni(te,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),we.then(()=>t.history.go(X))},reset(){let ge=new Map(N.blockers);ge.set(te,bf),pe({blockers:ge})}});return}return me(H,K)}),n){Hz(e,G);let H=()=>qz(e,G);e.addEventListener("pagehide",H),W=()=>e.removeEventListener("pagehide",H)}return N.initialized||me("POP",N.location,{initialHydration:!0}),U}function ie(){h&&h(),W&&W(),f.clear(),L&&L.abort(),N.fetchers.forEach((H,K)=>ft(K)),N.blockers.forEach((H,K)=>Pt(K))}function le(H){return f.add(H),()=>f.delete(H)}function pe(H,K={}){N={...N,...H};let X=[],te=[];N.fetchers.forEach((we,ge)=>{we.state==="idle"&&(j.has(ge)?X.push(ge):te.push(ge))}),j.forEach(we=>{!N.fetchers.has(we)&&!k.has(we)&&X.push(we)}),[...f].forEach(we=>we(N,{deletedFetchers:X,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),X.forEach(we=>ft(we)),te.forEach(we=>N.fetchers.delete(we))}function ce(H,K,{flushSync:X}={}){var ye,je;let te=N.actionData!=null&&N.navigation.formMethod!=null&&Ti(N.navigation.formMethod)&&N.navigation.state==="loading"&&((ye=H.state)==null?void 0:ye._isRedirect)!==!0,we;K.actionData?Object.keys(K.actionData).length>0?we=K.actionData:we=null:te?we=N.actionData:we=null;let ge=K.loaderData?BP(N.loaderData,K.loaderData,K.matches||[],K.errors):N.loaderData,Se=N.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((xe,Ie)=>Se.set(Ie,bf)));let Te=R===!0||N.navigation.formMethod!=null&&Ti(N.navigation.formMethod)&&((je=H.state)==null?void 0:je._isRedirect)!==!0;a&&(o=a,a=void 0),E||D==="POP"||(D==="PUSH"?t.history.push(H,H.state):D==="REPLACE"&&t.history.replace(H,H.state));let be;if(D==="POP"){let xe=G.get(N.location.pathname);xe&&xe.has(H.pathname)?be={currentLocation:N.location,nextLocation:H}:G.has(H.pathname)&&(be={currentLocation:H,nextLocation:N.location})}else if(z){let xe=G.get(N.location.pathname);xe?xe.add(H.pathname):(xe=new Set([H.pathname]),G.set(N.location.pathname,xe)),be={currentLocation:N.location,nextLocation:H}}pe({...K,actionData:we,loaderData:ge,historyAction:D,location:H,initialized:!0,navigation:w1,revalidation:"idle",restoreScrollPosition:ri(H,K.matches||N.matches),preventScrollReset:Te,blockers:Se},{viewTransitionOpts:be,flushSync:X===!0}),D="POP",R=!1,z=!1,E=!1,g=!1,Q==null||Q.resolve(),Q=null}async function he(H,K){if(typeof H=="number"){t.history.go(H);return}let X=M_(N.location,N.matches,l,H,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:te,submission:we,error:ge}=RP(!1,X,K),Se=N.location,Te=zd(N.location,te,K&&K.state);Te={...Te,...t.history.encodeLocation(Te)};let be=K&&K.replace!=null?K.replace:void 0,ye="PUSH";be===!0?ye="REPLACE":be===!1||we!=null&&Ti(we.formMethod)&&we.formAction===N.location.pathname+N.location.search&&(ye="REPLACE");let je=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,xe=(K&&K.flushSync)===!0,Ie=$t({currentLocation:Se,nextLocation:Te,historyAction:ye});if(Ie){ni(Ie,{state:"blocked",location:Te,proceed(){ni(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),he(H,K)},reset(){let dt=new Map(N.blockers);dt.set(Ie,bf),pe({blockers:dt})}});return}await me(ye,Te,{submission:we,pendingError:ge,preventScrollReset:je,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:xe})}function nt(){Q||(Q=Wz()),Mn(),pe({revalidation:"loading"});let H=Q.promise;return N.navigation.state==="submitting"?H:N.navigation.state==="idle"?(me(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),H):(me(D||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:z===!0}),H)}async function me(H,K,X){L&&L.abort(),L=null,D=H,E=(X&&X.startUninterruptedRevalidation)===!0,kt(N.location,N.matches),R=(X&&X.preventScrollReset)===!0,z=(X&&X.enableViewTransition)===!0;let te=a||o,we=X&&X.overrideNavigation,ge=X!=null&&X.initialHydration&&N.matches&&N.matches.length>0&&!S?N.matches:$a(te,K,l),Se=(X&&X.flushSync)===!0;if(ge&&N.initialized&&!g&&zz(N.location,K)&&!(X&&X.submission&&Ti(X.submission.formMethod))){ce(K,{matches:ge},{flushSync:Se});return}let Te=Tt(ge,te,K.pathname);if(Te.active&&Te.matches&&(ge=Te.matches),!ge){let{error:We,notFoundMatches:jt,route:Xe}=Rt(K.pathname);ce(K,{matches:jt,loaderData:{},errors:{[Xe.id]:We}},{flushSync:Se});return}L=new AbortController;let be=lc(t.history,K,L.signal,X&&X.submission),ye=new CP(t.unstable_getContext?await t.unstable_getContext():void 0),je;if(X&&X.pendingError)je=[ru(ge).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&Ti(X.submission.formMethod)){let We=await _e(be,K,X.submission,ge,ye,Te.active,X&&X.initialHydration===!0,{replace:X.replace,flushSync:Se});if(We.shortCircuited)return;if(We.pendingActionResult){let[jt,Xe]=We.pendingActionResult;if(Pi(Xe)&&jd(Xe.error)&&Xe.error.status===404){L=null,ce(K,{matches:We.matches,loaderData:{},errors:{[jt]:Xe.error}});return}}ge=We.matches||ge,je=We.pendingActionResult,we=_1(K,X.submission),Se=!1,Te.active=!1,be=lc(t.history,be.url,be.signal)}let{shortCircuited:xe,matches:Ie,loaderData:dt,errors:$e}=await $n(be,K,ge,ye,Te.active,we,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,Se,je);xe||(L=null,ce(K,{matches:Ie||ge,...zP(je),loaderData:dt,errors:$e}))}async function _e(H,K,X,te,we,ge,Se,Te={}){Mn();let be=$z(K,X);if(pe({navigation:be},{flushSync:Te.flushSync===!0}),ge){let xe=await ut(te,K.pathname,H.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let Ie=ru(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[Ie,{type:"error",error:xe.error}]}}else if(xe.matches)te=xe.matches;else{let{notFoundMatches:Ie,error:dt,route:$e}=Rt(K.pathname);return{matches:Ie,pendingActionResult:[$e.id,{type:"error",error:dt}]}}}let ye,je=jf(te,K);if(!je.route.action&&!je.route.lazy)ye={type:"error",error:Zi(405,{method:H.method,pathname:K.pathname,routeId:je.route.id})};else{let xe=Wc(i,s,H,te,je,Se?[]:r,we),Ie=await lt(H,xe,we,null);if(ye=Ie[je.route.id],!ye){for(let dt of te)if(Ie[dt.route.id]){ye=Ie[dt.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(hu(ye)){let xe;return Te&&Te.replace!=null?xe=Te.replace:xe=LP(ye.response.headers.get("Location"),new URL(H.url),l)===N.location.pathname+N.location.search,await yn(H,ye,!0,{submission:X,replace:xe}),{shortCircuited:!0}}if(Pi(ye)){let xe=ru(te,je.route.id);return(Te&&Te.replace)!==!0&&(D="PUSH"),{matches:te,pendingActionResult:[xe.route.id,ye]}}return{matches:te,pendingActionResult:[je.route.id,ye]}}async function $n(H,K,X,te,we,ge,Se,Te,be,ye,je,xe){let Ie=ge||_1(K,Se),dt=Se||Te||$P(Ie),$e=!E&&!ye;if(we){if($e){let on=rt(xe);pe({navigation:Ie,...on!==void 0?{actionData:on}:{}},{flushSync:je})}let ct=await ut(X,K.pathname,H.signal);if(ct.type==="aborted")return{shortCircuited:!0};if(ct.type==="error"){let on=ru(ct.partialMatches).route.id;return{matches:ct.partialMatches,loaderData:{},errors:{[on]:ct.error}}}else if(ct.matches)X=ct.matches;else{let{error:on,notFoundMatches:Tr,route:Xs}=Rt(K.pathname);return{matches:Tr,loaderData:{},errors:{[Xs.id]:on}}}}let We=a||o,{dsMatches:jt,revalidatingFetchers:Xe}=kP(H,te,i,s,t.history,N,X,dt,K,ye?[]:r,ye===!0,g,T,j,B,q,We,l,xe);if(O=++V,!t.dataStrategy&&!jt.some(ct=>ct.shouldLoad)&&Xe.length===0){let ct=Ve();return ce(K,{matches:X,loaderData:{},errors:xe&&Pi(xe[1])?{[xe[0]]:xe[1].error}:null,...zP(xe),...ct?{fetchers:new Map(N.fetchers)}:{}},{flushSync:je}),{shortCircuited:!0}}if($e){let ct={};if(!we){ct.navigation=Ie;let on=rt(xe);on!==void 0&&(ct.actionData=on)}Xe.length>0&&(ct.fetchers=It(Xe)),pe(ct,{flushSync:je})}Xe.forEach(ct=>{vn(ct.key),ct.controller&&k.set(ct.key,ct.controller)});let ur=()=>Xe.forEach(ct=>vn(ct.key));L&&L.signal.addEventListener("abort",ur);let{loaderResults:On,fetcherResults:Zn}=await et(jt,Xe,H,te);if(H.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",ur),Xe.forEach(ct=>k.delete(ct.key));let Gn=Tm(On);if(Gn)return await yn(H,Gn.result,!0,{replace:be}),{shortCircuited:!0};if(Gn=Tm(Zn),Gn)return q.add(Gn.key),await yn(H,Gn.result,!0,{replace:be}),{shortCircuited:!0};let{loaderData:$i,errors:gs}=FP(N,X,On,xe,Xe,Zn);ye&&N.errors&&(gs={...N.errors,...gs});let Gi=Ve(),ii=un(O),Hi=Gi||ii||Xe.length>0;return{matches:X,loaderData:$i,errors:gs,...Hi?{fetchers:new Map(N.fetchers)}:{}}}function rt(H){if(H&&!Pi(H[1]))return{[H[0]]:H[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function It(H){return H.forEach(K=>{let X=N.fetchers.get(K.key),te=xf(void 0,X?X.data:void 0);N.fetchers.set(K.key,te)}),new Map(N.fetchers)}async function Pr(H,K,X,te){vn(H);let we=(te&&te.flushSync)===!0,ge=a||o,Se=M_(N.location,N.matches,l,X,K,te==null?void 0:te.relative),Te=$a(ge,Se,l),be=Tt(Te,ge,Se);if(be.active&&be.matches&&(Te=be.matches),!Te){Le(H,K,Zi(404,{pathname:Se}),{flushSync:we});return}let{path:ye,submission:je,error:xe}=RP(!0,Se,te);if(xe){Le(H,K,xe,{flushSync:we});return}let Ie=jf(Te,ye),dt=new CP(t.unstable_getContext?await t.unstable_getContext():void 0),$e=(te&&te.preventScrollReset)===!0;if(je&&Ti(je.formMethod)){await St(H,K,ye,Ie,Te,dt,be.active,we,$e,je);return}B.set(H,{routeId:K,path:ye}),await bt(H,K,ye,Ie,Te,dt,be.active,we,$e,je)}async function St(H,K,X,te,we,ge,Se,Te,be,ye){Mn(),B.delete(H);function je(Xt){if(!Xt.route.action&&!Xt.route.lazy){let bi=Zi(405,{method:ye.formMethod,pathname:X,routeId:K});return Le(H,K,bi,{flushSync:Te}),!0}return!1}if(!Se&&je(te))return;let xe=N.fetchers.get(H);Ce(H,Gz(ye,xe),{flushSync:Te});let Ie=new AbortController,dt=lc(t.history,X,Ie.signal,ye);if(Se){let Xt=await ut(we,X,dt.signal,H);if(Xt.type==="aborted")return;if(Xt.type==="error"){Le(H,K,Xt.error,{flushSync:Te});return}else if(Xt.matches){if(we=Xt.matches,te=jf(we,X),je(te))return}else{Le(H,K,Zi(404,{pathname:X}),{flushSync:Te});return}}k.set(H,Ie);let $e=V,We=Wc(i,s,dt,we,te,r,ge),Xe=(await lt(dt,We,ge,H))[te.route.id];if(dt.signal.aborted){k.get(H)===Ie&&k.delete(H);return}if(j.has(H)){if(hu(Xe)||Pi(Xe)){Ce(H,Da(void 0));return}}else{if(hu(Xe))if(k.delete(H),O>$e){Ce(H,Da(void 0));return}else return q.add(H),Ce(H,xf(ye)),yn(dt,Xe,!1,{fetcherSubmission:ye,preventScrollReset:be});if(Pi(Xe)){Le(H,K,Xe.error);return}}let ur=N.navigation.location||N.location,On=lc(t.history,ur,Ie.signal),Zn=a||o,Gn=N.navigation.state!=="idle"?$a(Zn,N.navigation.location,l):N.matches;ot(Gn,"Didn't find any matches after fetcher action");let $i=++V;$.set(H,$i);let gs=xf(ye,Xe.data);N.fetchers.set(H,gs);let{dsMatches:Gi,revalidatingFetchers:ii}=kP(On,ge,i,s,t.history,N,Gn,ye,ur,r,!1,g,T,j,B,q,Zn,l,[te.route.id,Xe]);ii.filter(Xt=>Xt.key!==H).forEach(Xt=>{let bi=Xt.key,Zs=N.fetchers.get(bi),sf=xf(void 0,Zs?Zs.data:void 0);N.fetchers.set(bi,sf),vn(bi),Xt.controller&&k.set(bi,Xt.controller)}),pe({fetchers:new Map(N.fetchers)});let Hi=()=>ii.forEach(Xt=>vn(Xt.key));Ie.signal.addEventListener("abort",Hi);let{loaderResults:ct,fetcherResults:on}=await et(Gi,ii,On,ge);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",Hi),$.delete(H),k.delete(H),ii.forEach(Xt=>k.delete(Xt.key));let Tr=Tm(ct);if(Tr)return yn(On,Tr.result,!1,{preventScrollReset:be});if(Tr=Tm(on),Tr)return q.add(Tr.key),yn(On,Tr.result,!1,{preventScrollReset:be});let{loaderData:Xs,errors:Js}=FP(N,Gn,ct,void 0,ii,on);if(N.fetchers.has(H)){let Xt=Da(Xe.data);N.fetchers.set(H,Xt)}un($i),N.navigation.state==="loading"&&$i>O?(ot(D,"Expected pending action"),L&&L.abort(),ce(N.navigation.location,{matches:Gn,loaderData:Xs,errors:Js,fetchers:new Map(N.fetchers)})):(pe({errors:Js,loaderData:BP(N.loaderData,Xs,Gn,Js),fetchers:new Map(N.fetchers)}),g=!1)}async function bt(H,K,X,te,we,ge,Se,Te,be,ye){let je=N.fetchers.get(H);Ce(H,xf(ye,je?je.data:void 0),{flushSync:Te});let xe=new AbortController,Ie=lc(t.history,X,xe.signal);if(Se){let Xe=await ut(we,X,Ie.signal,H);if(Xe.type==="aborted")return;if(Xe.type==="error"){Le(H,K,Xe.error,{flushSync:Te});return}else if(Xe.matches)we=Xe.matches,te=jf(we,X);else{Le(H,K,Zi(404,{pathname:X}),{flushSync:Te});return}}k.set(H,xe);let dt=V,$e=Wc(i,s,Ie,we,te,r,ge),jt=(await lt(Ie,$e,ge,H))[te.route.id];if(k.get(H)===xe&&k.delete(H),!Ie.signal.aborted){if(j.has(H)){Ce(H,Da(void 0));return}if(hu(jt))if(O>dt){Ce(H,Da(void 0));return}else{q.add(H),await yn(Ie,jt,!1,{preventScrollReset:be});return}if(Pi(jt)){Le(H,K,jt.error);return}Ce(H,Da(jt.data))}}async function yn(H,K,X,{submission:te,fetcherSubmission:we,preventScrollReset:ge,replace:Se}={}){K.response.headers.has("X-Remix-Revalidate")&&(g=!0);let Te=K.response.headers.get("Location");ot(Te,"Expected a Location header on the redirect Response"),Te=LP(Te,new URL(H.url),l);let be=zd(N.location,Te,{_isRedirect:!0});if(n){let $e=!1;if(K.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(uE.test(Te)){const We=t.history.createURL(Te);$e=We.origin!==e.location.origin||cs(We.pathname,l)==null}if($e){Se?e.location.replace(Te):e.location.assign(Te);return}}L=null;let ye=Se===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:je,formAction:xe,formEncType:Ie}=N.navigation;!te&&!we&&je&&xe&&Ie&&(te=$P(N.navigation));let dt=te||we;if(Pz.has(K.response.status)&&dt&&Ti(dt.formMethod))await me(ye,be,{submission:{...dt,formAction:Te},preventScrollReset:ge||R,enableViewTransition:X?z:void 0});else{let $e=_1(be,te);await me(ye,be,{overrideNavigation:$e,fetcherSubmission:we,preventScrollReset:ge||R,enableViewTransition:X?z:void 0})}}async function lt(H,K,X,te){let we,ge={};try{we=await Dz(u,H,K,te,X,!1)}catch(Se){return K.filter(Te=>Te.shouldLoad).forEach(Te=>{ge[Te.route.id]={type:"error",error:Se}}),ge}for(let[Se,Te]of Object.entries(we))if(jz(Te)){let be=Te.result;ge[Se]={type:"redirect",response:Fz(be,H,Se,K,l)}}else ge[Se]=await Vz(Te);return ge}async function et(H,K,X,te){let we=lt(X,H,te,null),ge=Promise.all(K.map(async be=>{if(be.matches&&be.match&&be.request&&be.controller){let je=(await lt(be.request,be.matches,te,be.key))[be.match.route.id];return{[be.key]:je}}else return Promise.resolve({[be.key]:{type:"error",error:Zi(404,{pathname:be.path})}})})),Se=await we,Te=(await ge).reduce((be,ye)=>Object.assign(be,ye),{});return{loaderResults:Se,fetcherResults:Te}}function Mn(){g=!0,B.forEach((H,K)=>{k.has(K)&&T.add(K),vn(K)})}function Ce(H,K,X={}){N.fetchers.set(H,K),pe({fetchers:new Map(N.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Le(H,K,X,te={}){let we=ru(N.matches,K);ft(H),pe({errors:{[we.route.id]:X},fetchers:new Map(N.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Bt(H){return _.set(H,(_.get(H)||0)+1),j.has(H)&&j.delete(H),N.fetchers.get(H)||Tz}function ft(H){let K=N.fetchers.get(H);k.has(H)&&!(K&&K.state==="loading"&&$.has(H))&&vn(H),B.delete(H),$.delete(H),q.delete(H),j.delete(H),T.delete(H),N.fetchers.delete(H)}function At(H){let K=(_.get(H)||0)-1;K<=0?(_.delete(H),j.add(H)):_.set(H,K),pe({fetchers:new Map(N.fetchers)})}function vn(H){let K=k.get(H);K&&(K.abort(),k.delete(H))}function Ae(H){for(let K of H){let X=Bt(K),te=Da(X.data);N.fetchers.set(K,te)}}function Ve(){let H=[],K=!1;for(let X of q){let te=N.fetchers.get(X);ot(te,`Expected fetcher: ${X}`),te.state==="loading"&&(q.delete(X),H.push(X),K=!0)}return Ae(H),K}function un(H){let K=[];for(let[X,te]of $)if(te<H){let we=N.fetchers.get(X);ot(we,`Expected fetcher: ${X}`),we.state==="loading"&&(vn(X),$.delete(X),K.push(X))}return Ae(K),K.length>0}function gt(H,K){let X=N.blockers.get(H)||bf;return ue.get(H)!==K&&ue.set(H,K),X}function Pt(H){N.blockers.delete(H),ue.delete(H)}function ni(H,K){let X=N.blockers.get(H)||bf;ot(X.state==="unblocked"&&K.state==="blocked"||X.state==="blocked"&&K.state==="blocked"||X.state==="blocked"&&K.state==="proceeding"||X.state==="blocked"&&K.state==="unblocked"||X.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${K.state}`);let te=new Map(N.blockers);te.set(H,K),pe({blockers:te})}function $t({currentLocation:H,nextLocation:K,historyAction:X}){if(ue.size===0)return;ue.size>1&&Rn(!1,"A router only supports one blocker at a time");let te=Array.from(ue.entries()),[we,ge]=te[te.length-1],Se=N.blockers.get(we);if(!(Se&&Se.state==="proceeding")&&ge({currentLocation:H,nextLocation:K,historyAction:X}))return we}function Rt(H){let K=Zi(404,{pathname:H}),X=a||o,{matches:te,route:we}=jP(X);return{notFoundMatches:te,route:we,error:K}}function ji(H,K,X){if(p=H,w=K,m=X||null,!x&&N.navigation===w1){x=!0;let te=ri(N.location,N.matches);te!=null&&pe({restoreScrollPosition:te})}return()=>{p=null,w=null,m=null}}function zt(H,K){return m&&m(H,K.map(te=>iz(te,N.loaderData)))||H.key}function kt(H,K){if(p&&w){let X=zt(H,K);p[X]=w()}}function ri(H,K){if(p){let X=zt(H,K),te=p[X];if(typeof te=="number")return te}return null}function Tt(H,K,X){if(t.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Ag(K,X,l,!0)}}else return{active:!0,matches:Ag(K,X,l,!0)||[]};return{active:!1,matches:null}}async function ut(H,K,X,te){if(!t.patchRoutesOnNavigation)return{type:"success",matches:H};let we=H;for(;;){let ge=a==null,Se=a||o,Te=s;try{await t.patchRoutesOnNavigation({signal:X,path:K,matches:we,fetcherKey:te,patch:(je,xe)=>{X.aborted||MP(je,xe,Se,Te,i)}})}catch(je){return{type:"error",error:je,partialMatches:we}}finally{ge&&!X.aborted&&(o=[...o])}if(X.aborted)return{type:"aborted"};let be=$a(Se,K,l);if(be)return{type:"success",matches:be};let ye=Ag(Se,K,l,!0);if(!ye||we.length===ye.length&&we.every((je,xe)=>je.route.id===ye[xe].route.id))return{type:"success",matches:null};we=ye}}function Ui(H){s={},a=S0(H,i,void 0,s)}function Nt(H,K){let X=a==null;MP(H,K,a||o,s,i),X&&(o=[...o],pe({}))}return U={get basename(){return l},get future(){return c},get state(){return N},get routes(){return o},get window(){return e},initialize:ne,subscribe:le,enableScrollRestoration:ji,navigate:he,fetch:Pr,revalidate:nt,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:Bt,deleteFetcher:At,dispose:ie,getBlocker:gt,deleteBlocker:Pt,patchRoutes:Nt,_internalFetchControllers:k,_internalSetRoutes:Ui},U}function Rz(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function M_(t,e,n,r,i,s){let o,a;if(i){o=[];for(let u of e)if(o.push(u),u.route.id===i){a=u;break}}else o=e,a=e[e.length-1];let l=Gy(r||".",$y(o),cs(t.pathname,n)||t.pathname,s==="path");if(r==null&&(l.search=t.search,l.hash=t.hash),(r==null||r===""||r===".")&&a){let u=cE(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let c=new URLSearchParams(l.search),h=c.getAll("index");c.delete("index"),h.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();l.search=f?`?${f}`:""}}return n!=="/"&&(l.pathname=l.pathname==="/"?n:yo([n,l.pathname])),_l(l)}function RP(t,e,n){if(!n||!Rz(n))return{path:e};if(n.formMethod&&!Uz(n.formMethod))return{path:e,error:Zi(405,{method:n.formMethod})};let r=()=>({path:e,error:Zi(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=pO(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ti(s))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,[p,m])=>`${f}${p}=${m}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Ti(s))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}ot(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=D_(n.formData),l=n.formData;else if(n.body instanceof FormData)a=D_(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=VP(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=VP(a)}catch{return r()}let u={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ti(u.formMethod))return{path:e,submission:u};let c=Sa(e);return t&&c.search&&cE(c.search)&&a.append("index",""),c.search=`?${a}`,{path:_l(c),submission:u}}function kP(t,e,n,r,i,s,o,a,l,u,c,h,f,p,m,w,x,v,S){var W;let A=S?Pi(S[1])?S[1].error:S[1].data:void 0,M=i.createURL(s.location),U=i.createURL(l),N;if(c&&s.errors){let E=Object.keys(s.errors)[0];N=o.findIndex(g=>g.route.id===E)}else if(S&&Pi(S[1])){let E=S[0];N=o.findIndex(g=>g.route.id===E)-1}let D=S?S[1].statusCode:void 0,R=D&&D>=400,L={currentUrl:M,currentParams:((W=s.matches[0])==null?void 0:W.params)||{},nextUrl:U,nextParams:o[0].params,...a,actionResult:A,actionStatus:D},z=o.map((E,g)=>{let{route:T}=E,k=null;if(N!=null&&g>N?k=!1:T.lazy?k=!0:T.loader==null?k=!1:c?k=O_(T,s.loaderData,s.errors):kz(s.loaderData,s.matches[g],E)&&(k=!0),k!==null)return N_(n,r,t,E,u,e,k);let V=R?!1:h||M.pathname+M.search===U.pathname+U.search||M.search!==U.search||Mz(s.matches[g],E),O={...L,defaultShouldRevalidate:V},$=T0(E,O);return N_(n,r,t,E,u,e,$,O)}),G=[];return m.forEach((E,g)=>{if(c||!o.some(B=>B.route.id===E.routeId)||p.has(g))return;let T=$a(x,E.path,v);if(!T){G.push({key:g,routeId:E.routeId,path:E.path,matches:null,match:null,request:null,controller:null});return}if(w.has(g))return;let k=s.fetchers.get(g),V=jf(T,E.path),O=new AbortController,$=lc(i,E.path,O.signal),q=null;if(f.has(g))f.delete(g),q=Wc(n,r,$,T,V,u,e);else if(k&&k.state!=="idle"&&k.data===void 0)h&&(q=Wc(n,r,$,T,V,u,e));else{let B={...L,defaultShouldRevalidate:R?!1:h};T0(V,B)&&(q=Wc(n,r,$,T,V,u,e,B))}q&&G.push({key:g,routeId:E.routeId,path:E.path,matches:q,match:V,request:$,controller:O})}),{dsMatches:z,revalidatingFetchers:G}}function O_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function kz(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function Mz(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function T0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function MP(t,e,n,r,i){let s;if(t){let l=r[t];ot(l,`No route found to patch children into: routeId = ${t}`),l.children||(l.children=[]),s=l.children}else s=n;let o=e.filter(l=>!s.some(u=>uO(l,u))),a=S0(o,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...a)}function uO(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>uO(n,s))}):!1}var OP=new WeakMap,cO=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(ot(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let o=OP.get(i);o||(o={},OP.set(i,o));let a=o[t];if(a)return a;let l=(async()=>{let u=ez(t),h=i[t]!==void 0&&t!=="hasErrorBoundary";if(u)Rn(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(h)Rn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let f=await s();f!=null&&(Object.assign(i,{[t]:f}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(f=>f===void 0)&&(i.lazy=void 0))})();return o[t]=l,l},NP=new WeakMap;function Oz(t,e,n,r,i){let s=n[t.id];if(ot(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let c=NP.get(s);if(c)return{lazyRoutePromise:c,lazyHandlerPromise:c};let h=(async()=>{ot(typeof t.lazy=="function","No lazy route function found");let f=await t.lazy(),p={};for(let m in f){let w=f[m];if(w===void 0)continue;let x=nz(m),S=s[m]!==void 0&&m!=="hasErrorBoundary";x?Rn(!x,"Route property "+m+" is not a supported property to be returned from a lazy route function. This property will be ignored."):S?Rn(!S,`Route "${s.id}" has a static property "${m}" defined but its lazy function is also returning a value for this property. The lazy route property "${m}" will be ignored.`):p[m]=w}Object.assign(s,p),Object.assign(s,{...r(s),lazy:void 0})})();return NP.set(s,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let o=Object.keys(t.lazy),a=[],l;for(let c of o){if(i&&i.includes(c))continue;let h=cO({key:c,route:t,manifest:n,mapRouteProperties:r});h&&(a.push(h),c===e&&(l=h))}let u=a.length>0?Promise.all(a).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function DP(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function Nz(t){return t.matches.some(e=>e.route.unstable_middleware)?hO(t,!1,()=>DP(t),(e,n)=>({[n]:{type:"error",result:e}})):DP(t)}async function hO(t,e,n,r){let{matches:i,request:s,params:o,context:a}=t,l={handlerResult:void 0};try{let u=i.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(f=>[h.route.id,f]):[]),c=await fO({request:s,params:o,context:a},u,e,l,n);return e?c:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let c=await r(l.middlewareError.error,l.middlewareError.routeId);return e||!l.handlerResult?c:Object.assign(l.handlerResult,c)}}async function fO(t,e,n,r,i,s=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=e[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,u]=a,c=!1,h,f=async()=>{if(c)throw new Error("You may only call `next()` once per middleware");c=!0;let p=await fO(t,e,n,r,i,s+1);if(n)return h=p,h};try{let p=await u({request:t.request,params:t.params,context:t.context},f);return c?p===void 0?h:p:f()}catch(p){throw r.middlewareError?r.middlewareError.error!==p&&(r.middlewareError={routeId:l,error:p}):r.middlewareError={routeId:l,error:p},p}}function dO(t,e,n,r,i){let s=cO({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),o=Oz(r.route,Ti(n.method)?"action":"loader",e,t,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function N_(t,e,n,r,i,s,o,a=null){let l=!1,u=dO(t,e,n,r,i);return{...r,_lazyPromises:u,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(c){return l=!0,a?typeof c=="boolean"?T0(r,{...a,defaultShouldRevalidate:c}):T0(r,a):o},resolve(c){return l||o||c&&n.method==="GET"&&(r.route.lazy||r.route.loader)?Lz({request:n,match:r,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:c,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Wc(t,e,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:dO(t,e,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:N_(t,e,n,l,s,o,!0,a))}async function Dz(t,e,n,r,i,s){n.some(u=>{var c;return(c=u._lazyPromises)==null?void 0:c.middleware})&&await Promise.all(n.map(u=>{var c;return(c=u._lazyPromises)==null?void 0:c.middleware}));let o={request:e,params:n[0].params,context:i,matches:n},l=await t({...o,fetcherKey:r,unstable_runClientMiddleware:s?()=>{throw new Error("You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:u=>{let c=o;return hO(c,!1,()=>u({...c,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,f)=>({[f]:{type:"error",result:h}}))}});try{await Promise.all(n.flatMap(u=>{var c,h;return[(c=u._lazyPromises)==null?void 0:c.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return l}async function Lz({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=Ti(t.method),u=l?"action":"loader",c=h=>{let f,p=new Promise((x,v)=>f=v);a=()=>f(),t.signal.addEventListener("abort",a);let m=x=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${e.route.id}]`)):h({request:t,params:e.params,context:s},...x!==void 0?[x]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(v=>m(v)):m())}}catch(x){return{type:"error",result:x}}})();return Promise.race([w,p])};try{let h=l?e.route.action:e.route.loader;if(n||r)if(h){let f,[p]=await Promise.all([c(h).catch(m=>{f=m}),n,r]);if(f!==void 0)throw f;o=p}else{await n;let f=l?e.route.action:e.route.loader;if(f)[o]=await Promise.all([c(f),r]);else if(u==="action"){let p=new URL(t.url),m=p.pathname+p.search;throw Zi(405,{method:t.method,pathname:m,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(h)o=await c(h);else{let f=new URL(t.url),p=f.pathname+f.search;throw Zi(404,{pathname:p})}}catch(h){return{type:"error",result:h}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function Vz(t){var r,i,s,o,a,l;let{result:e,type:n}=t;if(mO(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:"error",error:c}}return n==="error"?{type:"error",error:new P0(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return n==="error"?UP(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new P0(((s=e.init)==null?void 0:s.status)||500,void 0,e.data),statusCode:jd(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:jd(e)?e.status:void 0}:UP(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Fz(t,e,n,r,i){let s=t.headers.get("Location");if(ot(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!uE.test(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=M_(new URL(e.url),o,i,s),t.headers.set("Location",s)}return t}function LP(t,e,n){if(uE.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=cs(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function lc(t,e,n,r){let i=t.createURL(pO(e)).toString(),s={signal:n};if(r&&Ti(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=D_(r.formData):s.body=r.formData}return new Request(i,s)}function D_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function VP(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Bz(t,e,n,r=!1,i=!1){let s={},o=null,a,l=!1,u={},c=n&&Pi(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,p=e[f];if(ot(!hu(p),"Cannot handle redirect results in processLoaderData"),Pi(p)){let m=p.error;if(c!==void 0&&(m=c,c=void 0),o=o||{},i)o[f]=m;else{let w=ru(t,f);o[w.route.id]==null&&(o[w.route.id]=m)}r||(s[f]=lO),l||(l=!0,a=jd(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else s[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[f]=p.headers)}),c!==void 0&&n&&(o={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function FP(t,e,n,r,i,s){let{loaderData:o,errors:a}=Bz(e,n,r);return i.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:c,controller:h}=l,f=s[u];if(ot(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Pi(f)){let p=ru(t.matches,c==null?void 0:c.route.id);a&&a[p.route.id]||(a={...a,[p.route.id]:f.error}),t.fetchers.delete(u)}else if(hu(f))ot(!1,"Unhandled fetcher revalidation redirect");else{let p=Da(f.data);t.fetchers.set(u,p)}}),{loaderData:o,errors:a}}function BP(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==lO).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function zP(t){return t?Pi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ru(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function jP(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zi(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?a=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",a=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?a=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new P0(t||500,o,new Error(a),!0)}function Tm(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(hu(i))return{key:r,result:i}}}function pO(t){let e=typeof t=="string"?Sa(t):t;return _l({...e,hash:""})}function zz(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jz(t){return mO(t.result)&&Az.has(t.result.status)}function Pi(t){return t.type==="error"}function hu(t){return(t&&t.type)==="redirect"}function UP(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function mO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Uz(t){return Sz.has(t.toUpperCase())}function Ti(t){return xz.has(t.toUpperCase())}function cE(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jf(t,e){let n=typeof e=="string"?Sa(e).search:e.search;if(t[t.length-1].route.index&&cE(n||""))return t[t.length-1];let r=sO(t);return r[r.length-1]}function $P(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function _1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $z(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Gz(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Da(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Hz(t,e){try{let n=t.sessionStorage.getItem(aO);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function qz(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(aO,JSON.stringify(n))}catch(r){Rn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Wz(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var $u=C.createContext(null);$u.displayName="DataRouter";var Sp=C.createContext(null);Sp.displayName="DataRouterState";var hE=C.createContext({isTransitioning:!1});hE.displayName="ViewTransition";var gO=C.createContext(new Map);gO.displayName="Fetchers";var Kz=C.createContext(null);Kz.displayName="Await";var Qs=C.createContext(null);Qs.displayName="Navigation";var Ap=C.createContext(null);Ap.displayName="Location";var fs=C.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var fE=C.createContext(null);fE.displayName="RouteError";function Qz(t,{relative:e}={}){ot(Fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Qs),{hash:i,pathname:s,search:o}=Pp(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:yo([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Fh(){return C.useContext(Ap)!=null}function Ys(){return ot(Fh(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Ap).location}var yO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vO(t){C.useContext(Qs).static||C.useLayoutEffect(t)}function ds(){let{isDataRoute:t}=C.useContext(fs);return t?hj():Yz()}function Yz(){ot(Fh(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext($u),{basename:e,navigator:n}=C.useContext(Qs),{matches:r}=C.useContext(fs),{pathname:i}=Ys(),s=JSON.stringify($y(r)),o=C.useRef(!1);return vO(()=>{o.current=!0}),C.useCallback((l,u={})=>{if(Rn(o.current,yO),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Gy(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:yo([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}var Xz=C.createContext(null);function Jz(t){let e=C.useContext(fs).outlet;return e&&C.createElement(Xz.Provider,{value:t},e)}function Zz(){let{matches:t}=C.useContext(fs),e=t[t.length-1];return e?e.params:{}}function Pp(t,{relative:e}={}){let{matches:n}=C.useContext(fs),{pathname:r}=Ys(),i=JSON.stringify($y(n));return C.useMemo(()=>Gy(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function ej(t,e,n,r){var S;ot(Fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=C.useContext(Qs),{matches:o}=C.useContext(fs),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let A=h&&h.path||"";wO(u,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let f=Ys(),p;if(e){let A=typeof e=="string"?Sa(e):e;ot(c==="/"||((S=A.pathname)==null?void 0:S.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${A.pathname}" was given in the \`location\` prop.`),p=A}else p=f;let m=p.pathname||"/",w=m;if(c!=="/"){let A=c.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=!s&&n&&n.matches&&n.matches.length>0?n.matches:$a(t,{pathname:w});Rn(h||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Rn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=sj(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:yo([c,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?c:yo([c,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return e&&v?C.createElement(Ap.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function tj(){let t=cj(),e=jd(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,o)}var nj=C.createElement(tj,null),rj=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(fs.Provider,{value:this.props.routeContext},C.createElement(fE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ij({routeContext:t,match:e,children:n}){let r=C.useContext($u);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(fs.Provider,{value:t},n)}function sj(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);ot(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:h}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let h,f=!1,p=null,m=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,p=u.route.errorElement||nj,o&&(a<0&&c===0?(wO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):a===c&&(f=!0,m=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,c+1)),x=()=>{let v;return h?v=p:f?v=m:u.route.Component?v=C.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,C.createElement(ij,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?C.createElement(rj,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function dE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oj(t){let e=C.useContext($u);return ot(e,dE(t)),e}function aj(t){let e=C.useContext(Sp);return ot(e,dE(t)),e}function lj(t){let e=C.useContext(fs);return ot(e,dE(t)),e}function pE(t){let e=lj(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uj(){return pE("useRouteId")}function cj(){var r;let t=C.useContext(fE),e=aj("useRouteError"),n=pE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function hj(){let{router:t}=oj("useNavigate"),e=pE("useNavigate"),n=C.useRef(!1);return vO(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{Rn(n.current,yO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var GP={};function wO(t,e,n){!e&&!GP[t]&&(GP[t]=!0,Rn(!1,n))}var HP={};function qP(t,e){!t&&!HP[e]&&(HP[e]=!0,console.warn(e))}function fj(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:C.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var dj=["HydrateFallback","hydrateFallbackElement"],pj=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function mj({router:t,flushSync:e}){let[n,r]=C.useState(t.state),[i,s]=C.useState(),[o,a]=C.useState({isTransitioning:!1}),[l,u]=C.useState(),[c,h]=C.useState(),[f,p]=C.useState(),m=C.useRef(new Map),w=C.useCallback((A,{deletedFetchers:M,flushSync:U,viewTransitionOpts:N})=>{A.fetchers.forEach((R,L)=>{R.data!==void 0&&m.current.set(L,R.data)}),M.forEach(R=>m.current.delete(R)),qP(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(qP(N==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!D){e&&U?e(()=>r(A)):C.startTransition(()=>r(A));return}if(e&&U){e(()=>{c&&(l&&l.resolve(),c.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let R=t.window.document.startViewTransition(()=>{e(()=>r(A))});R.finished.finally(()=>{e(()=>{u(void 0),h(void 0),s(void 0),a({isTransitioning:!1})})}),e(()=>h(R));return}c?(l&&l.resolve(),c.skipTransition(),p({state:A,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(s(A),a({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[t.window,e,c,l]);C.useLayoutEffect(()=>t.subscribe(w),[t,w]),C.useEffect(()=>{o.isTransitioning&&!o.flushSync&&u(new pj)},[o]),C.useEffect(()=>{if(l&&i&&t.window){let A=i,M=l.promise,U=t.window.document.startViewTransition(async()=>{C.startTransition(()=>r(A)),await M});U.finished.finally(()=>{u(void 0),h(void 0),s(void 0),a({isTransitioning:!1})}),h(U)}},[i,l,t.window]),C.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,c,n.location,i]),C.useEffect(()=>{!o.isTransitioning&&f&&(s(f.state),a({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),p(void 0))},[o.isTransitioning,f]);let x=C.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,M,U)=>t.navigate(A,{state:M,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(A,M,U)=>t.navigate(A,{replace:!0,state:M,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[t]),v=t.basename||"/",S=C.useMemo(()=>({router:t,navigator:x,static:!1,basename:v}),[t,x,v]);return C.createElement(C.Fragment,null,C.createElement($u.Provider,{value:S},C.createElement(Sp.Provider,{value:n},C.createElement(gO.Provider,{value:m.current},C.createElement(hE.Provider,{value:o},C.createElement(_j,{basename:v,location:n.location,navigationType:n.historyAction,navigator:x},C.createElement(gj,{routes:t.routes,future:t.future,state:n})))))),null)}var gj=C.memo(yj);function yj({routes:t,future:e,state:n}){return ej(t,void 0,n,e)}function vj({to:t,replace:e,state:n,relative:r}){ot(Fh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Qs);Rn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(fs),{pathname:o}=Ys(),a=ds(),l=Gy(t,$y(s),o,r==="path"),u=JSON.stringify(l);return C.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function wj(t){return Jz(t.context)}function _j({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ot(!Fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Sa(n));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:f="default"}=n,p=C.useMemo(()=>{let m=cs(l,o);return m==null?null:{location:{pathname:m,search:u,hash:c,state:h,key:f},navigationType:r}},[o,l,u,c,h,f,r]);return Rn(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:C.createElement(Qs.Provider,{value:a},C.createElement(Ap.Provider,{children:e,value:p}))}var Pg="get",Tg="application/x-www-form-urlencoded";function Hy(t){return t!=null&&typeof t.tagName=="string"}function bj(t){return Hy(t)&&t.tagName.toLowerCase()==="button"}function xj(t){return Hy(t)&&t.tagName.toLowerCase()==="form"}function Ej(t){return Hy(t)&&t.tagName.toLowerCase()==="input"}function Sj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Aj(t,e){return t.button===0&&(!e||e==="_self")&&!Sj(t)}var Cm=null;function Pj(){if(Cm===null)try{new FormData(document.createElement("form"),0),Cm=!1}catch{Cm=!0}return Cm}var Tj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b1(t){return t!=null&&!Tj.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tg}"`),null):t}function Cj(t,e){let n,r,i,s,o;if(xj(t)){let a=t.getAttribute("action");r=a?cs(a,e):null,n=t.getAttribute("method")||Pg,i=b1(t.getAttribute("enctype"))||Tg,s=new FormData(t)}else if(bj(t)||Ej(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?cs(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Pg,i=b1(t.getAttribute("formenctype"))||b1(a.getAttribute("enctype"))||Tg,s=new FormData(a,t),!Pj()){let{name:u,type:c,value:h}=t;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Hy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pg,r=null,i=Tg,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function mE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Ij(t,e){if(t.id in e)return e[t.id];try{let n=await VB(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rj(t){return t!=null&&typeof t.page=="string"}function kj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Mj(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await Ij(s,n);return o.links?o.links():[]}return[]}));return Lj(r.flat(1).filter(kj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function WP(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Oj(t,e,{includeHydrateFallback:n}={}){return Nj(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Nj(t){return[...new Set(t)]}function Dj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Lj(t,e){let n=new Set,r=new Set(e);return t.reduce((i,s)=>{if(e&&!Rj(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(Dj(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}var Vj=new Set([100,101,204,205]);function Fj(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&cs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _O(){let t=C.useContext($u);return mE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Bj(){let t=C.useContext(Sp);return mE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gE=C.createContext(void 0);gE.displayName="FrameworkContext";function bO(){let t=C.useContext(gE);return mE(t,"You must render this element inside a <HydratedRouter> element"),t}function zj(t,e){let n=C.useContext(gE),[r,i]=C.useState(!1),[s,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=e,f=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=v=>{v.forEach(S=>{o(S.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),C.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Ef(a,p),onBlur:Ef(l,m),onMouseEnter:Ef(u,p),onMouseLeave:Ef(c,m),onTouchStart:Ef(h,p)}]:[!1,f,{}]}function Ef(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jj({page:t,...e}){let{router:n}=_O(),r=C.useMemo(()=>$a(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement($j,{page:t,matches:r,...e}):null}function Uj(t){let{manifest:e,routeModules:n}=bO(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return Mj(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function $j({page:t,matches:e,...n}){let r=Ys(),{manifest:i,routeModules:s}=bO(),{basename:o}=_O(),{loaderData:a,matches:l}=Bj(),u=C.useMemo(()=>WP(t,e,l,i,r,"data"),[t,e,l,i,r]),c=C.useMemo(()=>WP(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,w=!1;if(e.forEach(v=>{var A;let S=i.routes[v.route.id];!S||!S.hasLoader||(!u.some(M=>M.route.id===v.route.id)&&v.route.id in a&&((A=s[v.route.id])!=null&&A.shouldRevalidate)||S.hasClientLoader?w=!0:m.add(v.route.id))}),m.size===0)return[];let x=Fj(t,o);return w&&m.size>0&&x.searchParams.set("_routes",e.filter(v=>m.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[o,a,r,i,u,e,t,s]),f=C.useMemo(()=>Oj(c,i),[c,i]),p=Uj(c);return C.createElement(C.Fragment,null,h.map(m=>C.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>C.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:w})=>C.createElement("link",{key:m,...w})))}function Gj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xO&&(window.__reactRouterVersion="7.5.1")}catch{}function Hj(t,e){return Iz({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:YB({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||qj(),routes:t,mapRouteProperties:fj,hydrationRouteProperties:dj,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function qj(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:Wj(t.errors)}),t}function Wj(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new P0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var EO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h,...f},p){let{basename:m}=C.useContext(Qs),w=typeof u=="string"&&EO.test(u),x,v=!1;if(typeof u=="string"&&w&&(x=u,xO))try{let L=new URL(window.location.href),z=u.startsWith("//")?new URL(L.protocol+u):new URL(u),G=cs(z.pathname,m);z.origin===L.origin&&G!=null?u=G+z.search+z.hash:v=!0}catch{Rn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=Qz(u,{relative:i}),[A,M,U]=zj(r,f),N=Xj(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function D(L){e&&e(L),L.defaultPrevented||N(L)}let R=C.createElement("a",{...f,...U,href:x||S,onClick:v||s?e:D,ref:Gj(p,M),target:l,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?C.createElement(C.Fragment,null,R,C.createElement(jj,{page:S})):R});iu.displayName="Link";var Kj=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let h=Pp(o,{relative:u.relative}),f=Ys(),p=C.useContext(Sp),{navigator:m,basename:w}=C.useContext(Qs),x=p!=null&&nU(h)&&a===!0,v=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,S=f.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(S=S.toLowerCase(),A=A?A.toLowerCase():null,v=v.toLowerCase()),A&&w&&(A=cs(A,w)||A);const M=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let U=S===v||!i&&S.startsWith(v)&&S.charAt(M)==="/",N=A!=null&&(A===v||!i&&A.startsWith(v)&&A.charAt(v.length)==="/"),D={isActive:U,isPending:N,isTransitioning:x},R=U?e:void 0,L;typeof r=="function"?L=r(D):L=[r,U?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let z=typeof s=="function"?s(D):s;return C.createElement(iu,{...u,"aria-current":R,className:L,ref:c,style:z,to:o,viewTransition:a},typeof l=="function"?l(D):l)});Kj.displayName="NavLink";var Qj=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Pg,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...f},p)=>{let m=eU(),w=tU(a,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&EO.test(a),S=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,U=(M==null?void 0:M.getAttribute("formmethod"))||o;m(M||A.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:h})};return C.createElement("form",{ref:p,method:x,action:w,onSubmit:r?l:S,...f,"data-discover":!v&&t==="render"?"true":void 0})});Qj.displayName="Form";function Yj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SO(t){let e=C.useContext($u);return ot(e,Yj(t)),e}function Xj(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=ds(),l=Ys(),u=Pp(t,{relative:s});return C.useCallback(c=>{if(Aj(c,e)){c.preventDefault();let h=n!==void 0?n:_l(l)===_l(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var Jj=0,Zj=()=>`__${String(++Jj)}__`;function eU(){let{router:t}=SO("useSubmit"),{basename:e}=C.useContext(Qs),n=uj();return C.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=Cj(r,e);if(i.navigate===!1){let c=i.fetcherKey||Zj();await t.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function tU(t,{relative:e}={}){let{basename:n}=C.useContext(Qs),r=C.useContext(fs);ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Pp(t||".",{relative:e})},o=Ys();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let c=a.toString();s.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:yo([n,s.pathname])),_l(s)}function nU(t,e={}){let n=C.useContext(hE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=SO("useViewTransitionState"),i=Pp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return A0(i.pathname,o)!=null||A0(i.pathname,s)!=null}new TextEncoder;[...Vj];function rU(){return b.jsx(b.Fragment,{children:b.jsx(wj,{})})}/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iU(t){return C.createElement(mj,{flushSync:aE.flushSync,...t})}var AO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(AO);var sU=AO.exports;const Ne=Ml(sU);function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(null,arguments)}function PO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KP(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function oU(t){var e=aU(t,"string");return typeof e=="symbol"?e:String(e)}function aU(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lU(t,e,n){var r=C.useRef(t!==void 0),i=C.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,C.useCallback(function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(h)),o(u)},[n])]}function Tp(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[KP(r)],a=s[r],l=PO(s,[KP(r),r].map(oU)),u=e[r],c=lU(a,o,t[u]),h=c[0],f=c[1];return L_({},l,(i={},i[r]=h,i[u]=f,i))},t)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},V_(t,e)}function uU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,V_(t,e)}const cU=["xxl","xl","lg","md","sm","xs"],hU="xs",qy=C.createContext({prefixes:{},breakpoints:cU,minBreakpoint:hU});function ze(t,e){const{prefixes:n}=C.useContext(qy);return t||n[e]||e}function TO(){const{breakpoints:t}=C.useContext(qy);return t}function CO(){const{minBreakpoint:t}=C.useContext(qy);return t}function IO(){const{dir:t}=C.useContext(qy);return t==="rtl"}function Wy(t){return t&&t.ownerDocument||document}function fU(t){var e=Wy(t);return e&&e.defaultView||window}function dU(t,e){return fU(t).getComputedStyle(t,e)}var pU=/([A-Z])/g;function mU(t){return t.replace(pU,"-$1").toLowerCase()}var gU=/^ms-/;function Im(t){return mU(t).replace(gU,"-ms-")}var yU=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function vU(t){return!!(t&&yU.test(t))}function oa(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Im(e))||dU(t).getPropertyValue(Im(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Im(i)):vU(i)?r+=i+"("+s+") ":n+=Im(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var RO={exports:{}},wU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_U=wU,bU=_U;function kO(){}function MO(){}MO.resetWarningCache=kO;var xU=function(){function t(r,i,s,o,a,l){if(l!==bU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MO,resetWarningCache:kO};return n.PropTypes=n,n};RO.exports=xU();var EU=RO.exports;const ui=Ml(EU),QP={disabled:!1},OO=yr.createContext(null);var SU=function(e){return e.scrollTop},Uf="unmounted",za="exited",Is="entering",Ko="entered",Ud="exiting",Aa=function(t){uU(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=za,s.appearStatus=Is):l=Ko:r.unmountOnExit||r.mountOnEnter?l=Uf:l=za,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Uf?{status:za}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Is&&o!==Ko&&(s=Is):(o===Is||o===Ko)&&(s=Ud)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Is){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Pc.findDOMNode(this);o&&SU(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===za&&this.setState({status:Uf})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Pc.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||QP.disabled){this.safeSetState({status:Ko},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Is},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:Ko},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Pc.findDOMNode(this);if(!s||QP.disabled){this.safeSetState({status:za},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ud},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:za},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Pc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Uf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=PO(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return yr.createElement(OO.Provider,{value:null},typeof o=="function"?o(i,a):yr.cloneElement(yr.Children.only(o),a))},e}(yr.Component);Aa.contextType=OO;Aa.propTypes={};function tc(){}Aa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:tc,onEntering:tc,onEntered:tc,onExit:tc,onExiting:tc,onExited:tc};Aa.UNMOUNTED=Uf;Aa.EXITED=za;Aa.ENTERING=Is;Aa.ENTERED=Ko;Aa.EXITING=Ud;const AU=Aa;function PU(t){return t.code==="Escape"||t.keyCode===27}function TU(){const t=C.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Bh(t){if(!t||typeof t=="function")return null;const{major:e}=TU();return e>=19?t.props.ref:t.ref}const zh=!!(typeof window<"u"&&window.document&&window.document.createElement);var F_=!1,B_=!1;try{var x1={get passive(){return F_=!0},get once(){return B_=F_=!0}};zh&&(window.addEventListener("test",x1,x1),window.removeEventListener("test",x1,!0))}catch{}function NO(t,e,n,r){if(r&&typeof r!="boolean"&&!B_){var i=r.once,s=r.capture,o=n;!B_&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,F_?r:s)}t.addEventListener(e,n,r)}function z_(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function C0(t,e,n,r){return NO(t,e,n,r),function(){z_(t,e,n,r)}}function CU(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function IU(t){var e=oa(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function RU(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||CU(t,"transitionend",!0)},e+n),s=C0(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function DO(t,e,n,r){n==null&&(n=IU(t)||0);var i=RU(t,n,r),s=C0(t,"transitionend",e);return function(){i(),s()}}function YP(t,e){const n=oa(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Ky(t,e){const n=YP(t,"transitionDuration"),r=YP(t,"transitionDelay"),i=DO(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Sf(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function yE(t){t.offsetHeight}const XP=t=>!t||typeof t=="function"?t:e=>{t.current=e};function kU(t,e){const n=XP(t),r=XP(e);return i=>{n&&n(i),r&&r(i)}}function LO(t,e){return C.useMemo(()=>kU(t,e),[t,e])}function MU(t){return t&&"setState"in t?Pc.findDOMNode(t):t??null}const VO=yr.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},c)=>{const h=C.useRef(null),f=LO(h,l),p=N=>{f(MU(N))},m=N=>D=>{N&&h.current&&N(h.current,D)},w=C.useCallback(m(t),[t]),x=C.useCallback(m(e),[e]),v=C.useCallback(m(n),[n]),S=C.useCallback(m(r),[r]),A=C.useCallback(m(i),[i]),M=C.useCallback(m(s),[s]),U=C.useCallback(m(o),[o]);return b.jsx(AU,{ref:c,...u,onEnter:w,onEntered:v,onEntering:x,onExit:S,onExited:M,onExiting:A,addEndListener:U,nodeRef:h,children:typeof a=="function"?(N,D)=>a(N,{...D,ref:p}):yr.cloneElement(a,{ref:p})})});VO.displayName="TransitionWrapper";const Qy=VO,OU={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function NU(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=OU[t];return r+parseInt(oa(e,i[0]),10)+parseInt(oa(e,i[1]),10)}const DU={[za]:"collapse",[Ud]:"collapsing",[Is]:"collapsing",[Ko]:"collapse show"},FO=yr.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:c=!1,unmountOnExit:h=!1,appear:f=!1,getDimensionValue:p=NU,...m},w)=>{const x=typeof a=="function"?a():a,v=C.useMemo(()=>Sf(N=>{N.style[x]="0"},t),[x,t]),S=C.useMemo(()=>Sf(N=>{const D=`scroll${x[0].toUpperCase()}${x.slice(1)}`;N.style[x]=`${N[D]}px`},e),[x,e]),A=C.useMemo(()=>Sf(N=>{N.style[x]=null},n),[x,n]),M=C.useMemo(()=>Sf(N=>{N.style[x]=`${p(x,N)}px`,yE(N)},r),[r,p,x]),U=C.useMemo(()=>Sf(N=>{N.style[x]=null},i),[x,i]);return b.jsx(Qy,{ref:w,addEndListener:Ky,...m,"aria-expanded":m.role?l:null,onEnter:v,onEntering:S,onEntered:A,onExit:M,onExiting:U,childRef:Bh(o),in:l,timeout:u,mountOnEnter:c,unmountOnExit:h,appear:f,children:(N,D)=>yr.cloneElement(o,{...D,className:Ne(s,o.props.className,DU[N],x==="width"&&"collapse-horizontal")})})});FO.displayName="Collapse";const LU=FO;function BO(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function Io(t){const e=BO(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Cp=t=>C.forwardRef((e,n)=>b.jsx("div",{...e,ref:n,className:Ne(e.className,t)})),zO=Cp("h4");zO.displayName="DivStyledAsH4";const jO=C.forwardRef(({className:t,bsPrefix:e,as:n=zO,...r},i)=>(e=ze(e,"alert-heading"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));jO.displayName="AlertHeading";const VU=jO;function FU(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function Qo(t){const e=FU(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function BU(){const t=C.useRef(!0),e=C.useRef(()=>t.current);return C.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function zU(t){const e=C.useRef(null);return C.useEffect(()=>{e.current=t}),e.current}const jU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",UU=typeof document<"u",JP=UU||jU?C.useLayoutEffect:C.useEffect,$U=["as","disabled"];function GU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HU(t){return!t||t.trim()==="#"}function vE({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=f=>{if((e||t==="a"&&HU(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},h=f=>{f.key===" "&&(f.preventDefault(),c(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:h},u]}const UO=C.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=GU(t,$U);const[s,{tagName:o}]=vE(Object.assign({tagName:n,disabled:r},i));return b.jsx(o,Object.assign({},i,s,{ref:e}))});UO.displayName="Button";const qU=["onKeyDown"];function WU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KU(t){return!t||t.trim()==="#"}const $O=C.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=WU(t,qU);const[i]=vE(Object.assign({tagName:"a"},r)),s=Qo(o=>{i.onKeyDown(o),n==null||n(o)});return KU(r.href)||r.role==="button"?b.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):b.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});$O.displayName="Anchor";const I0=$O,GO=C.forwardRef(({className:t,bsPrefix:e,as:n=I0,...r},i)=>(e=ze(e,"alert-link"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));GO.displayName="AlertLink";const QU=GO,YU={[Is]:"show",[Ko]:"show"},HO=C.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=C.useCallback((l,u)=>{yE(l),r==null||r(l,u)},[r]);return b.jsx(Qy,{ref:s,addEndListener:Ky,...o,onEnter:a,childRef:Bh(e),children:(l,u)=>C.cloneElement(e,{...u,className:Ne("fade",t,e.props.className,YU[l],n[l])})})});HO.displayName="Fade";const $d=HO,XU={"aria-label":ui.string,onClick:ui.func,variant:ui.oneOf(["white"])},wE=C.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>b.jsx("button",{ref:i,type:"button",className:Ne("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));wE.displayName="CloseButton";wE.propTypes=XU;const qO=wE,WO=C.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:u,dismissible:c,transition:h=$d,...f}=Tp(t,{show:"onClose"}),p=ze(n,"alert"),m=Io(v=>{u&&u(!1,v)}),w=h===!0?$d:h,x=b.jsxs("div",{role:"alert",...w?void 0:f,ref:e,className:Ne(o,p,l&&`${p}-${l}`,c&&`${p}-dismissible`),children:[c&&b.jsx(qO,{onClick:m,"aria-label":i,variant:s}),a]});return w?b.jsx(w,{unmountOnExit:!0,...f,ref:void 0,in:r,children:x}):r?x:null});WO.displayName="Alert";const Gd=Object.assign(WO,{Link:QU,Heading:VU}),KO=C.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const u=ze(e,"btn"),[c,{tagName:h}]=vE({tagName:t,disabled:s,...a}),f=h;return b.jsx(f,{...c,...a,ref:l,disabled:s,className:Ne(o,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&s&&"disabled")})});KO.displayName="Button";const ir=KO,QO=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"card-body"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));QO.displayName="CardBody";const YO=QO,XO=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"card-footer"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));XO.displayName="CardFooter";const JU=XO,JO=C.createContext(null);JO.displayName="CardHeaderContext";const ZO=JO,eN=C.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ze(t,"card-header"),o=C.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return b.jsx(ZO.Provider,{value:o,children:b.jsx(n,{ref:i,...r,className:Ne(e,s)})})});eN.displayName="CardHeader";const ZU=eN,tN=C.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ze(t,"card-img");return b.jsx(r,{ref:s,className:Ne(n?`${o}-${n}`:o,e),...i})});tN.displayName="CardImg";const e$=tN,nN=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"card-img-overlay"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));nN.displayName="CardImgOverlay";const t$=nN,rN=C.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=ze(e,"card-link"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));rN.displayName="CardLink";const n$=rN,r$=Cp("h6"),iN=C.forwardRef(({className:t,bsPrefix:e,as:n=r$,...r},i)=>(e=ze(e,"card-subtitle"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));iN.displayName="CardSubtitle";const i$=iN,sN=C.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=ze(e,"card-text"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));sN.displayName="CardText";const s$=sN,o$=Cp("h5"),oN=C.forwardRef(({className:t,bsPrefix:e,as:n=o$,...r},i)=>(e=ze(e,"card-title"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));oN.displayName="CardTitle";const a$=oN,aN=C.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},u)=>{const c=ze(t,"card");return b.jsx(a,{ref:u,...l,className:Ne(e,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?b.jsx(YO,{children:o}):o})});aN.displayName="Card";const xt=Object.assign(aN,{Img:e$,Title:a$,Subtitle:i$,Body:YO,Link:n$,Text:s$,Header:ZU,Footer:JU,ImgOverlay:t$});function l$(t,e){const n=C.useRef(!0);C.useEffect(()=>{if(n.current){n.current=!1;return}return t()},e)}function u$(){const t=C.useRef(!0),e=C.useRef(()=>t.current);return C.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function c$(t){const e=C.useRef(t);return e.current=t,e}function lN(t){const e=c$(t);C.useEffect(()=>()=>e.current(),[])}const j_=2**31-1;function uN(t,e,n){const r=n-Date.now();t.current=r<=j_?setTimeout(e,r):setTimeout(()=>uN(t,e,n),j_)}function h$(){const t=u$(),e=C.useRef();return lN(()=>clearTimeout(e.current)),C.useMemo(()=>{const n=()=>clearTimeout(e.current);function r(i,s=0){t()&&(n(),s<=j_?e.current=setTimeout(i,s):uN(e,i,Date.now()+s))}return{set:r,clear:n,handleRef:e}},[])}const cN=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"carousel-caption"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));cN.displayName="CarouselCaption";const f$=cN,hN=C.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const s=Ne(n,ze(e,"carousel-item"));return b.jsx(t,{ref:i,...r,className:s})});hN.displayName="CarouselItem";const d$=hN;function ZP(t,e){let n=0;return C.Children.map(t,r=>C.isValidElement(r)?e(r,n++):r)}function p$(t,e){let n=0;C.Children.forEach(t,r=>{C.isValidElement(r)&&e(r,n++)})}function m$(t,e){return C.Children.toArray(t).some(n=>C.isValidElement(n)&&n.type===e)}const g$=40;function y$(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const fN=C.forwardRef(({defaultActiveIndex:t=0,...e},n)=>{const{as:r="div",bsPrefix:i,slide:s=!0,fade:o=!1,controls:a=!0,indicators:l=!0,indicatorLabels:u=[],activeIndex:c,onSelect:h,onSlide:f,onSlid:p,interval:m=5e3,keyboard:w=!0,onKeyDown:x,pause:v="hover",onMouseOver:S,onMouseOut:A,wrap:M=!0,touch:U=!0,onTouchStart:N,onTouchMove:D,onTouchEnd:R,prevIcon:L=b.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:z="Previous",nextIcon:G=b.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:W="Next",variant:E,className:g,children:T,...k}=Tp({defaultActiveIndex:t,...e},{activeIndex:"onSelect"}),V=ze(i,"carousel"),O=IO(),$=C.useRef(null),[q,B]=C.useState("next"),[_,j]=C.useState(!1),[ue,I]=C.useState(!1),[Q,ne]=C.useState(c||0);C.useEffect(()=>{!ue&&c!==Q&&($.current?B($.current):B((c||0)>Q?"next":"prev"),s&&I(!0),ne(c||0))},[c,ue,Q,s]),C.useEffect(()=>{$.current&&($.current=null)});let ie=0,le;p$(T,(Ae,Ve)=>{++ie,Ve===c&&(le=Ae.props.interval)});const pe=BO(le),ce=C.useCallback(Ae=>{if(ue)return;let Ve=Q-1;if(Ve<0){if(!M)return;Ve=ie-1}$.current="prev",h==null||h(Ve,Ae)},[ue,Q,h,M,ie]),he=Io(Ae=>{if(ue)return;let Ve=Q+1;if(Ve>=ie){if(!M)return;Ve=0}$.current="next",h==null||h(Ve,Ae)}),nt=C.useRef();C.useImperativeHandle(n,()=>({element:nt.current,prev:ce,next:he}));const me=Io(()=>{!document.hidden&&y$(nt.current)&&(O?ce():he())}),_e=q==="next"?"start":"end";l$(()=>{s||(f==null||f(Q,_e),p==null||p(Q,_e))},[Q]);const $n=`${V}-item-${q}`,rt=`${V}-item-${_e}`,It=C.useCallback(Ae=>{yE(Ae),f==null||f(Q,_e)},[f,Q,_e]),Pr=C.useCallback(()=>{I(!1),p==null||p(Q,_e)},[p,Q,_e]),St=C.useCallback(Ae=>{if(w&&!/input|textarea/i.test(Ae.target.tagName))switch(Ae.key){case"ArrowLeft":Ae.preventDefault(),O?he(Ae):ce(Ae);return;case"ArrowRight":Ae.preventDefault(),O?ce(Ae):he(Ae);return}x==null||x(Ae)},[w,x,ce,he,O]),bt=C.useCallback(Ae=>{v==="hover"&&j(!0),S==null||S(Ae)},[v,S]),yn=C.useCallback(Ae=>{j(!1),A==null||A(Ae)},[A]),lt=C.useRef(0),et=C.useRef(0),Mn=h$(),Ce=C.useCallback(Ae=>{lt.current=Ae.touches[0].clientX,et.current=0,v==="hover"&&j(!0),N==null||N(Ae)},[v,N]),Le=C.useCallback(Ae=>{Ae.touches&&Ae.touches.length>1?et.current=0:et.current=Ae.touches[0].clientX-lt.current,D==null||D(Ae)},[D]),Bt=C.useCallback(Ae=>{if(U){const Ve=et.current;Math.abs(Ve)>g$&&(Ve>0?ce(Ae):he(Ae))}v==="hover"&&Mn.set(()=>{j(!1)},m||void 0),R==null||R(Ae)},[U,v,ce,he,Mn,m,R]),ft=m!=null&&!_&&!ue,At=C.useRef();C.useEffect(()=>{var Ae,Ve;if(!ft)return;const un=O?ce:he;return At.current=window.setInterval(document.visibilityState?me:un,(Ae=(Ve=pe.current)!=null?Ve:m)!=null?Ae:void 0),()=>{At.current!==null&&clearInterval(At.current)}},[ft,ce,he,pe,m,me,O]);const vn=C.useMemo(()=>l&&Array.from({length:ie},(Ae,Ve)=>un=>{h==null||h(Ve,un)}),[l,ie,h]);return b.jsxs(r,{ref:nt,...k,onKeyDown:St,onMouseOver:bt,onMouseOut:yn,onTouchStart:Ce,onTouchMove:Le,onTouchEnd:Bt,className:Ne(g,V,s&&"slide",o&&`${V}-fade`,E&&`${V}-${E}`),children:[l&&b.jsx("div",{className:`${V}-indicators`,children:ZP(T,(Ae,Ve)=>b.jsx("button",{type:"button","data-bs-target":"","aria-label":u!=null&&u.length?u[Ve]:`Slide ${Ve+1}`,className:Ve===Q?"active":void 0,onClick:vn?vn[Ve]:void 0,"aria-current":Ve===Q},Ve))}),b.jsx("div",{className:`${V}-inner`,children:ZP(T,(Ae,Ve)=>{const un=Ve===Q;return s?b.jsx(Qy,{in:un,onEnter:un?It:void 0,onEntered:un?Pr:void 0,addEndListener:Ky,children:(gt,Pt)=>C.cloneElement(Ae,{...Pt,className:Ne(Ae.props.className,un&&gt!=="entered"&&$n,(gt==="entered"||gt==="exiting")&&"active",(gt==="entering"||gt==="exiting")&&rt)})}):C.cloneElement(Ae,{className:Ne(Ae.props.className,un&&"active")})})}),a&&b.jsxs(b.Fragment,{children:[(M||c!==0)&&b.jsxs(I0,{className:`${V}-control-prev`,onClick:ce,children:[L,z&&b.jsx("span",{className:"visually-hidden",children:z})]}),(M||c!==ie-1)&&b.jsxs(I0,{className:`${V}-control-next`,onClick:he,children:[G,W&&b.jsx("span",{className:"visually-hidden",children:W})]})]})]})});fN.displayName="Carousel";const E1=Object.assign(fN,{Caption:f$,Item:d$});function v$({as:t,bsPrefix:e,className:n,...r}){e=ze(e,"col");const i=TO(),s=CO(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,h,f;typeof u=="object"&&u!=null?{span:c,offset:h,order:f}=u:c=u;const p=l!==s?`-${l}`:"";c&&o.push(c===!0?`${e}${p}`:`${e}${p}-${c}`),f!=null&&a.push(`order${p}-${f}`),h!=null&&a.push(`offset${p}-${h}`)}),[{...r,className:Ne(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const dN=C.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=v$(t);return b.jsx(i,{...r,ref:e,className:Ne(n,!o.length&&s)})});dN.displayName="Col";const Vs=dN,pN=C.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=ze(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return b.jsx(n,{ref:s,...i,className:Ne(r,e?`${o}${a}`:o)})});pN.displayName="Container";const Fs=pN;var w$=Function.prototype.bind.call(Function.prototype.call,[].slice);function eu(t,e){return w$(t.querySelectorAll(e))}function _$(){const[,t]=C.useReducer(e=>e+1,0);return t}function eT(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const b$=C.createContext(null),Yy=(t,e=null)=>t!=null?String(t):e||null,R0=b$,mN=C.createContext(null);mN.displayName="NavContext";const gN=mN,x$="data-rr-ui-",E$="rrUi";function Xy(t){return`${x$}${t}`}function S$(t){return`${E$}${t}`}const yN=C.createContext(zh?window:void 0);yN.Provider;function _E(){return C.useContext(yN)}const A$=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",P$=typeof document<"u",T$=P$||A$?C.useLayoutEffect:C.useEffect,vN=C.createContext(null);vN.displayName="NavbarContext";const Ip=vN;ui.string,ui.bool,ui.bool,ui.bool,ui.bool;const wN=C.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:s=!1,...o},a)=>(t=ze(t,"img"),b.jsx("img",{ref:a,...o,className:Ne(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));wN.displayName="Image";const C$=wN,I$={type:ui.string,tooltip:ui.bool,as:ui.elementType},bE=C.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>b.jsx(t,{...i,ref:s,className:Ne(e,`${n}-${r?"tooltip":"feedback"}`)}));bE.displayName="Feedback";bE.propTypes=I$;const _N=bE,R$=C.createContext({}),da=R$,bN=C.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=C.useContext(da);return e=ze(e,"form-check-input"),b.jsx(o,{...a,ref:l,type:r,id:t||u,className:Ne(n,e,i&&"is-valid",s&&"is-invalid")})});bN.displayName="FormCheckInput";const xN=bN,EN=C.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=C.useContext(da);return t=ze(t,"form-check-label"),b.jsx("label",{...r,ref:i,htmlFor:n||s,className:Ne(e,t)})});EN.displayName="FormCheckLabel";const U_=EN,SN=C.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:h,style:f,title:p="",type:m="checkbox",label:w,children:x,as:v="input",...S},A)=>{e=ze(e,"form-check"),n=ze(n,"form-switch");const{controlId:M}=C.useContext(da),U=C.useMemo(()=>({controlId:t||M}),[M,t]),N=!x&&w!=null&&w!==!1||m$(x,U_),D=b.jsx(xN,{...S,type:m==="switch"?"checkbox":m,ref:A,isValid:o,isInvalid:a,disabled:s,as:v});return b.jsx(da.Provider,{value:U,children:b.jsx("div",{style:f,className:Ne(h,N&&e,r&&`${e}-inline`,i&&`${e}-reverse`,m==="switch"&&n),children:x||b.jsxs(b.Fragment,{children:[D,N&&b.jsx(U_,{title:p,children:w}),u&&b.jsx(_N,{type:c,tooltip:l,children:u})]})})})});SN.displayName="FormCheck";const k0=Object.assign(SN,{Input:xN,Label:U_}),AN=C.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...h},f)=>{const{controlId:p}=C.useContext(da);return t=ze(t,"form-control"),b.jsx(c,{...h,type:e,size:r,ref:f,readOnly:u,id:i||p,className:Ne(s,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});AN.displayName="FormControl";const k$=Object.assign(AN,{Feedback:_N}),PN=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"form-floating"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));PN.displayName="FormFloating";const M$=PN,TN=C.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=C.useMemo(()=>({controlId:t}),[t]);return b.jsx(da.Provider,{value:i,children:b.jsx(e,{...n,ref:r})})});TN.displayName="FormGroup";const CN=TN,IN=C.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=C.useContext(da);e=ze(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=Ne(i,e,r&&"visually-hidden",n&&u);return s=s||l,n?b.jsx(Vs,{ref:a,as:"label",className:c,htmlFor:s,...o}):b.jsx(t,{ref:a,className:c,htmlFor:s,...o})});IN.displayName="FormLabel";const O$=IN,RN=C.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=C.useContext(da);return t=ze(t,"form-range"),b.jsx("input",{...r,type:"range",ref:i,className:Ne(e,t),id:n||s})});RN.displayName="FormRange";const N$=RN,kN=C.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=C.useContext(da);return t=ze(t,"form-select"),b.jsx("select",{...a,size:n,ref:l,className:Ne(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});kN.displayName="FormSelect";const D$=kN,MN=C.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ze(t,"form-text"),b.jsx(n,{...i,ref:s,className:Ne(e,t,r&&"text-muted")})));MN.displayName="FormText";const L$=MN,ON=C.forwardRef((t,e)=>b.jsx(k0,{...t,ref:e,type:"switch"}));ON.displayName="Switch";const V$=Object.assign(ON,{Input:k0.Input,Label:k0.Label}),NN=C.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ze(t,"form-floating"),b.jsxs(CN,{ref:o,className:Ne(e,t),controlId:r,...s,children:[n,b.jsx("label",{htmlFor:r,children:i})]})));NN.displayName="FloatingLabel";const F$=NN,B$={_ref:ui.any,validated:ui.bool,as:ui.elementType},xE=C.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>b.jsx(n,{...r,ref:i,className:Ne(t,e&&"was-validated")}));xE.displayName="Form";xE.propTypes=B$;const Ke=Object.assign(xE,{Group:CN,Control:k$,Floating:M$,Check:k0,Switch:V$,Label:O$,Text:L$,Range:N$,Select:D$,FloatingLabel:F$}),tT=t=>!t||typeof t=="function"?t:e=>{t.current=e};function z$(t,e){const n=tT(t),r=tT(e);return i=>{n&&n(i),r&&r(i)}}function Jy(t,e){return C.useMemo(()=>z$(t,e),[t,e])}const j$=C.createContext(null),DN=j$,U$=["as","active","eventKey"];function $$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EE({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=C.useContext(R0),a=C.useContext(gN),l=C.useContext(DN);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const h=a.getControllerId(t??null),f=a.getControlledId(t??null);c[Xy("event-key")]=t,c.id=h||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=Qo(h=>{s||(e==null||e(h),t!=null&&o&&!h.isPropagationStopped()&&o(t,h))}),[c,{isActive:u}]}const LN=C.forwardRef((t,e)=>{let{as:n=UO,active:r,eventKey:i}=t,s=$$(t,U$);const[o,a]=EE(Object.assign({key:Yy(i,s.href),active:r},s));return o[Xy("active")]=a.isActive,b.jsx(n,Object.assign({},s,o,{ref:e}))});LN.displayName="NavItem";const G$=LN,H$=["as","onSelect","activeKey","role","onKeyDown"];function q$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const nT=()=>{},rT=Xy("event-key"),VN=C.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=q$(t,H$);const l=_$(),u=C.useRef(!1),c=C.useContext(R0),h=C.useContext(DN);let f,p;h&&(s=s||"tablist",i=h.activeKey,f=h.getControlledId,p=h.getControllerId);const m=C.useRef(null),w=A=>{const M=m.current;if(!M)return null;const U=eu(M,`[${rT}]:not([aria-disabled=true])`),N=M.querySelector("[aria-selected=true]");if(!N||N!==document.activeElement)return null;const D=U.indexOf(N);if(D===-1)return null;let R=D+A;return R>=U.length&&(R=0),R<0&&(R=U.length-1),U[R]},x=(A,M)=>{A!=null&&(r==null||r(A,M),c==null||c(A,M))},v=A=>{if(o==null||o(A),!h)return;let M;switch(A.key){case"ArrowLeft":case"ArrowUp":M=w(-1);break;case"ArrowRight":case"ArrowDown":M=w(1);break;default:return}M&&(A.preventDefault(),x(M.dataset[S$("EventKey")]||null,A),u.current=!0,l())};C.useEffect(()=>{if(m.current&&u.current){const A=m.current.querySelector(`[${rT}][aria-selected=true]`);A==null||A.focus()}u.current=!1});const S=Jy(e,m);return b.jsx(R0.Provider,{value:x,children:b.jsx(gN.Provider,{value:{role:s,activeKey:Yy(i),getControlledId:f||nT,getControllerId:p||nT},children:b.jsx(n,Object.assign({},a,{onKeyDown:v,ref:S,role:s}))})})});VN.displayName="Nav";const FN=Object.assign(VN,{Item:G$}),BN=C.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},u)=>{t=ze(t,"list-group-item");const[c,h]=EE({key:Yy(r,l.href),active:e,...l}),f=Io(m=>{if(n){m.preventDefault(),m.stopPropagation();return}c.onClick(m)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const p=a||(o?l.href?"a":"button":"div");return b.jsx(p,{ref:u,...l,...c,onClick:f,className:Ne(i,t,h.isActive&&"active",n&&"disabled",s&&`${t}-${s}`,o&&`${t}-action`)})});BN.displayName="ListGroupItem";const W$=BN,zN=C.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=Tp(t,{activeKey:"onSelect"}),u=ze(r,"list-group");let c;return s&&(c=s===!0?"horizontal":`horizontal-${s}`),b.jsx(FN,{ref:e,...l,as:a,className:Ne(n,u,i&&`${u}-${i}`,c&&`${u}-${c}`,o&&`${u}-numbered`)})});zN.displayName="ListGroup";const od=Object.assign(zN,{Item:W$});var Rm;function iT(t){if((!Rm&&Rm!==0||t)&&zh){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Rm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Rm}function K$(){return C.useState(null)}function S1(t){t===void 0&&(t=Wy());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Q$(t){const e=C.useRef(t);return e.current=t,e}function Y$(t){const e=Q$(t);C.useEffect(()=>()=>e.current(),[])}function X$(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const sT=Xy("modal-open");class J${constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return X$(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(oa(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(sT,""),oa(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(sT),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const SE=J$,A1=(t,e)=>zh?t==null?(e||Wy()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Z$(t,e){const n=_E(),[r,i]=C.useState(()=>A1(t,n==null?void 0:n.document));if(!r){const s=A1(t);s&&i(s)}return C.useEffect(()=>{e&&r&&e(r)},[e,r]),C.useEffect(()=>{const s=A1(t);s!==r&&i(s)},[t,r]),r}function eG({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=C.useRef(null),o=C.useRef(e),a=Qo(n);C.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=Jy(s,Bh(t)),u=C.cloneElement(t,{ref:l});return e?u:i||!o.current&&r?null:u}const tG=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function nG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rG(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=t,u=nG(t,tG);const c=C.useRef(null),h=Jy(c,Bh(l)),f=M=>U=>{M&&c.current&&M(c.current,U)},p=C.useCallback(f(e),[e]),m=C.useCallback(f(n),[n]),w=C.useCallback(f(r),[r]),x=C.useCallback(f(i),[i]),v=C.useCallback(f(s),[s]),S=C.useCallback(f(o),[o]),A=C.useCallback(f(a),[a]);return Object.assign({},u,{nodeRef:c},e&&{onEnter:p},n&&{onEntering:m},r&&{onEntered:w},i&&{onExit:x},s&&{onExiting:v},o&&{onExited:S},a&&{addEndListener:A},{children:typeof l=="function"?(M,U)=>l(M,Object.assign({},U,{ref:h})):C.cloneElement(l,{ref:h})})}const iG=["component"];function sG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const oG=C.forwardRef((t,e)=>{let{component:n}=t,r=sG(t,iG);const i=rG(r);return b.jsx(n,Object.assign({ref:e},i))}),aG=oG;function lG({in:t,onTransition:e}){const n=C.useRef(null),r=C.useRef(!0),i=Qo(e);return JP(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),JP(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function uG({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=C.useState(!e);e&&s&&o(!1);const a=lG({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,h=>{throw u.in||o(!0),h})}}),l=Jy(a,Bh(t));return s&&!e?null:C.cloneElement(t,{ref:l})}function oT(t,e,n){return t?b.jsx(aG,Object.assign({},n,{component:t})):e?b.jsx(uG,Object.assign({},n,{transition:e})):b.jsx(eG,Object.assign({},n))}const cG=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function hG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let P1;function fG(t){return P1||(P1=new SE({ownerDocument:t==null?void 0:t.document})),P1}function dG(t){const e=_E(),n=t||fG(e),r=C.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:C.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:C.useCallback(i=>{r.current.backdrop=i},[])})}const jN=C.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:h,runTransition:f,backdropTransition:p,runBackdropTransition:m,autoFocus:w=!0,enforceFocus:x=!0,restoreFocus:v=!0,restoreFocusOptions:S,renderDialog:A,renderBackdrop:M=_e=>b.jsx("div",Object.assign({},_e)),manager:U,container:N,onShow:D,onHide:R=()=>{},onExit:L,onExited:z,onExiting:G,onEnter:W,onEntering:E,onEntered:g}=t,T=hG(t,cG);const k=_E(),V=Z$(N),O=dG(U),$=BU(),q=zU(n),[B,_]=C.useState(!n),j=C.useRef(null);C.useImperativeHandle(e,()=>O,[O]),zh&&!q&&n&&(j.current=S1(k==null?void 0:k.document)),n&&B&&_(!1);const ue=Qo(()=>{if(O.add(),pe.current=C0(document,"keydown",ie),le.current=C0(document,"focus",()=>setTimeout(Q),!0),D&&D(),w){var _e,$n;const rt=S1((_e=($n=O.dialog)==null?void 0:$n.ownerDocument)!=null?_e:k==null?void 0:k.document);O.dialog&&rt&&!eT(O.dialog,rt)&&(j.current=rt,O.dialog.focus())}}),I=Qo(()=>{if(O.remove(),pe.current==null||pe.current(),le.current==null||le.current(),v){var _e;(_e=j.current)==null||_e.focus==null||_e.focus(S),j.current=null}});C.useEffect(()=>{!n||!V||ue()},[n,V,ue]),C.useEffect(()=>{B&&I()},[B,I]),Y$(()=>{I()});const Q=Qo(()=>{if(!x||!$()||!O.isTopModal())return;const _e=S1(k==null?void 0:k.document);O.dialog&&_e&&!eT(O.dialog,_e)&&O.dialog.focus()}),ne=Qo(_e=>{_e.target===_e.currentTarget&&(u==null||u(_e),a===!0&&R())}),ie=Qo(_e=>{l&&PU(_e)&&O.isTopModal()&&(c==null||c(_e),_e.defaultPrevented||R())}),le=C.useRef(),pe=C.useRef(),ce=(..._e)=>{_(!0),z==null||z(..._e)};if(!V)return null;const he=Object.assign({role:r,ref:O.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},T,{style:s,className:i,tabIndex:-1});let nt=A?A(he):b.jsx("div",Object.assign({},he,{children:C.cloneElement(o,{role:"document"})}));nt=oT(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:L,onExiting:G,onExited:ce,onEnter:W,onEntering:E,onEntered:g,children:nt});let me=null;return a&&(me=M({ref:O.setBackdropRef,onClick:ne}),me=oT(p,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:me})),b.jsx(b.Fragment,{children:Pc.createPortal(b.jsxs(b.Fragment,{children:[me,nt]}),V)})});jN.displayName="Modal";const UN=Object.assign(jN,{Manager:SE});function pG(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function mG(t,e){t.classList?t.classList.add(e):pG(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function aT(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function gG(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=aT(t.className,e):t.setAttribute("class",aT(t.className&&t.className.baseVal||"",e))}const nc={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class $N extends SE{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,oa(n,{[e]:`${parseFloat(oa(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],oa(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(mG(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";eu(n,nc.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),eu(n,nc.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),eu(n,nc.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();gG(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";eu(n,nc.FIXED_CONTENT).forEach(s=>this.restore(r,s)),eu(n,nc.STICKY_CONTENT).forEach(s=>this.restore(i,s)),eu(n,nc.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let T1;function GN(t){return T1||(T1=new $N(t)),T1}const yG=$N,HN=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"modal-body"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));HN.displayName="ModalBody";const vG=HN,wG=C.createContext({onHide(){}}),AE=wG,qN=C.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},u)=>{t=ze(t,"modal");const c=`${t}-dialog`,h=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return b.jsx("div",{...l,ref:u,className:Ne(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,s&&h),children:b.jsx("div",{className:Ne(`${t}-content`,n),children:o})})});qN.displayName="ModalDialog";const WN=qN,KN=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"modal-footer"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));KN.displayName="ModalFooter";const _G=KN,QN=C.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=C.useContext(AE),l=Io(()=>{a==null||a.onHide(),r==null||r()});return b.jsxs("div",{ref:o,...s,children:[i,n&&b.jsx(qO,{"aria-label":t,variant:e,onClick:l})]})});QN.displayName="AbstractModalHeader";const YN=QN,XN=C.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=ze(t,"modal-header"),b.jsx(YN,{ref:s,...i,className:Ne(e,t),closeLabel:n,closeButton:r})));XN.displayName="ModalHeader";const bG=XN,xG=Cp("h4"),JN=C.forwardRef(({className:t,bsPrefix:e,as:n=xG,...r},i)=>(e=ze(e,"modal-title"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));JN.displayName="ModalTitle";const EG=JN;function SG(t){return b.jsx($d,{...t,timeout:null})}function AG(t){return b.jsx($d,{...t,timeout:null})}const ZN=C.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=WN,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":u,"aria-label":c,show:h=!1,animation:f=!0,backdrop:p=!0,keyboard:m=!0,onEscapeKeyDown:w,onShow:x,onHide:v,container:S,autoFocus:A=!0,enforceFocus:M=!0,restoreFocus:U=!0,restoreFocusOptions:N,onEntered:D,onExit:R,onExiting:L,onEnter:z,onEntering:G,onExited:W,backdropClassName:E,manager:g,...T},k)=>{const[V,O]=C.useState({}),[$,q]=C.useState(!1),B=C.useRef(!1),_=C.useRef(!1),j=C.useRef(null),[ue,I]=K$(),Q=LO(k,I),ne=Io(v),ie=IO();t=ze(t,"modal");const le=C.useMemo(()=>({onHide:ne}),[ne]);function pe(){return g||GN({isRTL:ie})}function ce(Ce){if(!zh)return;const Le=pe().getScrollbarWidth()>0,Bt=Ce.scrollHeight>Wy(Ce).documentElement.clientHeight;O({paddingRight:Le&&!Bt?iT():void 0,paddingLeft:!Le&&Bt?iT():void 0})}const he=Io(()=>{ue&&ce(ue.dialog)});lN(()=>{z_(window,"resize",he),j.current==null||j.current()});const nt=()=>{B.current=!0},me=Ce=>{B.current&&ue&&Ce.target===ue.dialog&&(_.current=!0),B.current=!1},_e=()=>{q(!0),j.current=DO(ue.dialog,()=>{q(!1)})},$n=Ce=>{Ce.target===Ce.currentTarget&&_e()},rt=Ce=>{if(p==="static"){$n(Ce);return}if(_.current||Ce.target!==Ce.currentTarget){_.current=!1;return}v==null||v()},It=Ce=>{m?w==null||w(Ce):(Ce.preventDefault(),p==="static"&&_e())},Pr=(Ce,Le)=>{Ce&&ce(Ce),z==null||z(Ce,Le)},St=Ce=>{j.current==null||j.current(),R==null||R(Ce)},bt=(Ce,Le)=>{G==null||G(Ce,Le),NO(window,"resize",he)},yn=Ce=>{Ce&&(Ce.style.display=""),W==null||W(Ce),z_(window,"resize",he)},lt=C.useCallback(Ce=>b.jsx("div",{...Ce,className:Ne(`${t}-backdrop`,E,!f&&"show")}),[f,E,t]),et={...n,...V};et.display="block";const Mn=Ce=>b.jsx("div",{role:"dialog",...Ce,style:et,className:Ne(e,t,$&&`${t}-static`,!f&&"show"),onClick:p?rt:void 0,onMouseUp:me,"data-bs-theme":a,"aria-label":c,"aria-labelledby":l,"aria-describedby":u,children:b.jsx(o,{...T,onMouseDown:nt,className:r,contentClassName:i,children:s})});return b.jsx(AE.Provider,{value:le,children:b.jsx(UN,{show:h,ref:Q,backdrop:p,container:S,keyboard:!0,autoFocus:A,enforceFocus:M,restoreFocus:U,restoreFocusOptions:N,onEscapeKeyDown:It,onShow:x,onHide:v,onEnter:Pr,onEntering:bt,onEntered:D,onExit:St,onExiting:L,onExited:yn,manager:pe(),transition:f?SG:void 0,backdropTransition:f?AG:void 0,renderBackdrop:lt,renderDialog:Mn})})});ZN.displayName="Modal";const Uo=Object.assign(ZN,{Body:vG,Header:bG,Title:EG,Footer:_G,Dialog:WN,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),eD=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"nav-item"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));eD.displayName="NavItem";const PG=eD,tD=C.forwardRef(({bsPrefix:t,className:e,as:n=I0,active:r,eventKey:i,disabled:s=!1,...o},a)=>{t=ze(t,"nav-link");const[l,u]=EE({key:Yy(i,o.href),active:r,disabled:s,...o});return b.jsx(n,{...o,...l,ref:a,disabled:s,className:Ne(e,t,s&&"disabled",u.isActive&&"active")})});tD.displayName="NavLink";const TG=tD,nD=C.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:l,className:u,activeKey:c,...h}=Tp(t,{activeKey:"onSelect"}),f=ze(r,"nav");let p,m,w=!1;const x=C.useContext(Ip),v=C.useContext(ZO);return x?(p=x.bsPrefix,w=a??!0):v&&({cardHeaderBsPrefix:m}=v),b.jsx(FN,{as:n,ref:e,activeKey:c,className:Ne(u,{[f]:!w,[`${p}-nav`]:w,[`${p}-nav-scroll`]:w&&l,[`${m}-${i}`]:!!m,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...h})});nD.displayName="Nav";const CG=Object.assign(nD,{Item:PG,Link:TG}),rD=C.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ze(t,"navbar-brand");const s=n||(r.href?"a":"span");return b.jsx(s,{...r,ref:i,className:Ne(e,t)})});rD.displayName="NavbarBrand";const IG=rD,iD=C.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ze(e,"navbar-collapse");const i=C.useContext(Ip);return b.jsx(LU,{in:!!(i&&i.expanded),...n,children:b.jsx("div",{ref:r,className:e,children:t})})});iD.displayName="NavbarCollapse";const RG=iD,sD=C.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{t=ze(t,"navbar-toggler");const{onToggle:l,expanded:u}=C.useContext(Ip)||{},c=Io(h=>{s&&s(h),l&&l()});return i==="button"&&(o.type="button"),b.jsx(i,{...o,ref:a,onClick:c,"aria-label":r,className:Ne(e,t,!u&&"collapsed"),children:n||b.jsx("span",{className:`${t}-icon`})})});sD.displayName="NavbarToggle";const kG=sD,$_=new WeakMap,lT=(t,e)=>{if(!t||!e)return;const n=$_.get(e)||new Map;$_.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function MG(t,e=typeof window>"u"?void 0:window){const n=lT(t,e),[r,i]=C.useState(()=>n?n.matches:!1);return T$(()=>{let s=lT(t,e);if(!s)return i(!1);let o=$_.get(e);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function OG(t){const e=Object.keys(t);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){const l=r(a);let u=t[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function s(a){let l=t[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,u){let c;typeof a=="object"?(c=a,u=l,l=!0):(l=l||!0,c={[a]:l});let h=C.useMemo(()=>Object.entries(c).reduce((f,[p,m])=>((m==="up"||m===!0)&&(f=n(f,s(p))),(m==="down"||m===!0)&&(f=n(f,i(p))),f),""),[JSON.stringify(c)]);return MG(h,u)}return o}const NG=OG({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),oD=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ze(e,"offcanvas-body"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));oD.displayName="OffcanvasBody";const DG=oD,LG={[Is]:"show",[Ko]:"show"},aD=C.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(t=ze(t,"offcanvas"),b.jsx(Qy,{ref:l,addEndListener:Ky,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:Bh(n),children:(u,c)=>C.cloneElement(n,{...c,className:Ne(e,n.props.className,(u===Is||u===Ud)&&`${t}-toggling`,LG[u])})})));aD.displayName="OffcanvasToggling";const VG=aD,lD=C.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=ze(t,"offcanvas-header"),b.jsx(YN,{ref:s,...i,className:Ne(e,t),closeLabel:n,closeButton:r})));lD.displayName="OffcanvasHeader";const FG=lD,BG=Cp("h5"),uD=C.forwardRef(({className:t,bsPrefix:e,as:n=BG,...r},i)=>(e=ze(e,"offcanvas-title"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));uD.displayName="OffcanvasTitle";const zG=uD;function jG(t){return b.jsx(VG,{...t})}function UG(t){return b.jsx($d,{...t})}const cD=C.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:c,onShow:h,onHide:f,container:p,autoFocus:m=!0,enforceFocus:w=!0,restoreFocus:x=!0,restoreFocusOptions:v,onEntered:S,onExit:A,onExiting:M,onEnter:U,onEntering:N,onExited:D,backdropClassName:R,manager:L,renderStaticNode:z=!1,...G},W)=>{const E=C.useRef();t=ze(t,"offcanvas");const[g,T]=C.useState(!1),k=Io(f),V=NG(s||"xs","up");C.useEffect(()=>{T(s?o&&!V:o)},[o,s,V]);const O=C.useMemo(()=>({onHide:k}),[k]);function $(){return L||(u?(E.current||(E.current=new yG({handleContainerOverflow:!1})),E.current):GN())}const q=(ue,...I)=>{ue&&(ue.style.visibility="visible"),U==null||U(ue,...I)},B=(ue,...I)=>{ue&&(ue.style.visibility=""),D==null||D(...I)},_=C.useCallback(ue=>b.jsx("div",{...ue,className:Ne(`${t}-backdrop`,R)}),[R,t]),j=ue=>b.jsx("div",{...ue,...G,className:Ne(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return b.jsxs(b.Fragment,{children:[!g&&(s||z)&&j({}),b.jsx(AE.Provider,{value:O,children:b.jsx(UN,{show:g,ref:W,backdrop:a,container:p,keyboard:l,autoFocus:m,enforceFocus:w&&!u,restoreFocus:x,restoreFocusOptions:v,onEscapeKeyDown:c,onShow:h,onHide:k,onEnter:q,onEntering:N,onEntered:S,onExit:A,onExiting:M,onExited:B,manager:$(),transition:jG,backdropTransition:UG,renderBackdrop:_,renderDialog:j})})]})});cD.displayName="Offcanvas";const $G=Object.assign(cD,{Body:DG,Header:FG,Title:zG}),hD=C.forwardRef(({onHide:t,...e},n)=>{const r=C.useContext(Ip),i=Io(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return b.jsx($G,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});hD.displayName="NavbarOffcanvas";const GG=hD,fD=C.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=ze(e,"navbar-text"),b.jsx(n,{ref:i,className:Ne(t,e),...r})));fD.displayName="NavbarText";const HG=fD,dD=C.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:c,onToggle:h,onSelect:f,collapseOnSelect:p=!1,...m}=Tp(t,{expanded:"onToggle"}),w=ze(n,"navbar"),x=C.useCallback((...A)=>{f==null||f(...A),p&&c&&(h==null||h(!1))},[f,p,c,h]);m.role===void 0&&u!=="nav"&&(m.role="navigation");let v=`${w}-expand`;typeof r=="string"&&(v=`${v}-${r}`);const S=C.useMemo(()=>({onToggle:()=>h==null?void 0:h(!c),bsPrefix:w,expanded:!!c,expand:r}),[w,c,r,h]);return b.jsx(Ip.Provider,{value:S,children:b.jsx(R0.Provider,{value:x,children:b.jsx(u,{ref:e,...m,className:Ne(l,w,r&&v,i&&`${w}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});dD.displayName="Navbar";const km=Object.assign(dD,{Brand:IG,Collapse:RG,Offcanvas:GG,Text:HG,Toggle:kG}),pD=C.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ze(t,"row"),o=TO(),a=CO(),l=`${s}-cols`,u=[];return o.forEach(c=>{const h=r[c];delete r[c];let f;h!=null&&typeof h=="object"?{cols:f}=h:f=h;const p=c!==a?`-${c}`:"";f!=null&&u.push(`${l}${p}-${f}`)}),b.jsx(n,{ref:i,...r,className:Ne(e,s,...u)})});pD.displayName="Row";const dh=pD,mD=C.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{t=ze(t,"spinner");const l=`${t}-${n}`;return b.jsx(i,{ref:a,...o,className:Ne(s,l,r&&`${l}-${r}`,e&&`text-${e}`)})});mD.displayName="Spinner";const PE=mD;var gD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uT=yr.createContext&&yr.createContext(gD),qG=["attr","size","title"];function WG(t,e){if(t==null)return{};var n=KG(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}function cT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cT(Object(n),!0).forEach(function(r){QG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QG(t,e,n){return e=YG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=XG(t,"string");return typeof e=="symbol"?e:e+""}function XG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yD(t){return t&&t.map((e,n)=>yr.createElement(e.tag,O0({key:n},e.attr),yD(e.child)))}function Gu(t){return e=>yr.createElement(JG,M0({attr:O0({},t.attr)},e),yD(t.child))}function JG(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=WG(t,qG),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),yr.createElement("svg",M0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:O0(O0({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&yr.createElement("title",null,s),t.children)};return uT!==void 0?yr.createElement(uT.Consumer,null,n=>e(n)):e(gD)}function ZG(t){return Gu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 4H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zM4 6h16v2H4V6zm0 12v-6h16.001l.001 6H4z"},child:[]},{tag:"path",attr:{d:"M6 14h6v2H6z"},child:[]}]})(t)}function eH(t){return Gu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 13h1v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7h1a1 1 0 0 0 .707-1.707l-9-9a.999.999 0 0 0-1.414 0l-9 9A1 1 0 0 0 3 13zm7 7v-5h4v5h-4zm2-15.586 6 6V15l.001 5H16v-5c0-1.103-.897-2-2-2h-4c-1.103 0-2 .897-2 2v5H6v-9.586l6-6z"},child:[]}]})(t)}function tH(){const t=ds();return b.jsx(b.Fragment,{children:b.jsx(Fs,{className:"mt-5",children:b.jsx(dh,{className:"justify-content-center",children:b.jsx(Vs,{md:6,children:b.jsx(xt,{className:"shadow",children:b.jsxs(xt.Body,{className:"text-center",children:[b.jsx(xt.Title,{as:"h2",className:"mb-4",children:"Forma de Pago"}),b.jsxs("div",{className:"d-grid gap-3",children:[b.jsxs(ir,{variant:"primary",size:"lg",className:"py-3",onClick:()=>t("/paymeta"),children:[b.jsx(eH,{className:"me-2"})," ","Metamask"]}),b.jsxs(ir,{variant:"success",size:"lg",className:"py-3",onClick:()=>t("/paytrust"),children:[b.jsx(ZG,{className:"me-2"})," ","Trust Wallet"]})]})]})})})})})})}var TE={exports:{}};const nH={},rH=Object.freeze(Object.defineProperty({__proto__:null,default:nH},Symbol.toStringTag,{value:"Module"})),iH=uF(rH);TE.exports;(function(t){(function(e,n){function r(E,g){if(!E)throw new Error(g||"Assertion failed")}function i(E,g){E.super_=g;var T=function(){};T.prototype=g.prototype,E.prototype=new T,E.prototype.constructor=E}function s(E,g,T){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((g==="le"||g==="be")&&(T=g,g=10),this._init(E||0,g||10,T||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=iH.Buffer}catch{}s.isBN=function(g){return g instanceof s?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===s.wordSize&&Array.isArray(g.words)},s.max=function(g,T){return g.cmp(T)>0?g:T},s.min=function(g,T){return g.cmp(T)<0?g:T},s.prototype._init=function(g,T,k){if(typeof g=="number")return this._initNumber(g,T,k);if(typeof g=="object")return this._initArray(g,T,k);T==="hex"&&(T=16),r(T===(T|0)&&T>=2&&T<=36),g=g.toString().replace(/\s+/g,"");var V=0;g[0]==="-"&&(V++,this.negative=1),V<g.length&&(T===16?this._parseHex(g,V,k):(this._parseBase(g,T,V),k==="le"&&this._initArray(this.toArray(),T,k)))},s.prototype._initNumber=function(g,T,k){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),T,k)},s.prototype._initArray=function(g,T,k){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var O,$,q=0;if(k==="be")for(V=g.length-1,O=0;V>=0;V-=3)$=g[V]|g[V-1]<<8|g[V-2]<<16,this.words[O]|=$<<q&67108863,this.words[O+1]=$>>>26-q&67108863,q+=24,q>=26&&(q-=26,O++);else if(k==="le")for(V=0,O=0;V<g.length;V+=3)$=g[V]|g[V+1]<<8|g[V+2]<<16,this.words[O]|=$<<q&67108863,this.words[O+1]=$>>>26-q&67108863,q+=24,q>=26&&(q-=26,O++);return this._strip()};function a(E,g){var T=E.charCodeAt(g);if(T>=48&&T<=57)return T-48;if(T>=65&&T<=70)return T-55;if(T>=97&&T<=102)return T-87;r(!1,"Invalid character in "+E)}function l(E,g,T){var k=a(E,T);return T-1>=g&&(k|=a(E,T-1)<<4),k}s.prototype._parseHex=function(g,T,k){this.length=Math.ceil((g.length-T)/6),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var O=0,$=0,q;if(k==="be")for(V=g.length-1;V>=T;V-=2)q=l(g,T,V)<<O,this.words[$]|=q&67108863,O>=18?(O-=18,$+=1,this.words[$]|=q>>>26):O+=8;else{var B=g.length-T;for(V=B%2===0?T+1:T;V<g.length;V+=2)q=l(g,T,V)<<O,this.words[$]|=q&67108863,O>=18?(O-=18,$+=1,this.words[$]|=q>>>26):O+=8}this._strip()};function u(E,g,T,k){for(var V=0,O=0,$=Math.min(E.length,T),q=g;q<$;q++){var B=E.charCodeAt(q)-48;V*=k,B>=49?O=B-49+10:B>=17?O=B-17+10:O=B,r(B>=0&&O<k,"Invalid character"),V+=O}return V}s.prototype._parseBase=function(g,T,k){this.words=[0],this.length=1;for(var V=0,O=1;O<=67108863;O*=T)V++;V--,O=O/T|0;for(var $=g.length-k,q=$%V,B=Math.min($,$-q)+k,_=0,j=k;j<B;j+=V)_=u(g,j,j+V,T),this.imuln(O),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(q!==0){var ue=1;for(_=u(g,j,g.length,T),j=0;j<q;j++)ue*=T;this.imuln(ue),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},s.prototype.copy=function(g){g.words=new Array(this.length);for(var T=0;T<this.length;T++)g.words[T]=this.words[T];g.length=this.length,g.negative=this.negative,g.red=this.red};function c(E,g){E.words=g.words,E.length=g.length,E.negative=g.negative,E.red=g.red}if(s.prototype._move=function(g){c(g,this)},s.prototype.clone=function(){var g=new s(null);return this.copy(g),g},s.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(g,T){g=g||10,T=T|0||1;var k;if(g===16||g==="hex"){k="";for(var V=0,O=0,$=0;$<this.length;$++){var q=this.words[$],B=((q<<V|O)&16777215).toString(16);O=q>>>24-V&16777215,V+=2,V>=26&&(V-=26,$--),O!==0||$!==this.length-1?k=f[6-B.length]+B+k:k=B+k}for(O!==0&&(k=O.toString(16)+k);k.length%T!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(g===(g|0)&&g>=2&&g<=36){var _=p[g],j=m[g];k="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var I=ue.modrn(j).toString(g);ue=ue.idivn(j),ue.isZero()?k=I+k:k=f[_-I.length]+I+k}for(this.isZero()&&(k="0"+k);k.length%T!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(g,T){return this.toArrayLike(o,g,T)}),s.prototype.toArray=function(g,T){return this.toArrayLike(Array,g,T)};var w=function(g,T){return g.allocUnsafe?g.allocUnsafe(T):new g(T)};s.prototype.toArrayLike=function(g,T,k){this._strip();var V=this.byteLength(),O=k||Math.max(1,V);r(V<=O,"byte array longer than desired length"),r(O>0,"Requested array length <= 0");var $=w(g,O),q=T==="le"?"LE":"BE";return this["_toArrayLike"+q]($,V),$},s.prototype._toArrayLikeLE=function(g,T){for(var k=0,V=0,O=0,$=0;O<this.length;O++){var q=this.words[O]<<$|V;g[k++]=q&255,k<g.length&&(g[k++]=q>>8&255),k<g.length&&(g[k++]=q>>16&255),$===6?(k<g.length&&(g[k++]=q>>24&255),V=0,$=0):(V=q>>>24,$+=2)}if(k<g.length)for(g[k++]=V;k<g.length;)g[k++]=0},s.prototype._toArrayLikeBE=function(g,T){for(var k=g.length-1,V=0,O=0,$=0;O<this.length;O++){var q=this.words[O]<<$|V;g[k--]=q&255,k>=0&&(g[k--]=q>>8&255),k>=0&&(g[k--]=q>>16&255),$===6?(k>=0&&(g[k--]=q>>24&255),V=0,$=0):(V=q>>>24,$+=2)}if(k>=0)for(g[k--]=V;k>=0;)g[k--]=0},Math.clz32?s.prototype._countBits=function(g){return 32-Math.clz32(g)}:s.prototype._countBits=function(g){var T=g,k=0;return T>=4096&&(k+=13,T>>>=13),T>=64&&(k+=7,T>>>=7),T>=8&&(k+=4,T>>>=4),T>=2&&(k+=2,T>>>=2),k+T},s.prototype._zeroBits=function(g){if(g===0)return 26;var T=g,k=0;return T&8191||(k+=13,T>>>=13),T&127||(k+=7,T>>>=7),T&15||(k+=4,T>>>=4),T&3||(k+=2,T>>>=2),T&1||k++,k},s.prototype.bitLength=function(){var g=this.words[this.length-1],T=this._countBits(g);return(this.length-1)*26+T};function x(E){for(var g=new Array(E.bitLength()),T=0;T<g.length;T++){var k=T/26|0,V=T%26;g[T]=E.words[k]>>>V&1}return g}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,T=0;T<this.length;T++){var k=this._zeroBits(this.words[T]);if(g+=k,k!==26)break}return g},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},s.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var T=0;T<g.length;T++)this.words[T]=this.words[T]|g.words[T];return this._strip()},s.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},s.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},s.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},s.prototype.iuand=function(g){var T;this.length>g.length?T=g:T=this;for(var k=0;k<T.length;k++)this.words[k]=this.words[k]&g.words[k];return this.length=T.length,this._strip()},s.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},s.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},s.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},s.prototype.iuxor=function(g){var T,k;this.length>g.length?(T=this,k=g):(T=g,k=this);for(var V=0;V<k.length;V++)this.words[V]=T.words[V]^k.words[V];if(this!==T)for(;V<T.length;V++)this.words[V]=T.words[V];return this.length=T.length,this._strip()},s.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},s.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},s.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},s.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var T=Math.ceil(g/26)|0,k=g%26;this._expand(T),k>0&&T--;for(var V=0;V<T;V++)this.words[V]=~this.words[V]&67108863;return k>0&&(this.words[V]=~this.words[V]&67108863>>26-k),this._strip()},s.prototype.notn=function(g){return this.clone().inotn(g)},s.prototype.setn=function(g,T){r(typeof g=="number"&&g>=0);var k=g/26|0,V=g%26;return this._expand(k+1),T?this.words[k]=this.words[k]|1<<V:this.words[k]=this.words[k]&~(1<<V),this._strip()},s.prototype.iadd=function(g){var T;if(this.negative!==0&&g.negative===0)return this.negative=0,T=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,T=this.isub(g),g.negative=1,T._normSign();var k,V;this.length>g.length?(k=this,V=g):(k=g,V=this);for(var O=0,$=0;$<V.length;$++)T=(k.words[$]|0)+(V.words[$]|0)+O,this.words[$]=T&67108863,O=T>>>26;for(;O!==0&&$<k.length;$++)T=(k.words[$]|0)+O,this.words[$]=T&67108863,O=T>>>26;if(this.length=k.length,O!==0)this.words[this.length]=O,this.length++;else if(k!==this)for(;$<k.length;$++)this.words[$]=k.words[$];return this},s.prototype.add=function(g){var T;return g.negative!==0&&this.negative===0?(g.negative=0,T=this.sub(g),g.negative^=1,T):g.negative===0&&this.negative!==0?(this.negative=0,T=g.sub(this),this.negative=1,T):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},s.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var T=this.iadd(g);return g.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var k=this.cmp(g);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var V,O;k>0?(V=this,O=g):(V=g,O=this);for(var $=0,q=0;q<O.length;q++)T=(V.words[q]|0)-(O.words[q]|0)+$,$=T>>26,this.words[q]=T&67108863;for(;$!==0&&q<V.length;q++)T=(V.words[q]|0)+$,$=T>>26,this.words[q]=T&67108863;if($===0&&q<V.length&&V!==this)for(;q<V.length;q++)this.words[q]=V.words[q];return this.length=Math.max(this.length,q),V!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(g){return this.clone().isub(g)};function v(E,g,T){T.negative=g.negative^E.negative;var k=E.length+g.length|0;T.length=k,k=k-1|0;var V=E.words[0]|0,O=g.words[0]|0,$=V*O,q=$&67108863,B=$/67108864|0;T.words[0]=q;for(var _=1;_<k;_++){for(var j=B>>>26,ue=B&67108863,I=Math.min(_,g.length-1),Q=Math.max(0,_-E.length+1);Q<=I;Q++){var ne=_-Q|0;V=E.words[ne]|0,O=g.words[Q]|0,$=V*O+ue,j+=$/67108864|0,ue=$&67108863}T.words[_]=ue|0,B=j|0}return B!==0?T.words[_]=B|0:T.length--,T._strip()}var S=function(g,T,k){var V=g.words,O=T.words,$=k.words,q=0,B,_,j,ue=V[0]|0,I=ue&8191,Q=ue>>>13,ne=V[1]|0,ie=ne&8191,le=ne>>>13,pe=V[2]|0,ce=pe&8191,he=pe>>>13,nt=V[3]|0,me=nt&8191,_e=nt>>>13,$n=V[4]|0,rt=$n&8191,It=$n>>>13,Pr=V[5]|0,St=Pr&8191,bt=Pr>>>13,yn=V[6]|0,lt=yn&8191,et=yn>>>13,Mn=V[7]|0,Ce=Mn&8191,Le=Mn>>>13,Bt=V[8]|0,ft=Bt&8191,At=Bt>>>13,vn=V[9]|0,Ae=vn&8191,Ve=vn>>>13,un=O[0]|0,gt=un&8191,Pt=un>>>13,ni=O[1]|0,$t=ni&8191,Rt=ni>>>13,ji=O[2]|0,zt=ji&8191,kt=ji>>>13,ri=O[3]|0,Tt=ri&8191,ut=ri>>>13,Ui=O[4]|0,Nt=Ui&8191,H=Ui>>>13,K=O[5]|0,X=K&8191,te=K>>>13,we=O[6]|0,ge=we&8191,Se=we>>>13,Te=O[7]|0,be=Te&8191,ye=Te>>>13,je=O[8]|0,xe=je&8191,Ie=je>>>13,dt=O[9]|0,$e=dt&8191,We=dt>>>13;k.negative=g.negative^T.negative,k.length=19,B=Math.imul(I,gt),_=Math.imul(I,Pt),_=_+Math.imul(Q,gt)|0,j=Math.imul(Q,Pt);var jt=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,B=Math.imul(ie,gt),_=Math.imul(ie,Pt),_=_+Math.imul(le,gt)|0,j=Math.imul(le,Pt),B=B+Math.imul(I,$t)|0,_=_+Math.imul(I,Rt)|0,_=_+Math.imul(Q,$t)|0,j=j+Math.imul(Q,Rt)|0;var Xe=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,B=Math.imul(ce,gt),_=Math.imul(ce,Pt),_=_+Math.imul(he,gt)|0,j=Math.imul(he,Pt),B=B+Math.imul(ie,$t)|0,_=_+Math.imul(ie,Rt)|0,_=_+Math.imul(le,$t)|0,j=j+Math.imul(le,Rt)|0,B=B+Math.imul(I,zt)|0,_=_+Math.imul(I,kt)|0,_=_+Math.imul(Q,zt)|0,j=j+Math.imul(Q,kt)|0;var ur=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(ur>>>26)|0,ur&=67108863,B=Math.imul(me,gt),_=Math.imul(me,Pt),_=_+Math.imul(_e,gt)|0,j=Math.imul(_e,Pt),B=B+Math.imul(ce,$t)|0,_=_+Math.imul(ce,Rt)|0,_=_+Math.imul(he,$t)|0,j=j+Math.imul(he,Rt)|0,B=B+Math.imul(ie,zt)|0,_=_+Math.imul(ie,kt)|0,_=_+Math.imul(le,zt)|0,j=j+Math.imul(le,kt)|0,B=B+Math.imul(I,Tt)|0,_=_+Math.imul(I,ut)|0,_=_+Math.imul(Q,Tt)|0,j=j+Math.imul(Q,ut)|0;var On=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(On>>>26)|0,On&=67108863,B=Math.imul(rt,gt),_=Math.imul(rt,Pt),_=_+Math.imul(It,gt)|0,j=Math.imul(It,Pt),B=B+Math.imul(me,$t)|0,_=_+Math.imul(me,Rt)|0,_=_+Math.imul(_e,$t)|0,j=j+Math.imul(_e,Rt)|0,B=B+Math.imul(ce,zt)|0,_=_+Math.imul(ce,kt)|0,_=_+Math.imul(he,zt)|0,j=j+Math.imul(he,kt)|0,B=B+Math.imul(ie,Tt)|0,_=_+Math.imul(ie,ut)|0,_=_+Math.imul(le,Tt)|0,j=j+Math.imul(le,ut)|0,B=B+Math.imul(I,Nt)|0,_=_+Math.imul(I,H)|0,_=_+Math.imul(Q,Nt)|0,j=j+Math.imul(Q,H)|0;var Zn=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,B=Math.imul(St,gt),_=Math.imul(St,Pt),_=_+Math.imul(bt,gt)|0,j=Math.imul(bt,Pt),B=B+Math.imul(rt,$t)|0,_=_+Math.imul(rt,Rt)|0,_=_+Math.imul(It,$t)|0,j=j+Math.imul(It,Rt)|0,B=B+Math.imul(me,zt)|0,_=_+Math.imul(me,kt)|0,_=_+Math.imul(_e,zt)|0,j=j+Math.imul(_e,kt)|0,B=B+Math.imul(ce,Tt)|0,_=_+Math.imul(ce,ut)|0,_=_+Math.imul(he,Tt)|0,j=j+Math.imul(he,ut)|0,B=B+Math.imul(ie,Nt)|0,_=_+Math.imul(ie,H)|0,_=_+Math.imul(le,Nt)|0,j=j+Math.imul(le,H)|0,B=B+Math.imul(I,X)|0,_=_+Math.imul(I,te)|0,_=_+Math.imul(Q,X)|0,j=j+Math.imul(Q,te)|0;var Gn=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,B=Math.imul(lt,gt),_=Math.imul(lt,Pt),_=_+Math.imul(et,gt)|0,j=Math.imul(et,Pt),B=B+Math.imul(St,$t)|0,_=_+Math.imul(St,Rt)|0,_=_+Math.imul(bt,$t)|0,j=j+Math.imul(bt,Rt)|0,B=B+Math.imul(rt,zt)|0,_=_+Math.imul(rt,kt)|0,_=_+Math.imul(It,zt)|0,j=j+Math.imul(It,kt)|0,B=B+Math.imul(me,Tt)|0,_=_+Math.imul(me,ut)|0,_=_+Math.imul(_e,Tt)|0,j=j+Math.imul(_e,ut)|0,B=B+Math.imul(ce,Nt)|0,_=_+Math.imul(ce,H)|0,_=_+Math.imul(he,Nt)|0,j=j+Math.imul(he,H)|0,B=B+Math.imul(ie,X)|0,_=_+Math.imul(ie,te)|0,_=_+Math.imul(le,X)|0,j=j+Math.imul(le,te)|0,B=B+Math.imul(I,ge)|0,_=_+Math.imul(I,Se)|0,_=_+Math.imul(Q,ge)|0,j=j+Math.imul(Q,Se)|0;var $i=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+($i>>>26)|0,$i&=67108863,B=Math.imul(Ce,gt),_=Math.imul(Ce,Pt),_=_+Math.imul(Le,gt)|0,j=Math.imul(Le,Pt),B=B+Math.imul(lt,$t)|0,_=_+Math.imul(lt,Rt)|0,_=_+Math.imul(et,$t)|0,j=j+Math.imul(et,Rt)|0,B=B+Math.imul(St,zt)|0,_=_+Math.imul(St,kt)|0,_=_+Math.imul(bt,zt)|0,j=j+Math.imul(bt,kt)|0,B=B+Math.imul(rt,Tt)|0,_=_+Math.imul(rt,ut)|0,_=_+Math.imul(It,Tt)|0,j=j+Math.imul(It,ut)|0,B=B+Math.imul(me,Nt)|0,_=_+Math.imul(me,H)|0,_=_+Math.imul(_e,Nt)|0,j=j+Math.imul(_e,H)|0,B=B+Math.imul(ce,X)|0,_=_+Math.imul(ce,te)|0,_=_+Math.imul(he,X)|0,j=j+Math.imul(he,te)|0,B=B+Math.imul(ie,ge)|0,_=_+Math.imul(ie,Se)|0,_=_+Math.imul(le,ge)|0,j=j+Math.imul(le,Se)|0,B=B+Math.imul(I,be)|0,_=_+Math.imul(I,ye)|0,_=_+Math.imul(Q,be)|0,j=j+Math.imul(Q,ye)|0;var gs=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(gs>>>26)|0,gs&=67108863,B=Math.imul(ft,gt),_=Math.imul(ft,Pt),_=_+Math.imul(At,gt)|0,j=Math.imul(At,Pt),B=B+Math.imul(Ce,$t)|0,_=_+Math.imul(Ce,Rt)|0,_=_+Math.imul(Le,$t)|0,j=j+Math.imul(Le,Rt)|0,B=B+Math.imul(lt,zt)|0,_=_+Math.imul(lt,kt)|0,_=_+Math.imul(et,zt)|0,j=j+Math.imul(et,kt)|0,B=B+Math.imul(St,Tt)|0,_=_+Math.imul(St,ut)|0,_=_+Math.imul(bt,Tt)|0,j=j+Math.imul(bt,ut)|0,B=B+Math.imul(rt,Nt)|0,_=_+Math.imul(rt,H)|0,_=_+Math.imul(It,Nt)|0,j=j+Math.imul(It,H)|0,B=B+Math.imul(me,X)|0,_=_+Math.imul(me,te)|0,_=_+Math.imul(_e,X)|0,j=j+Math.imul(_e,te)|0,B=B+Math.imul(ce,ge)|0,_=_+Math.imul(ce,Se)|0,_=_+Math.imul(he,ge)|0,j=j+Math.imul(he,Se)|0,B=B+Math.imul(ie,be)|0,_=_+Math.imul(ie,ye)|0,_=_+Math.imul(le,be)|0,j=j+Math.imul(le,ye)|0,B=B+Math.imul(I,xe)|0,_=_+Math.imul(I,Ie)|0,_=_+Math.imul(Q,xe)|0,j=j+Math.imul(Q,Ie)|0;var Gi=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,B=Math.imul(Ae,gt),_=Math.imul(Ae,Pt),_=_+Math.imul(Ve,gt)|0,j=Math.imul(Ve,Pt),B=B+Math.imul(ft,$t)|0,_=_+Math.imul(ft,Rt)|0,_=_+Math.imul(At,$t)|0,j=j+Math.imul(At,Rt)|0,B=B+Math.imul(Ce,zt)|0,_=_+Math.imul(Ce,kt)|0,_=_+Math.imul(Le,zt)|0,j=j+Math.imul(Le,kt)|0,B=B+Math.imul(lt,Tt)|0,_=_+Math.imul(lt,ut)|0,_=_+Math.imul(et,Tt)|0,j=j+Math.imul(et,ut)|0,B=B+Math.imul(St,Nt)|0,_=_+Math.imul(St,H)|0,_=_+Math.imul(bt,Nt)|0,j=j+Math.imul(bt,H)|0,B=B+Math.imul(rt,X)|0,_=_+Math.imul(rt,te)|0,_=_+Math.imul(It,X)|0,j=j+Math.imul(It,te)|0,B=B+Math.imul(me,ge)|0,_=_+Math.imul(me,Se)|0,_=_+Math.imul(_e,ge)|0,j=j+Math.imul(_e,Se)|0,B=B+Math.imul(ce,be)|0,_=_+Math.imul(ce,ye)|0,_=_+Math.imul(he,be)|0,j=j+Math.imul(he,ye)|0,B=B+Math.imul(ie,xe)|0,_=_+Math.imul(ie,Ie)|0,_=_+Math.imul(le,xe)|0,j=j+Math.imul(le,Ie)|0,B=B+Math.imul(I,$e)|0,_=_+Math.imul(I,We)|0,_=_+Math.imul(Q,$e)|0,j=j+Math.imul(Q,We)|0;var ii=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(ii>>>26)|0,ii&=67108863,B=Math.imul(Ae,$t),_=Math.imul(Ae,Rt),_=_+Math.imul(Ve,$t)|0,j=Math.imul(Ve,Rt),B=B+Math.imul(ft,zt)|0,_=_+Math.imul(ft,kt)|0,_=_+Math.imul(At,zt)|0,j=j+Math.imul(At,kt)|0,B=B+Math.imul(Ce,Tt)|0,_=_+Math.imul(Ce,ut)|0,_=_+Math.imul(Le,Tt)|0,j=j+Math.imul(Le,ut)|0,B=B+Math.imul(lt,Nt)|0,_=_+Math.imul(lt,H)|0,_=_+Math.imul(et,Nt)|0,j=j+Math.imul(et,H)|0,B=B+Math.imul(St,X)|0,_=_+Math.imul(St,te)|0,_=_+Math.imul(bt,X)|0,j=j+Math.imul(bt,te)|0,B=B+Math.imul(rt,ge)|0,_=_+Math.imul(rt,Se)|0,_=_+Math.imul(It,ge)|0,j=j+Math.imul(It,Se)|0,B=B+Math.imul(me,be)|0,_=_+Math.imul(me,ye)|0,_=_+Math.imul(_e,be)|0,j=j+Math.imul(_e,ye)|0,B=B+Math.imul(ce,xe)|0,_=_+Math.imul(ce,Ie)|0,_=_+Math.imul(he,xe)|0,j=j+Math.imul(he,Ie)|0,B=B+Math.imul(ie,$e)|0,_=_+Math.imul(ie,We)|0,_=_+Math.imul(le,$e)|0,j=j+Math.imul(le,We)|0;var Hi=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,B=Math.imul(Ae,zt),_=Math.imul(Ae,kt),_=_+Math.imul(Ve,zt)|0,j=Math.imul(Ve,kt),B=B+Math.imul(ft,Tt)|0,_=_+Math.imul(ft,ut)|0,_=_+Math.imul(At,Tt)|0,j=j+Math.imul(At,ut)|0,B=B+Math.imul(Ce,Nt)|0,_=_+Math.imul(Ce,H)|0,_=_+Math.imul(Le,Nt)|0,j=j+Math.imul(Le,H)|0,B=B+Math.imul(lt,X)|0,_=_+Math.imul(lt,te)|0,_=_+Math.imul(et,X)|0,j=j+Math.imul(et,te)|0,B=B+Math.imul(St,ge)|0,_=_+Math.imul(St,Se)|0,_=_+Math.imul(bt,ge)|0,j=j+Math.imul(bt,Se)|0,B=B+Math.imul(rt,be)|0,_=_+Math.imul(rt,ye)|0,_=_+Math.imul(It,be)|0,j=j+Math.imul(It,ye)|0,B=B+Math.imul(me,xe)|0,_=_+Math.imul(me,Ie)|0,_=_+Math.imul(_e,xe)|0,j=j+Math.imul(_e,Ie)|0,B=B+Math.imul(ce,$e)|0,_=_+Math.imul(ce,We)|0,_=_+Math.imul(he,$e)|0,j=j+Math.imul(he,We)|0;var ct=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(ct>>>26)|0,ct&=67108863,B=Math.imul(Ae,Tt),_=Math.imul(Ae,ut),_=_+Math.imul(Ve,Tt)|0,j=Math.imul(Ve,ut),B=B+Math.imul(ft,Nt)|0,_=_+Math.imul(ft,H)|0,_=_+Math.imul(At,Nt)|0,j=j+Math.imul(At,H)|0,B=B+Math.imul(Ce,X)|0,_=_+Math.imul(Ce,te)|0,_=_+Math.imul(Le,X)|0,j=j+Math.imul(Le,te)|0,B=B+Math.imul(lt,ge)|0,_=_+Math.imul(lt,Se)|0,_=_+Math.imul(et,ge)|0,j=j+Math.imul(et,Se)|0,B=B+Math.imul(St,be)|0,_=_+Math.imul(St,ye)|0,_=_+Math.imul(bt,be)|0,j=j+Math.imul(bt,ye)|0,B=B+Math.imul(rt,xe)|0,_=_+Math.imul(rt,Ie)|0,_=_+Math.imul(It,xe)|0,j=j+Math.imul(It,Ie)|0,B=B+Math.imul(me,$e)|0,_=_+Math.imul(me,We)|0,_=_+Math.imul(_e,$e)|0,j=j+Math.imul(_e,We)|0;var on=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(on>>>26)|0,on&=67108863,B=Math.imul(Ae,Nt),_=Math.imul(Ae,H),_=_+Math.imul(Ve,Nt)|0,j=Math.imul(Ve,H),B=B+Math.imul(ft,X)|0,_=_+Math.imul(ft,te)|0,_=_+Math.imul(At,X)|0,j=j+Math.imul(At,te)|0,B=B+Math.imul(Ce,ge)|0,_=_+Math.imul(Ce,Se)|0,_=_+Math.imul(Le,ge)|0,j=j+Math.imul(Le,Se)|0,B=B+Math.imul(lt,be)|0,_=_+Math.imul(lt,ye)|0,_=_+Math.imul(et,be)|0,j=j+Math.imul(et,ye)|0,B=B+Math.imul(St,xe)|0,_=_+Math.imul(St,Ie)|0,_=_+Math.imul(bt,xe)|0,j=j+Math.imul(bt,Ie)|0,B=B+Math.imul(rt,$e)|0,_=_+Math.imul(rt,We)|0,_=_+Math.imul(It,$e)|0,j=j+Math.imul(It,We)|0;var Tr=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,B=Math.imul(Ae,X),_=Math.imul(Ae,te),_=_+Math.imul(Ve,X)|0,j=Math.imul(Ve,te),B=B+Math.imul(ft,ge)|0,_=_+Math.imul(ft,Se)|0,_=_+Math.imul(At,ge)|0,j=j+Math.imul(At,Se)|0,B=B+Math.imul(Ce,be)|0,_=_+Math.imul(Ce,ye)|0,_=_+Math.imul(Le,be)|0,j=j+Math.imul(Le,ye)|0,B=B+Math.imul(lt,xe)|0,_=_+Math.imul(lt,Ie)|0,_=_+Math.imul(et,xe)|0,j=j+Math.imul(et,Ie)|0,B=B+Math.imul(St,$e)|0,_=_+Math.imul(St,We)|0,_=_+Math.imul(bt,$e)|0,j=j+Math.imul(bt,We)|0;var Xs=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,B=Math.imul(Ae,ge),_=Math.imul(Ae,Se),_=_+Math.imul(Ve,ge)|0,j=Math.imul(Ve,Se),B=B+Math.imul(ft,be)|0,_=_+Math.imul(ft,ye)|0,_=_+Math.imul(At,be)|0,j=j+Math.imul(At,ye)|0,B=B+Math.imul(Ce,xe)|0,_=_+Math.imul(Ce,Ie)|0,_=_+Math.imul(Le,xe)|0,j=j+Math.imul(Le,Ie)|0,B=B+Math.imul(lt,$e)|0,_=_+Math.imul(lt,We)|0,_=_+Math.imul(et,$e)|0,j=j+Math.imul(et,We)|0;var Js=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Js>>>26)|0,Js&=67108863,B=Math.imul(Ae,be),_=Math.imul(Ae,ye),_=_+Math.imul(Ve,be)|0,j=Math.imul(Ve,ye),B=B+Math.imul(ft,xe)|0,_=_+Math.imul(ft,Ie)|0,_=_+Math.imul(At,xe)|0,j=j+Math.imul(At,Ie)|0,B=B+Math.imul(Ce,$e)|0,_=_+Math.imul(Ce,We)|0,_=_+Math.imul(Le,$e)|0,j=j+Math.imul(Le,We)|0;var Xt=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,B=Math.imul(Ae,xe),_=Math.imul(Ae,Ie),_=_+Math.imul(Ve,xe)|0,j=Math.imul(Ve,Ie),B=B+Math.imul(ft,$e)|0,_=_+Math.imul(ft,We)|0,_=_+Math.imul(At,$e)|0,j=j+Math.imul(At,We)|0;var bi=(q+B|0)+((_&8191)<<13)|0;q=(j+(_>>>13)|0)+(bi>>>26)|0,bi&=67108863,B=Math.imul(Ae,$e),_=Math.imul(Ae,We),_=_+Math.imul(Ve,$e)|0,j=Math.imul(Ve,We);var Zs=(q+B|0)+((_&8191)<<13)|0;return q=(j+(_>>>13)|0)+(Zs>>>26)|0,Zs&=67108863,$[0]=jt,$[1]=Xe,$[2]=ur,$[3]=On,$[4]=Zn,$[5]=Gn,$[6]=$i,$[7]=gs,$[8]=Gi,$[9]=ii,$[10]=Hi,$[11]=ct,$[12]=on,$[13]=Tr,$[14]=Xs,$[15]=Js,$[16]=Xt,$[17]=bi,$[18]=Zs,q!==0&&($[19]=q,k.length++),k};Math.imul||(S=v);function A(E,g,T){T.negative=g.negative^E.negative,T.length=E.length+g.length;for(var k=0,V=0,O=0;O<T.length-1;O++){var $=V;V=0;for(var q=k&67108863,B=Math.min(O,g.length-1),_=Math.max(0,O-E.length+1);_<=B;_++){var j=O-_,ue=E.words[j]|0,I=g.words[_]|0,Q=ue*I,ne=Q&67108863;$=$+(Q/67108864|0)|0,ne=ne+q|0,q=ne&67108863,$=$+(ne>>>26)|0,V+=$>>>26,$&=67108863}T.words[O]=q,k=$,$=V}return k!==0?T.words[O]=k:T.length--,T._strip()}function M(E,g,T){return A(E,g,T)}s.prototype.mulTo=function(g,T){var k,V=this.length+g.length;return this.length===10&&g.length===10?k=S(this,g,T):V<63?k=v(this,g,T):V<1024?k=A(this,g,T):k=M(this,g,T),k},s.prototype.mul=function(g){var T=new s(null);return T.words=new Array(this.length+g.length),this.mulTo(g,T)},s.prototype.mulf=function(g){var T=new s(null);return T.words=new Array(this.length+g.length),M(this,g,T)},s.prototype.imul=function(g){return this.clone().mulTo(g,this)},s.prototype.imuln=function(g){var T=g<0;T&&(g=-g),r(typeof g=="number"),r(g<67108864);for(var k=0,V=0;V<this.length;V++){var O=(this.words[V]|0)*g,$=(O&67108863)+(k&67108863);k>>=26,k+=O/67108864|0,k+=$>>>26,this.words[V]=$&67108863}return k!==0&&(this.words[V]=k,this.length++),T?this.ineg():this},s.prototype.muln=function(g){return this.clone().imuln(g)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(g){var T=x(g);if(T.length===0)return new s(1);for(var k=this,V=0;V<T.length&&T[V]===0;V++,k=k.sqr());if(++V<T.length)for(var O=k.sqr();V<T.length;V++,O=O.sqr())T[V]!==0&&(k=k.mul(O));return k},s.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var T=g%26,k=(g-T)/26,V=67108863>>>26-T<<26-T,O;if(T!==0){var $=0;for(O=0;O<this.length;O++){var q=this.words[O]&V,B=(this.words[O]|0)-q<<T;this.words[O]=B|$,$=q>>>26-T}$&&(this.words[O]=$,this.length++)}if(k!==0){for(O=this.length-1;O>=0;O--)this.words[O+k]=this.words[O];for(O=0;O<k;O++)this.words[O]=0;this.length+=k}return this._strip()},s.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},s.prototype.iushrn=function(g,T,k){r(typeof g=="number"&&g>=0);var V;T?V=(T-T%26)/26:V=0;var O=g%26,$=Math.min((g-O)/26,this.length),q=67108863^67108863>>>O<<O,B=k;if(V-=$,V=Math.max(0,V),B){for(var _=0;_<$;_++)B.words[_]=this.words[_];B.length=$}if($!==0)if(this.length>$)for(this.length-=$,_=0;_<this.length;_++)this.words[_]=this.words[_+$];else this.words[0]=0,this.length=1;var j=0;for(_=this.length-1;_>=0&&(j!==0||_>=V);_--){var ue=this.words[_]|0;this.words[_]=j<<26-O|ue>>>O,j=ue&q}return B&&j!==0&&(B.words[B.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(g,T,k){return r(this.negative===0),this.iushrn(g,T,k)},s.prototype.shln=function(g){return this.clone().ishln(g)},s.prototype.ushln=function(g){return this.clone().iushln(g)},s.prototype.shrn=function(g){return this.clone().ishrn(g)},s.prototype.ushrn=function(g){return this.clone().iushrn(g)},s.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var T=g%26,k=(g-T)/26,V=1<<T;if(this.length<=k)return!1;var O=this.words[k];return!!(O&V)},s.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var T=g%26,k=(g-T)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(T!==0&&k++,this.length=Math.min(k,this.length),T!==0){var V=67108863^67108863>>>T<<T;this.words[this.length-1]&=V}return this._strip()},s.prototype.maskn=function(g){return this.clone().imaskn(g)},s.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},s.prototype._iaddn=function(g){this.words[0]+=g;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},s.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this._strip()},s.prototype.addn=function(g){return this.clone().iaddn(g)},s.prototype.subn=function(g){return this.clone().isubn(g)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(g,T,k){var V=g.length+k,O;this._expand(V);var $,q=0;for(O=0;O<g.length;O++){$=(this.words[O+k]|0)+q;var B=(g.words[O]|0)*T;$-=B&67108863,q=($>>26)-(B/67108864|0),this.words[O+k]=$&67108863}for(;O<this.length-k;O++)$=(this.words[O+k]|0)+q,q=$>>26,this.words[O+k]=$&67108863;if(q===0)return this._strip();for(r(q===-1),q=0,O=0;O<this.length;O++)$=-(this.words[O]|0)+q,q=$>>26,this.words[O]=$&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(g,T){var k=this.length-g.length,V=this.clone(),O=g,$=O.words[O.length-1]|0,q=this._countBits($);k=26-q,k!==0&&(O=O.ushln(k),V.iushln(k),$=O.words[O.length-1]|0);var B=V.length-O.length,_;if(T!=="mod"){_=new s(null),_.length=B+1,_.words=new Array(_.length);for(var j=0;j<_.length;j++)_.words[j]=0}var ue=V.clone()._ishlnsubmul(O,1,B);ue.negative===0&&(V=ue,_&&(_.words[B]=1));for(var I=B-1;I>=0;I--){var Q=(V.words[O.length+I]|0)*67108864+(V.words[O.length+I-1]|0);for(Q=Math.min(Q/$|0,67108863),V._ishlnsubmul(O,Q,I);V.negative!==0;)Q--,V.negative=0,V._ishlnsubmul(O,1,I),V.isZero()||(V.negative^=1);_&&(_.words[I]=Q)}return _&&_._strip(),V._strip(),T!=="div"&&k!==0&&V.iushrn(k),{div:_||null,mod:V}},s.prototype.divmod=function(g,T,k){if(r(!g.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var V,O,$;return this.negative!==0&&g.negative===0?($=this.neg().divmod(g,T),T!=="mod"&&(V=$.div.neg()),T!=="div"&&(O=$.mod.neg(),k&&O.negative!==0&&O.iadd(g)),{div:V,mod:O}):this.negative===0&&g.negative!==0?($=this.divmod(g.neg(),T),T!=="mod"&&(V=$.div.neg()),{div:V,mod:$.mod}):this.negative&g.negative?($=this.neg().divmod(g.neg(),T),T!=="div"&&(O=$.mod.neg(),k&&O.negative!==0&&O.isub(g)),{div:$.div,mod:O}):g.length>this.length||this.cmp(g)<0?{div:new s(0),mod:this}:g.length===1?T==="div"?{div:this.divn(g.words[0]),mod:null}:T==="mod"?{div:null,mod:new s(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new s(this.modrn(g.words[0]))}:this._wordDiv(g,T)},s.prototype.div=function(g){return this.divmod(g,"div",!1).div},s.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},s.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},s.prototype.divRound=function(g){var T=this.divmod(g);if(T.mod.isZero())return T.div;var k=T.div.negative!==0?T.mod.isub(g):T.mod,V=g.ushrn(1),O=g.andln(1),$=k.cmp(V);return $<0||O===1&&$===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},s.prototype.modrn=function(g){var T=g<0;T&&(g=-g),r(g<=67108863);for(var k=(1<<26)%g,V=0,O=this.length-1;O>=0;O--)V=(k*V+(this.words[O]|0))%g;return T?-V:V},s.prototype.modn=function(g){return this.modrn(g)},s.prototype.idivn=function(g){var T=g<0;T&&(g=-g),r(g<=67108863);for(var k=0,V=this.length-1;V>=0;V--){var O=(this.words[V]|0)+k*67108864;this.words[V]=O/g|0,k=O%g}return this._strip(),T?this.ineg():this},s.prototype.divn=function(g){return this.clone().idivn(g)},s.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var T=this,k=g.clone();T.negative!==0?T=T.umod(g):T=T.clone();for(var V=new s(1),O=new s(0),$=new s(0),q=new s(1),B=0;T.isEven()&&k.isEven();)T.iushrn(1),k.iushrn(1),++B;for(var _=k.clone(),j=T.clone();!T.isZero();){for(var ue=0,I=1;!(T.words[0]&I)&&ue<26;++ue,I<<=1);if(ue>0)for(T.iushrn(ue);ue-- >0;)(V.isOdd()||O.isOdd())&&(V.iadd(_),O.isub(j)),V.iushrn(1),O.iushrn(1);for(var Q=0,ne=1;!(k.words[0]&ne)&&Q<26;++Q,ne<<=1);if(Q>0)for(k.iushrn(Q);Q-- >0;)($.isOdd()||q.isOdd())&&($.iadd(_),q.isub(j)),$.iushrn(1),q.iushrn(1);T.cmp(k)>=0?(T.isub(k),V.isub($),O.isub(q)):(k.isub(T),$.isub(V),q.isub(O))}return{a:$,b:q,gcd:k.iushln(B)}},s.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var T=this,k=g.clone();T.negative!==0?T=T.umod(g):T=T.clone();for(var V=new s(1),O=new s(0),$=k.clone();T.cmpn(1)>0&&k.cmpn(1)>0;){for(var q=0,B=1;!(T.words[0]&B)&&q<26;++q,B<<=1);if(q>0)for(T.iushrn(q);q-- >0;)V.isOdd()&&V.iadd($),V.iushrn(1);for(var _=0,j=1;!(k.words[0]&j)&&_<26;++_,j<<=1);if(_>0)for(k.iushrn(_);_-- >0;)O.isOdd()&&O.iadd($),O.iushrn(1);T.cmp(k)>=0?(T.isub(k),V.isub(O)):(k.isub(T),O.isub(V))}var ue;return T.cmpn(1)===0?ue=V:ue=O,ue.cmpn(0)<0&&ue.iadd(g),ue},s.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var T=this.clone(),k=g.clone();T.negative=0,k.negative=0;for(var V=0;T.isEven()&&k.isEven();V++)T.iushrn(1),k.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;k.isEven();)k.iushrn(1);var O=T.cmp(k);if(O<0){var $=T;T=k,k=$}else if(O===0||k.cmpn(1)===0)break;T.isub(k)}while(!0);return k.iushln(V)},s.prototype.invm=function(g){return this.egcd(g).a.umod(g)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(g){return this.words[0]&g},s.prototype.bincn=function(g){r(typeof g=="number");var T=g%26,k=(g-T)/26,V=1<<T;if(this.length<=k)return this._expand(k+1),this.words[k]|=V,this;for(var O=V,$=k;O!==0&&$<this.length;$++){var q=this.words[$]|0;q+=O,O=q>>>26,q&=67108863,this.words[$]=q}return O!==0&&(this.words[$]=O,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(g){var T=g<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this._strip();var k;if(this.length>1)k=1;else{T&&(g=-g),r(g<=67108863,"Number is too big");var V=this.words[0]|0;k=V===g?0:V<g?-1:1}return this.negative!==0?-k|0:k},s.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var T=this.ucmp(g);return this.negative!==0?-T|0:T},s.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var T=0,k=this.length-1;k>=0;k--){var V=this.words[k]|0,O=g.words[k]|0;if(V!==O){V<O?T=-1:V>O&&(T=1);break}}return T},s.prototype.gtn=function(g){return this.cmpn(g)===1},s.prototype.gt=function(g){return this.cmp(g)===1},s.prototype.gten=function(g){return this.cmpn(g)>=0},s.prototype.gte=function(g){return this.cmp(g)>=0},s.prototype.ltn=function(g){return this.cmpn(g)===-1},s.prototype.lt=function(g){return this.cmp(g)===-1},s.prototype.lten=function(g){return this.cmpn(g)<=0},s.prototype.lte=function(g){return this.cmp(g)<=0},s.prototype.eqn=function(g){return this.cmpn(g)===0},s.prototype.eq=function(g){return this.cmp(g)===0},s.red=function(g){return new G(g)},s.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(g){return this.red=g,this},s.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},s.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},s.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},s.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},s.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},s.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},s.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},s.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var U={k256:null,p224:null,p192:null,p25519:null};function N(E,g){this.name=E,this.p=new s(g,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var g=new s(null);return g.words=new Array(Math.ceil(this.n/13)),g},N.prototype.ireduce=function(g){var T=g,k;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),k=T.bitLength();while(k>this.n);var V=k<this.n?-1:T.ucmp(this.p);return V===0?(T.words[0]=0,T.length=1):V>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},N.prototype.split=function(g,T){g.iushrn(this.n,0,T)},N.prototype.imulK=function(g){return g.imul(this.k)};function D(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(D,N),D.prototype.split=function(g,T){for(var k=4194303,V=Math.min(g.length,9),O=0;O<V;O++)T.words[O]=g.words[O];if(T.length=V,g.length<=9){g.words[0]=0,g.length=1;return}var $=g.words[9];for(T.words[T.length++]=$&k,O=10;O<g.length;O++){var q=g.words[O]|0;g.words[O-10]=(q&k)<<4|$>>>22,$=q}$>>>=22,g.words[O-10]=$,$===0&&g.length>10?g.length-=10:g.length-=9},D.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var T=0,k=0;k<g.length;k++){var V=g.words[k]|0;T+=V*977,g.words[k]=T&67108863,T=V*64+(T/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function R(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(R,N);function L(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(L,N);function z(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(z,N),z.prototype.imulK=function(g){for(var T=0,k=0;k<g.length;k++){var V=(g.words[k]|0)*19+T,O=V&67108863;V>>>=26,g.words[k]=O,T=V}return T!==0&&(g.words[g.length++]=T),g},s._prime=function(g){if(U[g])return U[g];var T;if(g==="k256")T=new D;else if(g==="p224")T=new R;else if(g==="p192")T=new L;else if(g==="p25519")T=new z;else throw new Error("Unknown prime "+g);return U[g]=T,T};function G(E){if(typeof E=="string"){var g=s._prime(E);this.m=g.p,this.prime=g}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}G.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},G.prototype._verify2=function(g,T){r((g.negative|T.negative)===0,"red works only with positives"),r(g.red&&g.red===T.red,"red works only with red numbers")},G.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(c(g,g.umod(this.m)._forceRed(this)),g)},G.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},G.prototype.add=function(g,T){this._verify2(g,T);var k=g.add(T);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},G.prototype.iadd=function(g,T){this._verify2(g,T);var k=g.iadd(T);return k.cmp(this.m)>=0&&k.isub(this.m),k},G.prototype.sub=function(g,T){this._verify2(g,T);var k=g.sub(T);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},G.prototype.isub=function(g,T){this._verify2(g,T);var k=g.isub(T);return k.cmpn(0)<0&&k.iadd(this.m),k},G.prototype.shl=function(g,T){return this._verify1(g),this.imod(g.ushln(T))},G.prototype.imul=function(g,T){return this._verify2(g,T),this.imod(g.imul(T))},G.prototype.mul=function(g,T){return this._verify2(g,T),this.imod(g.mul(T))},G.prototype.isqr=function(g){return this.imul(g,g.clone())},G.prototype.sqr=function(g){return this.mul(g,g)},G.prototype.sqrt=function(g){if(g.isZero())return g.clone();var T=this.m.andln(3);if(r(T%2===1),T===3){var k=this.m.add(new s(1)).iushrn(2);return this.pow(g,k)}for(var V=this.m.subn(1),O=0;!V.isZero()&&V.andln(1)===0;)O++,V.iushrn(1);r(!V.isZero());var $=new s(1).toRed(this),q=$.redNeg(),B=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new s(2*_*_).toRed(this);this.pow(_,B).cmp(q)!==0;)_.redIAdd(q);for(var j=this.pow(_,V),ue=this.pow(g,V.addn(1).iushrn(1)),I=this.pow(g,V),Q=O;I.cmp($)!==0;){for(var ne=I,ie=0;ne.cmp($)!==0;ie++)ne=ne.redSqr();r(ie<Q);var le=this.pow(j,new s(1).iushln(Q-ie-1));ue=ue.redMul(le),j=le.redSqr(),I=I.redMul(j),Q=ie}return ue},G.prototype.invm=function(g){var T=g._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},G.prototype.pow=function(g,T){if(T.isZero())return new s(1).toRed(this);if(T.cmpn(1)===0)return g.clone();var k=4,V=new Array(1<<k);V[0]=new s(1).toRed(this),V[1]=g;for(var O=2;O<V.length;O++)V[O]=this.mul(V[O-1],g);var $=V[0],q=0,B=0,_=T.bitLength()%26;for(_===0&&(_=26),O=T.length-1;O>=0;O--){for(var j=T.words[O],ue=_-1;ue>=0;ue--){var I=j>>ue&1;if($!==V[0]&&($=this.sqr($)),I===0&&q===0){B=0;continue}q<<=1,q|=I,B++,!(B!==k&&(O!==0||ue!==0))&&($=this.mul($,V[q]),B=0,q=0)}_=26}return $},G.prototype.convertTo=function(g){var T=g.umod(this.m);return T===g?T.clone():T},G.prototype.convertFrom=function(g){var T=g.clone();return T.red=null,T},s.mont=function(g){return new W(g)};function W(E){G.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,G),W.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},W.prototype.convertFrom=function(g){var T=this.imod(g.mul(this.rinv));return T.red=null,T},W.prototype.imul=function(g,T){if(g.isZero()||T.isZero())return g.words[0]=0,g.length=1,g;var k=g.imul(T),V=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=k.isub(V).iushrn(this.shift),$=O;return O.cmp(this.m)>=0?$=O.isub(this.m):O.cmpn(0)<0&&($=O.iadd(this.m)),$._forceRed(this)},W.prototype.mul=function(g,T){if(g.isZero()||T.isZero())return new s(0)._forceRed(this);var k=g.mul(T),V=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=k.isub(V).iushrn(this.shift),$=O;return O.cmp(this.m)>=0?$=O.isub(this.m):O.cmpn(0)<0&&($=O.iadd(this.m)),$._forceRed(this)},W.prototype.invm=function(g){var T=this.imod(g._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(t,$3)})(TE);var sH=TE.exports;const Qe=Ml(sH),oH="logger/5.8.0";let hT=!1,fT=!1;const Cg={debug:1,default:2,info:2,warning:3,error:4,off:5};let dT=Cg.default,C1=null;function aH(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const pT=aH();var G_;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(G_||(G_={}));var Ss;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ss||(Ss={}));const mT="0123456789abcdef";let Z=class Hn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Cg[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(dT>Cg[r])&&console.log.apply(console,n)}debug(...e){this._log(Hn.levels.DEBUG,e)}info(...e){this._log(Hn.levels.INFO,e)}warn(...e){this._log(Hn.levels.WARNING,e)}makeError(e,n,r){if(fT)return this.makeError("censored error",n,{});n||(n=Hn.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const u=r[l];try{if(u instanceof Uint8Array){let c="";for(let h=0;h<u.length;h++)c+=mT[u[h]>>4],c+=mT[u[h]&15];i.push(l+"=Uint8Array(0x"+c+")")}else i.push(l+"="+JSON.stringify(u))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const s=e;let o="";switch(n){case Ss.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ss.CALL_EXCEPTION:case Ss.INSUFFICIENT_FUNDS:case Ss.MISSING_NEW:case Ss.NONCE_EXPIRED:case Ss.REPLACEMENT_UNDERPRICED:case Ss.TRANSACTION_REPLACED:case Ss.UNPREDICTABLE_GAS_LIMIT:o=n;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,Hn.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){pT&&this.throwError("platform missing String.prototype.normalize",Hn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:pT})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,Hn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,Hn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,Hn.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,Hn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",Hn.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",Hn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Hn.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return C1||(C1=new Hn(oH)),C1}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",Hn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),hT){if(!e)return;this.globalLogger().throwError("error censorship permanent",Hn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}fT=!!e,hT=!!n}static setLogLevel(e){const n=Cg[e.toLowerCase()];if(n==null){Hn.globalLogger().warn("invalid log level - "+e);return}dT=n}static from(e){return new Hn(e)}};Z.errors=Ss;Z.levels=G_;const lH="bytes/5.8.0",bn=new Z(lH);function vD(t){return!!t.toHexString}function Kc(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Kc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function CE(t){return Vt(t)&&!(t.length%2)||jh(t)}function gT(t){return typeof t=="number"&&t==t&&t%1===0}function jh(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!gT(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!gT(n)||n<0||n>=256)return!1}return!0}function Ue(t,e){if(e||(e={}),typeof t=="number"){bn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Kc(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vD(t)&&(t=t.toHexString()),Vt(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":bn.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Kc(new Uint8Array(r))}return jh(t)?Kc(new Uint8Array(t)):bn.throwArgumentError("invalid arrayify value","value",t)}function Mi(t){const e=t.map(i=>Ue(i)),n=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),Kc(r)}function ph(t){let e=Ue(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function uH(t,e){t=Ue(t),t.length>e&&bn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Kc(n)}function Vt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const I1="0123456789abcdef";function Fe(t,e){if(e||(e={}),typeof t=="number"){bn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=I1[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vD(t))return t.toHexString();if(Vt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":bn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(jh(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=I1[(i&240)>>4]+I1[i&15]}return n}return bn.throwArgumentError("invalid hexlify value","value",t)}function Iu(t){if(typeof t!="string")t=Fe(t);else if(!Vt(t)||t.length%2)return null;return(t.length-2)/2}function Dr(t,e,n){return typeof t!="string"?t=Fe(t):(!Vt(t)||t.length%2)&&bn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function ci(t){let e="0x";return t.forEach(n=>{e+=Fe(n).substring(2)}),e}function IE(t){const e=cH(Fe(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function cH(t){typeof t!="string"&&(t=Fe(t)),Vt(t)||bn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function ln(t,e){for(typeof t!="string"?t=Fe(t):Vt(t)||bn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&bn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Zy(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(CE(t)){let n=Ue(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=Fe(n.slice(0,32)),e.s=Fe(n.slice(32,64))):n.length===65?(e.r=Fe(n.slice(0,32)),e.s=Fe(n.slice(32,64)),e.v=n[64]):bn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:bn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=Fe(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=uH(Ue(e._vs),32);e._vs=Fe(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&bn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Fe(i);e.s==null?e.s=o:e.s!==o&&bn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?bn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&bn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Vt(e.r)?bn.throwArgumentError("signature missing or invalid r","signature",t):e.r=ln(e.r,32),e.s==null||!Vt(e.s)?bn.throwArgumentError("signature missing or invalid s","signature",t):e.s=ln(e.s,32);const n=Ue(e.s);n[0]>=128&&bn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=Fe(n);e._vs&&(Vt(e._vs)||bn.throwArgumentError("signature invalid _vs","signature",t),e._vs=ln(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&bn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const wD="bignumber/5.8.0";var N0=Qe.BN;const Ho=new Z(wD),R1={},yT=9007199254740991;function hH(t){return t!=null&&(ve.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Vt(t)||typeof t=="bigint"||jh(t))}let vT=!1;class ve{constructor(e,n){e!==R1&&Ho.throwError("cannot call constructor directly; use BigNumber.from",Z.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return si(yt(this).fromTwos(e))}toTwos(e){return si(yt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ve.from(this._hex.substring(1)):this}add(e){return si(yt(this).add(yt(e)))}sub(e){return si(yt(this).sub(yt(e)))}div(e){return ve.from(e).isZero()&&qi("division-by-zero","div"),si(yt(this).div(yt(e)))}mul(e){return si(yt(this).mul(yt(e)))}mod(e){const n=yt(e);return n.isNeg()&&qi("division-by-zero","mod"),si(yt(this).umod(n))}pow(e){const n=yt(e);return n.isNeg()&&qi("negative-power","pow"),si(yt(this).pow(n))}and(e){const n=yt(e);return(this.isNegative()||n.isNeg())&&qi("unbound-bitwise-result","and"),si(yt(this).and(n))}or(e){const n=yt(e);return(this.isNegative()||n.isNeg())&&qi("unbound-bitwise-result","or"),si(yt(this).or(n))}xor(e){const n=yt(e);return(this.isNegative()||n.isNeg())&&qi("unbound-bitwise-result","xor"),si(yt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&qi("negative-width","mask"),si(yt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&qi("negative-width","shl"),si(yt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&qi("negative-width","shr"),si(yt(this).shrn(e))}eq(e){return yt(this).eq(yt(e))}lt(e){return yt(this).lt(yt(e))}lte(e){return yt(this).lte(yt(e))}gt(e){return yt(this).gt(yt(e))}gte(e){return yt(this).gte(yt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return yt(this).isZero()}toNumber(){try{return yt(this).toNumber()}catch{qi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ho.throwError("this platform does not support BigInt",Z.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?vT||(vT=!0,Ho.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ho.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Z.errors.UNEXPECTED_ARGUMENT,{}):Ho.throwError("BigNumber.toString does not accept parameters",Z.errors.UNEXPECTED_ARGUMENT,{})),yt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ve)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ve(R1,Hd(e)):e.match(/^-?[0-9]+$/)?new ve(R1,Hd(new N0(e))):Ho.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&qi("underflow","BigNumber.from",e),(e>=yT||e<=-yT)&&qi("overflow","BigNumber.from",e),ve.from(String(e));const n=e;if(typeof n=="bigint")return ve.from(n.toString());if(jh(n))return ve.from(Fe(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return ve.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Vt(r)||r[0]==="-"&&Vt(r.substring(1))))return ve.from(r)}return Ho.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Hd(t){if(typeof t!="string")return Hd(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ho.throwArgumentError("invalid hex","value",t),t=Hd(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function si(t){return ve.from(Hd(t))}function yt(t){const e=ve.from(t).toHexString();return e[0]==="-"?new N0("-"+e.substring(3),16):new N0(e.substring(2),16)}function qi(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Ho.throwError(t,Z.errors.NUMERIC_FAULT,r)}function fH(t){return new N0(t,36).toString(16)}const Wr=new Z(wD),ad={},_D=ve.from(0),bD=ve.from(-1);function xD(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),Wr.throwError(t,Z.errors.NUMERIC_FAULT,i)}let ld="0";for(;ld.length<256;)ld+=ld;function RE(t){if(typeof t!="number")try{t=ve.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+ld.substring(0,t):Wr.throwArgumentError("invalid decimal size","decimals",t)}function k1(t,e){e==null&&(e=0);const n=RE(e);t=ve.from(t);const r=t.lt(_D);r&&(t=t.mul(bD));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(n).toString();return n.length===1?t=s:t=s+"."+i,r&&(t="-"+t),t}function to(t,e){e==null&&(e=0);const n=RE(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Wr.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Wr.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Wr.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>n.length-1&&xD("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<n.length-1;)o+="0";const a=ve.from(s),l=ve.from(o);let u=a.mul(n).add(l);return r&&(u=u.mul(bD)),u}class Qc{constructor(e,n,r,i){e!==ad&&Wr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Z.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=RE(i),Object.freeze(this)}static from(e){if(e instanceof Qc)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Wr.throwArgumentError("invalid fixed format","format",e),n=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&Wr.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);n=s("signed","boolean",n),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&Wr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Wr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Qc(ad,n,r,i)}}class hr{constructor(e,n,r,i){e!==ad&&Wr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Z.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Wr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=to(this._value,this.format.decimals),r=to(e._value,e.format.decimals);return hr.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=to(this._value,this.format.decimals),r=to(e._value,e.format.decimals);return hr.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=to(this._value,this.format.decimals),r=to(e._value,e.format.decimals);return hr.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=to(this._value,this.format.decimals),r=to(e._value,e.format.decimals);return hr.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=hr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(wT.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=hr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(wT.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Wr.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=hr.from("1"+ld.substring(0,e),this.format),i=dH.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Wr.throwArgumentError("invalid byte width","width",e);const n=ve.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return ln(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return hr.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!hH(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),hr.fromString(k1(e,n),Qc.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Qc.from(n),i=to(e,r.decimals);!r.signed&&i.lt(_D)&&xD("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=ln(s,r.width/8));const o=k1(i,r.decimals);return new hr(ad,s,o,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Qc.from(n);if(Ue(e).length>r.width/8)throw new Error("overflow");let i=ve.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=k1(i,r.decimals);return new hr(ad,s,o,r)}static from(e,n){if(typeof e=="string")return hr.fromString(e,n);if(jh(e))return hr.fromBytes(e,n);try{return hr.fromValue(e,0,n)}catch(r){if(r.code!==Z.errors.INVALID_ARGUMENT)throw r}return Wr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const wT=hr.from(1),dH=hr.from("0.5"),pH="properties/5.8.0";var mH=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const D0=new Z(pH);function de(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function fo(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Dn(t){return mH(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function gH(t,e){(!t||typeof t!="object")&&D0.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||D0.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function Qn(t){const e={};for(const n in t)e[n]=t[n];return e}const yH={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function ED(t){if(t==null||yH[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!ED(r))return!1}return!0}return D0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function vH(t){if(ED(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>pa(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&de(e,n,pa(r))}return e}return D0.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function pa(t){return vH(t)}class Rp{constructor(e){for(const n in e)this[n]=pa(e[n])}}const kp="abi/5.8.0",Et=new Z(kp),Ru={};let _T={calldata:!0,memory:!0,storage:!0},wH={calldata:!0,memory:!0};function Mm(t,e){if(t==="bytes"||t==="string"){if(_T[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&wH[e])return!0;return(_T[e]||e==="payable")&&Et.throwArgumentError("invalid modifier","name",e),!1}function _H(t,e){let n=t;function r(a){Et.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let l=t[a];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||r(a),o.state.allowType=!1,o.type=uc(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),Mm(o.type,o.name)&&(o.name=""),o.type=uc(o.type);let u=o;o=o.parent,o||r(a),delete u.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),Mm(o.type,o.name)&&(o.name=""),o.type=uc(o.type);let c=i(o.parent);o.parent.components.push(c),delete o.parent,o=c;break;case" ":o.state.allowType&&o.type!==""&&(o.type=uc(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||r(a),o.indexed&&r(a),o.indexed=!0,o.name=""):Mm(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||r(a),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||r(a),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:r(a)}}return o.parent&&Et.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||r(n.length-7),o.indexed&&r(n.length-7),o.indexed=!0,o.name=""):Mm(o.type,o.name)&&(o.name=""),s.type=uc(s.type),s}function Ig(t,e){for(let n in e)de(t,n,e[n])}const Lt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),bH=new RegExp(/^(.*)\[([0-9]*)\]$/);class rr{constructor(e,n){e!==Ru&&Et.throwError("use fromString",Z.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ig(this,n);let r=this.type.match(bH);r?Ig(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:rr.fromObject({type:r[1],components:this.components}),baseType:"array"}):Ig(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Lt.sighash),Lt[e]||Et.throwArgumentError("invalid format type","format",e),e===Lt.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(r)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Lt.sighash&&(n+=this.type),n+="("+this.components.map(r=>r.format(e)).join(e===Lt.full?", ":",")+")"):n+=this.type,e!==Lt.sighash&&(this.indexed===!0&&(n+=" indexed"),e===Lt.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?rr.fromString(e,n):rr.fromObject(e)}static fromObject(e){return rr.isParamType(e)?e:new rr(Ru,{name:e.name||null,type:uc(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(rr.fromObject):null})}static fromString(e,n){function r(i){return rr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return r(_H(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function qd(t,e){return EH(t).map(n=>rr.fromString(n,e))}class ea{constructor(e,n){e!==Ru&&Et.throwError("use a static from method",Z.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ig(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return ea.isFragment(e)?e:typeof e=="string"?ea.fromString(e):ea.fromObject(e)}static fromObject(e){if(ea.isFragment(e))return e;switch(e.type){case"function":return ho.fromObject(e);case"event":return Yo.fromObject(e);case"constructor":return co.fromObject(e);case"error":return Ga.fromObject(e);case"fallback":case"receive":return null}return Et.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Yo.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?ho.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?co.fromString(e.trim()):e.split(" ")[0]==="error"?Ga.fromString(e.substring(5).trim()):Et.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Yo extends ea{format(e){if(e||(e=Lt.sighash),Lt[e]||Et.throwArgumentError("invalid format type","format",e),e===Lt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==Lt.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Lt.full?", ":",")+") ",e!==Lt.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?Yo.fromString(e):Yo.fromObject(e)}static fromObject(e){if(Yo.isEventFragment(e))return e;e.type!=="event"&&Et.throwArgumentError("invalid event object","value",e);const n={name:Wd(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(rr.fromObject):[],type:"event"};return new Yo(Ru,n)}static fromString(e){let n=e.match(Kd);n||Et.throwArgumentError("invalid event string","value",e);let r=!1;return n[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":r=!0;break;case"":break;default:Et.warn("unknown modifier: "+i)}}),Yo.fromObject({name:n[1].trim(),anonymous:r,inputs:qd(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function SD(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&Et.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||Et.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ve.from(n[1]),n[0]):t}function AD(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function PD(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Et.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Et.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Et.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Et.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Et.throwArgumentError("unable to determine stateMutability","value",t),e}class co extends ea{format(e){if(e||(e=Lt.sighash),Lt[e]||Et.throwArgumentError("invalid format type","format",e),e===Lt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===Lt.sighash&&Et.throwError("cannot format a constructor for sighash",Z.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(r=>r.format(e)).join(e===Lt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?co.fromString(e):co.fromObject(e)}static fromObject(e){if(co.isConstructorFragment(e))return e;e.type!=="constructor"&&Et.throwArgumentError("invalid constructor object","value",e);let n=PD(e);n.constant&&Et.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(rr.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?ve.from(e.gas):null};return new co(Ru,r)}static fromString(e){let n={type:"constructor"};e=SD(e,n);let r=e.match(Kd);return(!r||r[1].trim()!=="constructor")&&Et.throwArgumentError("invalid constructor string","value",e),n.inputs=qd(r[2].trim(),!1),AD(r[3].trim(),n),co.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class ho extends co{format(e){if(e||(e=Lt.sighash),Lt[e]||Et.throwArgumentError("invalid format type","format",e),e===Lt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==Lt.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Lt.full?", ":",")+") ",e!==Lt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?ho.fromString(e):ho.fromObject(e)}static fromObject(e){if(ho.isFunctionFragment(e))return e;e.type!=="function"&&Et.throwArgumentError("invalid function object","value",e);let n=PD(e);const r={type:e.type,name:Wd(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(rr.fromObject):[],outputs:e.outputs?e.outputs.map(rr.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?ve.from(e.gas):null};return new ho(Ru,r)}static fromString(e){let n={type:"function"};e=SD(e,n);let r=e.split(" returns ");r.length>2&&Et.throwArgumentError("invalid function string","value",e);let i=r[0].match(Kd);if(i||Et.throwArgumentError("invalid function signature","value",e),n.name=i[1].trim(),n.name&&Wd(n.name),n.inputs=qd(i[2],!1),AD(i[3].trim(),n),r.length>1){let s=r[1].match(Kd);(s[1].trim()!=""||s[3].trim()!="")&&Et.throwArgumentError("unexpected tokens","value",e),n.outputs=qd(s[2],!1)}else n.outputs=[];return ho.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function bT(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Et.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Ga extends ea{format(e){if(e||(e=Lt.sighash),Lt[e]||Et.throwArgumentError("invalid format type","format",e),e===Lt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==Lt.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===Lt.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?Ga.fromString(e):Ga.fromObject(e)}static fromObject(e){if(Ga.isErrorFragment(e))return e;e.type!=="error"&&Et.throwArgumentError("invalid error object","value",e);const n={type:e.type,name:Wd(e.name),inputs:e.inputs?e.inputs.map(rr.fromObject):[]};return bT(new Ga(Ru,n))}static fromString(e){let n={type:"error"},r=e.match(Kd);return r||Et.throwArgumentError("invalid error signature","value",e),n.name=r[1].trim(),n.name&&Wd(n.name),n.inputs=qd(r[2],!1),bT(Ga.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function uc(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const xH=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Wd(t){return(!t||!t.match(xH))&&Et.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Kd=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function EH(t){t=t.trim();let e=[],n="",r=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&r===0?(e.push(n),n=""):(n+=s,s==="("?r++:s===")"&&(r--,r===-1&&Et.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}const kE=new Z(kp);function SH(t){const e=[],n=function(r,i){if(Array.isArray(i))for(let s in i){const o=r.slice();o.push(s);try{n(o,i[s])}catch(a){e.push({path:o,error:a})}}};return n([],t),e}class Pa{constructor(e,n,r,i){this.name=e,this.type=n,this.localName=r,this.dynamic=i}_throwError(e,n){kE.throwArgumentError(e,this.localName,n)}}class H_{constructor(e){de(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return ci(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Mi(e._data))}writeBytes(e){let n=Ue(e);const r=n.length%this.wordSize;return r&&(n=Mi([n,this._padding.slice(r)])),this._writeData(n)}_getValue(e){let n=Ue(ve.from(e));return n.length>this.wordSize&&kE.throwError("value out-of-bounds",Z.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=Mi([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}}class L0{constructor(e,n,r,i){de(this,"_data",Ue(e)),de(this,"wordSize",n||32),de(this,"_coerceFunc",r),de(this,"allowLoose",i),this._offset=0}get data(){return Fe(this._data)}get consumed(){return this._offset}static coerce(e,n){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):L0.coerce(e,n)}_peekBytes(e,n,r){let i=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+n<=this._data.length?i=n:kE.throwError("data out-of-bounds",Z.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new L0(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let r=this._peekBytes(0,e,!!n);return this._offset+=r.length,r.slice(0,e)}readValue(){return ve.from(this.readBytes(this.wordSize))}}var TD={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=$3:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],p=[6,1536,393216,100663296],m=[0,8,16,24],w=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],x=[224,256,384,512],v=[128,256],S=["hex","buffer","arrayBuffer","array","digest"],A={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(I){return Object.prototype.toString.call(I)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(I){return typeof I=="object"&&I.buffer&&I.buffer.constructor===ArrayBuffer});for(var M=function(I,Q,ne){return function(ie){return new _(I,Q,I).update(ie)[ne]()}},U=function(I,Q,ne){return function(ie,le){return new _(I,Q,le).update(ie)[ne]()}},N=function(I,Q,ne){return function(ie,le,pe,ce){return g["cshake"+I].update(ie,le,pe,ce)[ne]()}},D=function(I,Q,ne){return function(ie,le,pe,ce){return g["kmac"+I].update(ie,le,pe,ce)[ne]()}},R=function(I,Q,ne,ie){for(var le=0;le<S.length;++le){var pe=S[le];I[pe]=Q(ne,ie,pe)}return I},L=function(I,Q){var ne=M(I,Q,"hex");return ne.create=function(){return new _(I,Q,I)},ne.update=function(ie){return ne.create().update(ie)},R(ne,M,I,Q)},z=function(I,Q){var ne=U(I,Q,"hex");return ne.create=function(ie){return new _(I,Q,ie)},ne.update=function(ie,le){return ne.create(le).update(ie)},R(ne,U,I,Q)},G=function(I,Q){var ne=A[I],ie=N(I,Q,"hex");return ie.create=function(le,pe,ce){return!pe&&!ce?g["shake"+I].create(le):new _(I,Q,le).bytepad([pe,ce],ne)},ie.update=function(le,pe,ce,he){return ie.create(pe,ce,he).update(le)},R(ie,N,I,Q)},W=function(I,Q){var ne=A[I],ie=D(I,Q,"hex");return ie.create=function(le,pe,ce){return new j(I,Q,pe).bytepad(["KMAC",ce],ne).bytepad([le],ne)},ie.update=function(le,pe,ce,he){return ie.create(le,ce,he).update(pe)},R(ie,D,I,Q)},E=[{name:"keccak",padding:f,bits:x,createMethod:L},{name:"sha3",padding:p,bits:x,createMethod:L},{name:"shake",padding:c,bits:v,createMethod:z},{name:"cshake",padding:h,bits:v,createMethod:G},{name:"kmac",padding:h,bits:v,createMethod:W}],g={},T=[],k=0;k<E.length;++k)for(var V=E[k],O=V.bits,$=0;$<O.length;++$){var q=V.name+"_"+O[$];if(T.push(q),g[q]=V.createMethod(O[$],V.padding),V.name!=="sha3"){var B=V.name+O[$];T.push(B),g[B]=g[q]}}function _(I,Q,ne){this.blocks=[],this.s=[],this.padding=Q,this.outputBits=ne,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(I<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ne>>5,this.extraBytes=(ne&31)>>3;for(var ie=0;ie<50;++ie)this.s[ie]=0}_.prototype.update=function(I){if(this.finalized)throw new Error(n);var Q,ne=typeof I;if(ne!=="string"){if(ne==="object"){if(I===null)throw new Error(e);if(l&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!l||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);Q=!0}for(var ie=this.blocks,le=this.byteCount,pe=I.length,ce=this.blockCount,he=0,nt=this.s,me,_e;he<pe;){if(this.reset)for(this.reset=!1,ie[0]=this.block,me=1;me<ce+1;++me)ie[me]=0;if(Q)for(me=this.start;he<pe&&me<le;++he)ie[me>>2]|=I[he]<<m[me++&3];else for(me=this.start;he<pe&&me<le;++he)_e=I.charCodeAt(he),_e<128?ie[me>>2]|=_e<<m[me++&3]:_e<2048?(ie[me>>2]|=(192|_e>>6)<<m[me++&3],ie[me>>2]|=(128|_e&63)<<m[me++&3]):_e<55296||_e>=57344?(ie[me>>2]|=(224|_e>>12)<<m[me++&3],ie[me>>2]|=(128|_e>>6&63)<<m[me++&3],ie[me>>2]|=(128|_e&63)<<m[me++&3]):(_e=65536+((_e&1023)<<10|I.charCodeAt(++he)&1023),ie[me>>2]|=(240|_e>>18)<<m[me++&3],ie[me>>2]|=(128|_e>>12&63)<<m[me++&3],ie[me>>2]|=(128|_e>>6&63)<<m[me++&3],ie[me>>2]|=(128|_e&63)<<m[me++&3]);if(this.lastByteIndex=me,me>=le){for(this.start=me-le,this.block=ie[ce],me=0;me<ce;++me)nt[me]^=ie[me];ue(nt),this.reset=!0}else this.start=me}return this},_.prototype.encode=function(I,Q){var ne=I&255,ie=1,le=[ne];for(I=I>>8,ne=I&255;ne>0;)le.unshift(ne),I=I>>8,ne=I&255,++ie;return Q?le.push(ie):le.unshift(ie),this.update(le),le.length},_.prototype.encodeString=function(I){var Q,ne=typeof I;if(ne!=="string"){if(ne==="object"){if(I===null)throw new Error(e);if(l&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!l||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);Q=!0}var ie=0,le=I.length;if(Q)ie=le;else for(var pe=0;pe<I.length;++pe){var ce=I.charCodeAt(pe);ce<128?ie+=1:ce<2048?ie+=2:ce<55296||ce>=57344?ie+=3:(ce=65536+((ce&1023)<<10|I.charCodeAt(++pe)&1023),ie+=4)}return ie+=this.encode(ie*8),this.update(I),ie},_.prototype.bytepad=function(I,Q){for(var ne=this.encode(Q),ie=0;ie<I.length;++ie)ne+=this.encodeString(I[ie]);var le=Q-ne%Q,pe=[];return pe.length=le,this.update(pe),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var I=this.blocks,Q=this.lastByteIndex,ne=this.blockCount,ie=this.s;if(I[Q>>2]|=this.padding[Q&3],this.lastByteIndex===this.byteCount)for(I[0]=I[ne],Q=1;Q<ne+1;++Q)I[Q]=0;for(I[ne-1]|=2147483648,Q=0;Q<ne;++Q)ie[Q]^=I[Q];ue(ie)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var I=this.blockCount,Q=this.s,ne=this.outputBlocks,ie=this.extraBytes,le=0,pe=0,ce="",he;pe<ne;){for(le=0;le<I&&pe<ne;++le,++pe)he=Q[le],ce+=u[he>>4&15]+u[he&15]+u[he>>12&15]+u[he>>8&15]+u[he>>20&15]+u[he>>16&15]+u[he>>28&15]+u[he>>24&15];pe%I===0&&(ue(Q),le=0)}return ie&&(he=Q[le],ce+=u[he>>4&15]+u[he&15],ie>1&&(ce+=u[he>>12&15]+u[he>>8&15]),ie>2&&(ce+=u[he>>20&15]+u[he>>16&15])),ce},_.prototype.arrayBuffer=function(){this.finalize();var I=this.blockCount,Q=this.s,ne=this.outputBlocks,ie=this.extraBytes,le=0,pe=0,ce=this.outputBits>>3,he;ie?he=new ArrayBuffer(ne+1<<2):he=new ArrayBuffer(ce);for(var nt=new Uint32Array(he);pe<ne;){for(le=0;le<I&&pe<ne;++le,++pe)nt[pe]=Q[le];pe%I===0&&ue(Q)}return ie&&(nt[le]=Q[le],he=he.slice(0,ce)),he},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var I=this.blockCount,Q=this.s,ne=this.outputBlocks,ie=this.extraBytes,le=0,pe=0,ce=[],he,nt;pe<ne;){for(le=0;le<I&&pe<ne;++le,++pe)he=pe<<2,nt=Q[le],ce[he]=nt&255,ce[he+1]=nt>>8&255,ce[he+2]=nt>>16&255,ce[he+3]=nt>>24&255;pe%I===0&&ue(Q)}return ie&&(he=pe<<2,nt=Q[le],ce[he]=nt&255,ie>1&&(ce[he+1]=nt>>8&255),ie>2&&(ce[he+2]=nt>>16&255)),ce};function j(I,Q,ne){_.call(this,I,Q,ne)}j.prototype=new _,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var ue=function(I){var Q,ne,ie,le,pe,ce,he,nt,me,_e,$n,rt,It,Pr,St,bt,yn,lt,et,Mn,Ce,Le,Bt,ft,At,vn,Ae,Ve,un,gt,Pt,ni,$t,Rt,ji,zt,kt,ri,Tt,ut,Ui,Nt,H,K,X,te,we,ge,Se,Te,be,ye,je,xe,Ie,dt,$e,We,jt,Xe,ur,On,Zn;for(ie=0;ie<48;ie+=2)le=I[0]^I[10]^I[20]^I[30]^I[40],pe=I[1]^I[11]^I[21]^I[31]^I[41],ce=I[2]^I[12]^I[22]^I[32]^I[42],he=I[3]^I[13]^I[23]^I[33]^I[43],nt=I[4]^I[14]^I[24]^I[34]^I[44],me=I[5]^I[15]^I[25]^I[35]^I[45],_e=I[6]^I[16]^I[26]^I[36]^I[46],$n=I[7]^I[17]^I[27]^I[37]^I[47],rt=I[8]^I[18]^I[28]^I[38]^I[48],It=I[9]^I[19]^I[29]^I[39]^I[49],Q=rt^(ce<<1|he>>>31),ne=It^(he<<1|ce>>>31),I[0]^=Q,I[1]^=ne,I[10]^=Q,I[11]^=ne,I[20]^=Q,I[21]^=ne,I[30]^=Q,I[31]^=ne,I[40]^=Q,I[41]^=ne,Q=le^(nt<<1|me>>>31),ne=pe^(me<<1|nt>>>31),I[2]^=Q,I[3]^=ne,I[12]^=Q,I[13]^=ne,I[22]^=Q,I[23]^=ne,I[32]^=Q,I[33]^=ne,I[42]^=Q,I[43]^=ne,Q=ce^(_e<<1|$n>>>31),ne=he^($n<<1|_e>>>31),I[4]^=Q,I[5]^=ne,I[14]^=Q,I[15]^=ne,I[24]^=Q,I[25]^=ne,I[34]^=Q,I[35]^=ne,I[44]^=Q,I[45]^=ne,Q=nt^(rt<<1|It>>>31),ne=me^(It<<1|rt>>>31),I[6]^=Q,I[7]^=ne,I[16]^=Q,I[17]^=ne,I[26]^=Q,I[27]^=ne,I[36]^=Q,I[37]^=ne,I[46]^=Q,I[47]^=ne,Q=_e^(le<<1|pe>>>31),ne=$n^(pe<<1|le>>>31),I[8]^=Q,I[9]^=ne,I[18]^=Q,I[19]^=ne,I[28]^=Q,I[29]^=ne,I[38]^=Q,I[39]^=ne,I[48]^=Q,I[49]^=ne,Pr=I[0],St=I[1],te=I[11]<<4|I[10]>>>28,we=I[10]<<4|I[11]>>>28,Ve=I[20]<<3|I[21]>>>29,un=I[21]<<3|I[20]>>>29,Xe=I[31]<<9|I[30]>>>23,ur=I[30]<<9|I[31]>>>23,Nt=I[40]<<18|I[41]>>>14,H=I[41]<<18|I[40]>>>14,Rt=I[2]<<1|I[3]>>>31,ji=I[3]<<1|I[2]>>>31,bt=I[13]<<12|I[12]>>>20,yn=I[12]<<12|I[13]>>>20,ge=I[22]<<10|I[23]>>>22,Se=I[23]<<10|I[22]>>>22,gt=I[33]<<13|I[32]>>>19,Pt=I[32]<<13|I[33]>>>19,On=I[42]<<2|I[43]>>>30,Zn=I[43]<<2|I[42]>>>30,xe=I[5]<<30|I[4]>>>2,Ie=I[4]<<30|I[5]>>>2,zt=I[14]<<6|I[15]>>>26,kt=I[15]<<6|I[14]>>>26,lt=I[25]<<11|I[24]>>>21,et=I[24]<<11|I[25]>>>21,Te=I[34]<<15|I[35]>>>17,be=I[35]<<15|I[34]>>>17,ni=I[45]<<29|I[44]>>>3,$t=I[44]<<29|I[45]>>>3,ft=I[6]<<28|I[7]>>>4,At=I[7]<<28|I[6]>>>4,dt=I[17]<<23|I[16]>>>9,$e=I[16]<<23|I[17]>>>9,ri=I[26]<<25|I[27]>>>7,Tt=I[27]<<25|I[26]>>>7,Mn=I[36]<<21|I[37]>>>11,Ce=I[37]<<21|I[36]>>>11,ye=I[47]<<24|I[46]>>>8,je=I[46]<<24|I[47]>>>8,K=I[8]<<27|I[9]>>>5,X=I[9]<<27|I[8]>>>5,vn=I[18]<<20|I[19]>>>12,Ae=I[19]<<20|I[18]>>>12,We=I[29]<<7|I[28]>>>25,jt=I[28]<<7|I[29]>>>25,ut=I[38]<<8|I[39]>>>24,Ui=I[39]<<8|I[38]>>>24,Le=I[48]<<14|I[49]>>>18,Bt=I[49]<<14|I[48]>>>18,I[0]=Pr^~bt&lt,I[1]=St^~yn&et,I[10]=ft^~vn&Ve,I[11]=At^~Ae&un,I[20]=Rt^~zt&ri,I[21]=ji^~kt&Tt,I[30]=K^~te&ge,I[31]=X^~we&Se,I[40]=xe^~dt&We,I[41]=Ie^~$e&jt,I[2]=bt^~lt&Mn,I[3]=yn^~et&Ce,I[12]=vn^~Ve&gt,I[13]=Ae^~un&Pt,I[22]=zt^~ri&ut,I[23]=kt^~Tt&Ui,I[32]=te^~ge&Te,I[33]=we^~Se&be,I[42]=dt^~We&Xe,I[43]=$e^~jt&ur,I[4]=lt^~Mn&Le,I[5]=et^~Ce&Bt,I[14]=Ve^~gt&ni,I[15]=un^~Pt&$t,I[24]=ri^~ut&Nt,I[25]=Tt^~Ui&H,I[34]=ge^~Te&ye,I[35]=Se^~be&je,I[44]=We^~Xe&On,I[45]=jt^~ur&Zn,I[6]=Mn^~Le&Pr,I[7]=Ce^~Bt&St,I[16]=gt^~ni&ft,I[17]=Pt^~$t&At,I[26]=ut^~Nt&Rt,I[27]=Ui^~H&ji,I[36]=Te^~ye&K,I[37]=be^~je&X,I[46]=Xe^~On&xe,I[47]=ur^~Zn&Ie,I[8]=Le^~Pr&bt,I[9]=Bt^~St&yn,I[18]=ni^~ft&vn,I[19]=$t^~At&Ae,I[28]=Nt^~Rt&zt,I[29]=H^~ji&kt,I[38]=ye^~K&te,I[39]=je^~X&we,I[48]=On^~xe&dt,I[49]=Zn^~Ie&$e,I[0]^=w[ie],I[1]^=w[ie+1]};if(a)t.exports=g;else for(k=0;k<T.length;++k)i[T[k]]=g[T[k]]})()})(TD);var AH=TD.exports;const PH=Ml(AH);function Wn(t){return"0x"+PH.keccak_256(Ue(t))}const TH="rlp/5.8.0",so=new Z(TH);function xT(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function ET(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function CD(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(CD(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=xT(r.length);return i.unshift(247+i.length),i.concat(r)}CE(t)||so.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Ue(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=xT(e.length);return n.unshift(183+n.length),n.concat(e)}function ev(t){return Fe(CD(t))}function ST(t,e,n,r){const i=[];for(;n<e+1+r;){const s=ID(t,n);i.push(s.result),n+=s.consumed,n>e+1+r&&so.throwError("child data too short",Z.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function ID(t,e){if(t.length===0&&so.throwError("data too short",Z.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&so.throwError("data short segment too short",Z.errors.BUFFER_OVERRUN,{});const r=ET(t,e+1,n);return e+1+n+r>t.length&&so.throwError("data long segment too short",Z.errors.BUFFER_OVERRUN,{}),ST(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&so.throwError("data array too short",Z.errors.BUFFER_OVERRUN,{}),ST(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&so.throwError("data array too short",Z.errors.BUFFER_OVERRUN,{});const r=ET(t,e+1,n);e+1+n+r>t.length&&so.throwError("data array too short",Z.errors.BUFFER_OVERRUN,{});const i=Fe(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&so.throwError("data too short",Z.errors.BUFFER_OVERRUN,{});const r=Fe(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:Fe(t[e])}}function ME(t){const e=Ue(t),n=ID(e,0);return n.consumed!==e.length&&so.throwArgumentError("invalid rlp data","data",t),n.result}const CH="address/5.8.0",Tc=new Z(CH);function AT(t){Vt(t,20)||Tc.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Ue(Wn(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const IH=9007199254740991;function RH(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const OE={};for(let t=0;t<10;t++)OE[String(t)]=String(t);for(let t=0;t<26;t++)OE[String.fromCharCode(65+t)]=String(10+t);const PT=Math.floor(RH(IH));function kH(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>OE[r]).join("");for(;e.length>=PT;){let r=e.substring(0,PT);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function xr(t){let e=null;if(typeof t!="string"&&Tc.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=AT(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Tc.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==kH(t)&&Tc.throwArgumentError("bad icap checksum","address",t),e=fH(t.substring(4));e.length<40;)e="0"+e;e=AT("0x"+e)}else Tc.throwArgumentError("invalid address","address",t);return e}function RD(t){let e=null;try{e=xr(t.from)}catch{Tc.throwArgumentError("missing from address","transaction",t)}const n=ph(Ue(ve.from(t.nonce).toHexString()));return xr(Dr(Wn(ev([e,n])),12))}class MH extends Pa{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=xr(n)}catch(r){this._throwError(r.message,n)}return e.writeValue(n)}decode(e){return xr(ln(e.readValue().toHexString(),20))}}class OH extends Pa{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}const Cc=new Z(kp);function kD(t,e,n){let r=null;if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(u=>{const c=u.localName;return c||Cc.throwError("cannot encode object for signature with missing names",Z.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:n}),l[c]&&Cc.throwError("cannot encode object for signature with duplicate names",Z.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:n}),l[c]=!0,n[c]})}else Cc.throwArgumentError("invalid tuple value","tuple",n);e.length!==r.length&&Cc.throwArgumentError("types/value length mismatch","tuple",n);let i=new H_(t.wordSize),s=new H_(t.wordSize),o=[];e.forEach((l,u)=>{let c=r[u];if(l.dynamic){let h=s.length;l.encode(s,c);let f=i.writeUpdatableValue();o.push(p=>{f(p+h)})}else l.encode(i,c)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function MD(t,e){let n=[],r=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),l=r.subReader(a.toNumber());try{o=s.decode(l)}catch(u){if(u.code===Z.errors.BUFFER_OVERRUN)throw u;o=u,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===Z.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&n.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),n[a]!=null))return;const l=n[o];l instanceof Error?Object.defineProperty(n,a,{enumerable:!0,get:()=>{throw l}}):n[a]=l});for(let s=0;s<n.length;s++){const o=n[s];o instanceof Error&&Object.defineProperty(n,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(n)}class NH extends Pa{constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",s=n===-1||e.dynamic;super("array",i,r,s),this.coder=e,this.length=n}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;r===-1&&(r=n.length,e.writeValue(n.length)),Cc.checkArgumentCount(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return kD(e,i,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&Cc.throwError("insufficient data length",Z.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let r=[];for(let i=0;i<n;i++)r.push(new OH(this.coder));return e.coerce(this.name,MD(e,r))}}class DH extends Pa{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class OD extends Pa{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Ue(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class LH extends OD{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Fe(super.decode(e)))}}class VH extends Pa{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=Ue(n);return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return e.coerce(this.name,Fe(e.readBytes(this.size)))}}class FH extends Pa{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const BH="0x0000000000000000000000000000000000000000",zH=ve.from(-1),ND=ve.from(0),jH=ve.from(1),UH=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$H="0x0000000000000000000000000000000000000000000000000000000000000000";class GH extends Pa{constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let r=ve.from(n),i=UH.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(r.gt(s)||r.lt(s.add(jH).mul(zH)))&&this._throwError("value out-of-bounds",n)}else(r.lt(ND)||r.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}const HH="strings/5.8.0",DD=new Z(HH);var Qd;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Qd||(Qd={}));var Ci;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ci||(Ci={}));function qH(t,e,n,r,i){return DD.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function LD(t,e,n,r,i){if(t===Ci.BAD_PREFIX||t===Ci.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t===Ci.OVERRUN?n.length-e-1:0}function WH(t,e,n,r,i){return t===Ci.OVERLONG?(r.push(i),0):(r.push(65533),LD(t,e,n))}const KH=Object.freeze({error:qH,ignore:LD,replace:WH});function VD(t,e){e==null&&(e=KH.error),t=Ue(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(!(i>>7)){n.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Ci.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(Ci.BAD_PREFIX,r-1,t,n);continue}if(r-1+s>=t.length){r+=e(Ci.OVERRUN,r-1,t,n);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=t[r];if((u&192)!=128){r+=e(Ci.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|u&63,r++}if(a!==null){if(a>1114111){r+=e(Ci.OUT_OF_RANGE,r-1-s,t,n,a);continue}if(a>=55296&&a<=57343){r+=e(Ci.UTF16_SURROGATE,r-1-s,t,n,a);continue}if(a<=o){r+=e(Ci.OVERLONG,r-1-s,t,n,a);continue}n.push(a)}}return n}function Ro(t,e=Qd.current){e!=Qd.current&&(DD.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);if(r>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return Ue(n)}function QH(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Mp(t,e){return QH(VD(t,e))}function YH(t,e=Qd.current){return VD(Ro(t,e))}class XH extends OD{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ro(n))}decode(e){return Mp(super.decode(e))}}class Om extends Pa{constructor(e,n){let r=!1;const i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,n,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||n[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,n){return kD(e,this.coders,n)}decode(e){return e.coerce(this.name,MD(e,this.coders))}}const Nm=new Z(kp),JH=new RegExp(/^bytes([0-9]*)$/),ZH=new RegExp(/^(u?int)([0-9]*)$/);class eq{constructor(e){de(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new MH(e.name);case"bool":return new DH(e.name);case"string":return new XH(e.name);case"bytes":return new LH(e.name);case"array":return new NH(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Om((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new FH(e.name)}let n=e.type.match(ZH);if(n){let r=parseInt(n[2]||"256");return(r===0||r>256||r%8!==0)&&Nm.throwArgumentError("invalid "+n[1]+" bit length","param",e),new GH(r/8,n[1]==="int",e.name)}if(n=e.type.match(JH),n){let r=parseInt(n[1]);return(r===0||r>32)&&Nm.throwArgumentError("invalid bytes length","param",e),new VH(r,e.name)}return Nm.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new L0(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new H_(this._getWordSize())}getDefaultValue(e){const n=e.map(i=>this._getCoder(rr.from(i)));return new Om(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&Nm.throwError("types/values length mismatch",Z.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});const r=e.map(o=>this._getCoder(rr.from(o))),i=new Om(r,"_"),s=this._getWriter();return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>this._getCoder(rr.from(o)));return new Om(i,"_").decode(this._getReader(Ue(n),r))}}const tq=new eq;function Ic(t){return Wn(Ro(t))}const FD="hash/5.8.0";function BD(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return Ue(e)}function zD(t){t=Ue(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function jD(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):n.push(a)})};return i(t,e),n}function nq(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function rq(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let U=1;U<r;U++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,u=0;function c(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const h=31,f=Math.pow(2,h),p=f>>>1,m=p>>1,w=f-1;let x=0;for(let U=0;U<h;U++)x=x<<1|c();let v=[],S=0,A=f;for(;;){let U=Math.floor(((x-S+1)*i-1)/A),N=0,D=r;for(;D-N>1;){let z=N+D>>>1;U<s[z]?D=z:N=z}if(N==0)break;v.push(N);let R=S+Math.floor(A*s[N]/i),L=S+Math.floor(A*s[N+1]/i)-1;for(;!((R^L)&p);)x=x<<1&w|c(),R=R<<1&w,L=L<<1&w|1;for(;R&~L&m;)x=x&p|x<<1&w>>>1|c(),R=R<<1^p,L=(L^p)<<1|p|1;S=R,A=1+L-R}let M=r-4;return v.map(U=>{switch(U-M){case 3:return M+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return M+256+(t[a++]<<8|t[a++]);case 1:return M+t[a++];default:return U-1}})}function iq(t){let e=0;return()=>t[e++]}function sq(t){return iq(rq(t))}function oq(t){return t&1?~t>>1:t>>1}function aq(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function TT(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function lq(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=oq(e());return n}function V0(t,e){let n=TT(t(),t),r=t(),i=TT(r,t),s=aq(r,t);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)n.push(i[o]+a);return e?n.map(o=>e[o]):n}function uq(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(hq(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(fq(n,t))}return nq(jD(e))}function cq(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function UD(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)lq(t,n).forEach((s,o)=>r[o].push(s));return r}function hq(t,e){let n=1+e(),r=e(),i=cq(e),s=UD(i.length,1+t,e);return jD(s.map((o,a)=>{const l=o[0],u=o.slice(1);return Array(i[a]).fill(void 0).map((c,h)=>{let f=h*r;return[l+h*n,u.map(p=>p+f)]})}))}function fq(t,e){let n=1+e();return UD(n,1+t,e).map(i=>[i[0],i.slice(1)])}function dq(t){let e=V0(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let u=V0(t,e);if(u.length==0)break;r.push({set:new Set(u),node:n()})}r.sort((u,c)=>c.set.size-u.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:l}}}function pq(){return sq(BD("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const tv=pq(),mq=new Set(V0(tv)),gq=new Set(V0(tv)),yq=uq(tv),vq=dq(tv),CT=45,IT=95;function $D(t){return YH(t)}function wq(t){return t.filter(e=>e!=65039)}function GD(t){for(let e of t.split(".")){let n=$D(e);try{for(let r=n.lastIndexOf(IT)-1;r>=0;r--)if(n[r]!==IT)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===CT&&n[3]===CT)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function _q(t){return GD(bq(t,wq))}function bq(t,e){let n=$D(t).reverse(),r=[];for(;n.length;){let i=Eq(n);if(i){r.push(...e(i));continue}let s=n.pop();if(mq.has(s)){r.push(s);continue}if(gq.has(s))continue;let o=yq[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return GD(xq(String.fromCodePoint(...r)))}function xq(t){return t.normalize("NFC")}function Eq(t,e){var n;let r=vq,i,s,o=[],a=t.length;for(e&&(e.length=0);a;){let l=t[--a];if(r=(n=r.branches.find(u=>u.set.has(l)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)s=l;else if(r.check&&l===s)break;o.push(l),r.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const Sq=new Z(FD),HD=new Uint8Array(32);HD.fill(0);function RT(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function qD(t){const e=Ro(_q(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(RT(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(RT(e.slice(r))),n}function Rg(t){typeof t!="string"&&Sq.throwArgumentError("invalid ENS name; not a string","name",t);let e=HD;const n=qD(t);for(;n.length;)e=Wn(Mi([e,Wn(n.pop())]));return Fe(e)}function Aq(t){return Fe(Mi(qD(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}var Pq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const hn=new Z(FD),WD=new Uint8Array(32);WD.fill(0);const Tq=ve.from(-1),KD=ve.from(0),QD=ve.from(1),Cq=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Iq(t){const e=Ue(t),n=e.length%32;return n?ci([e,WD.slice(n)]):Fe(e)}const Rq=ln(QD.toHexString(),32),kq=ln(KD.toHexString(),32),kT={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},M1=["name","version","chainId","verifyingContract","salt"];function MT(t){return function(e){return typeof e!="string"&&hn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Mq={name:MT("name"),version:MT("version"),chainId:function(t){try{return ve.from(t).toString()}catch{}return hn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return xr(t).toLowerCase()}catch{}return hn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Ue(t);if(e.length!==32)throw new Error("bad length");return Fe(e)}catch{}return hn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function O1(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&hn.throwArgumentError("invalid numeric width","type",t);const i=Cq.mask(n?r-1:r),s=n?i.add(QD).mul(Tq):KD;return function(o){const a=ve.from(o);return(a.lt(s)||a.gt(i))&&hn.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),ln(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&hn.throwArgumentError("invalid bytes width","type",t),function(r){return Ue(r).length!==n&&hn.throwArgumentError(`invalid length for ${t}`,"value",r),Iq(r)}}}switch(t){case"address":return function(e){return ln(xr(e),32)};case"bool":return function(e){return e?Rq:kq};case"bytes":return function(e){return Wn(e)};case"string":return function(e){return Ic(e)}}return null}function OT(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}class Ei{constructor(e){de(this,"types",Object.freeze(pa(e))),de(this,"_encoderCache",{}),de(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(a=>{n[a]={},r[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(u=>{l[u.name]&&hn.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),l[u.name]=!0;const c=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];c===a&&hn.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),!O1(c)&&(r[c]||hn.throwArgumentError(`unknown type ${JSON.stringify(c)}`,"types",e),r[c].push(a),n[a][c]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?hn.throwArgumentError("missing primary type","types",e):s.length>1&&hn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),de(this,"primaryType",s[0]);function o(a,l){l[a]&&hn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(n[a]).forEach(u=>{r[u]&&(o(u,l),Object.keys(l).forEach(c=>{i[c][u]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=OT(a,e[a])+l.map(u=>OT(u,e[u])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=O1(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],s=this.getEncoder(i),o=parseInt(n[3]);return a=>{o>=0&&a.length!==o&&hn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(Wn)),Wn(ci(l))}}const r=this.types[e];if(r){const i=Ic(this._types[e]);return s=>{const o=r.map(({name:a,type:l})=>{const u=this.getEncoder(l)(s[a]);return this._types[l]?Wn(u):u});return o.unshift(i),ci(o)}}return hn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||hn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Wn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(O1(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&n.length!==a&&hn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(l=>this._visit(o,l,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{}):hn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Ei(e)}static getPrimaryType(e){return Ei.from(e).primaryType}static hashStruct(e,n,r){return Ei.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=kT[r];i||hn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>M1.indexOf(r.name)-M1.indexOf(i.name)),Ei.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return ci(["0x1901",Ei.hashDomain(e),Ei.from(n).hash(r)])}static hash(e,n,r){return Wn(Ei.encode(e,n,r))}static resolveNames(e,n,r,i){return Pq(this,void 0,void 0,function*(){e=Qn(e);const s={};e.verifyingContract&&!Vt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Ei.from(n);o.visit(r,(a,l)=>(a==="address"&&!Vt(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}})}static getPayload(e,n,r){Ei.hashDomain(e);const i={},s=[];M1.forEach(l=>{const u=e[l];u!=null&&(i[l]=Mq[l](u),s.push({name:l,type:kT[l]}))});const o=Ei.from(n),a=Qn(n);return a.EIP712Domain?hn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return Fe(Ue(u));if(l.match(/^u?int/))return ve.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&hn.throwArgumentError("invalid string","value",u),u}return hn.throwArgumentError("unsupported type","type",l)})}}}const cn=new Z(kp);class Oq extends Rp{}class Nq extends Rp{}class Dq extends Rp{}class q_ extends Rp{static isIndexed(e){return!!(e&&e._isIndexed)}}const Lq={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function NT(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}class DT{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,de(this,"fragments",n.map(r=>ea.from(r)).filter(r=>r!=null)),de(this,"_abiCoder",fo(new.target,"getAbiCoder")()),de(this,"functions",{}),de(this,"errors",{}),de(this,"events",{}),de(this,"structs",{}),this.fragments.forEach(r=>{let i=null;switch(r.type){case"constructor":if(this.deploy){cn.warn("duplicate definition - constructor");return}de(this,"deploy",r);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=r.format();if(i[s]){cn.warn("duplicate definition - "+s);return}i[s]=r}),this.deploy||de(this,"deploy",co.from({payable:!1,type:"constructor"})),de(this,"_isInterface",!0)}format(e){e||(e=Lt.full),e===Lt.sighash&&cn.throwArgumentError("interface does not support formatting sighash","format",e);const n=this.fragments.map(r=>r.format(e));return e===Lt.json?JSON.stringify(n.map(r=>JSON.parse(r))):n}static getAbiCoder(){return tq}static getAddress(e){return xr(e)}static getSighash(e){return Dr(Ic(e.format()),0,4)}static getEventTopic(e){return Ic(e.format())}getFunction(e){if(Vt(e)){for(const r in this.functions)if(e===this.getSighash(r))return this.functions[r];cn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===r);return i.length===0?cn.throwArgumentError("no matching function","name",r):i.length>1&&cn.throwArgumentError("multiple matching functions","name",r),this.functions[i[0]]}const n=this.functions[ho.fromString(e).format()];return n||cn.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(Vt(e)){const r=e.toLowerCase();for(const i in this.events)if(r===this.getEventTopic(i))return this.events[i];cn.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===r);return i.length===0?cn.throwArgumentError("no matching event","name",r):i.length>1&&cn.throwArgumentError("multiple matching events","name",r),this.events[i[0]]}const n=this.events[Yo.fromString(e).format()];return n||cn.throwArgumentError("no matching event","signature",e),n}getError(e){if(Vt(e)){const r=fo(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===r(s))return this.errors[i]}cn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===r);return i.length===0?cn.throwArgumentError("no matching error","name",r):i.length>1&&cn.throwArgumentError("multiple matching errors","name",r),this.errors[i[0]]}const n=this.errors[ho.fromString(e).format()];return n||cn.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return fo(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),fo(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));const r=Ue(n);return Fe(r.slice(0,4))!==this.getSighash(e)&&cn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Fe(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),Fe(Mi([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));const r=Ue(n);return Fe(r.slice(0,4))!==this.getSighash(e)&&cn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Fe(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Fe(Mi([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let r=Ue(n),i=null,s="",o=null,a=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{const u=Fe(r.slice(0,4)),c=Lq[u];if(c)o=this._abiCoder.decode(c.inputs,r.slice(4)),a=c.name,l=c.signature,c.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const h=this.getError(u);o=this._abiCoder.decode(h.inputs,r.slice(4)),a=h.name,l=h.format()}catch{}break}}return cn.throwError("call revert exception"+s,Z.errors.CALL_EXCEPTION,{method:e.format(),data:Fe(n),errorArgs:o,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),Fe(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&cn.throwError("too many arguments for "+e.format(),Z.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let r=[];e.anonymous||r.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Ic(o):s.type==="bytes"?Wn(Fe(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ve.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),ln(Fe(o),32));for(n.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&cn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?cn.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));const r=[],i=[],s=[];return e.anonymous||r.push(this.getEventTopic(e)),n.length!==e.inputs.length&&cn.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")r.push(Ic(l));else if(o.type==="bytes")r.push(Wn(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:this._abiCoder.encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let f=this.getEventTopic(e);(!Vt(r[0],32)||r[0].toLowerCase()!==f)&&cn.throwError("fragment/topic mismatch",Z.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:f,value:r[0]}),r=r.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((f,p)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(i.push(rr.fromObject({type:"bytes32",name:f.name})),o.push(!0)):(i.push(f),o.push(!1)):(s.push(f),o.push(!1))});let a=r!=null?this._abiCoder.decode(i,Mi(r)):null,l=this._abiCoder.decode(s,n,!0),u=[],c=0,h=0;e.inputs.forEach((f,p)=>{if(f.indexed)if(a==null)u[p]=new q_({_isIndexed:!0,hash:null});else if(o[p])u[p]=new q_({_isIndexed:!0,hash:a[h++]});else try{u[p]=a[h++]}catch(m){u[p]=m}else try{u[p]=l[c++]}catch(m){u[p]=m}if(f.name&&u[f.name]==null){const m=u[p];m instanceof Error?Object.defineProperty(u,f.name,{enumerable:!0,get:()=>{throw NT(`property ${JSON.stringify(f.name)}`,m)}}):u[f.name]=m}});for(let f=0;f<u.length;f++){const p=u[f];p instanceof Error&&Object.defineProperty(u,f,{enumerable:!0,get:()=>{throw NT(`index ${f}`,p)}})}return Object.freeze(u)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new Nq({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:ve.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Oq({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){const n=Fe(e);let r=this.getError(n.substring(0,10).toLowerCase());return r?new Dq({args:this._abiCoder.decode(r.inputs,"0x"+n.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Vq="abstract-provider/5.8.0";var Fq=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Bq=new Z(Vq);class zq extends Rp{static isForkEvent(e){return!!(e&&e._isForkEvent)}}let YD=class XD{constructor(){Bq.checkAbstract(new.target,XD),de(this,"_isProvider",!0)}getFeeData(){return Fq(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Dn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=ve.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}};const jq="abstract-signer/5.8.0";var ws=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Yi=new Z(jq),Uq=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],$q=[Z.errors.INSUFFICIENT_FUNDS,Z.errors.NONCE_EXPIRED,Z.errors.REPLACEMENT_UNDERPRICED];class Op{constructor(){Yi.checkAbstract(new.target,Op),de(this,"_isSigner",!0)}getBalance(e){return ws(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ws(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ws(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Dn(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return ws(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Dn(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return ws(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return ws(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ws(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ws(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ws(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)Uq.indexOf(r)===-1&&Yi.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=Qn(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Yi.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return ws(this,void 0,void 0,function*(){const n=yield Dn(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>ws(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Yi.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?Yi.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&Yi.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const s=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=s,n.maxPriorityFeePerGas=s}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Yi.throwError("network does not support EIP-1559",Z.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):Yi.throwError("failed to get consistent fee data",Z.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if($q.indexOf(i.code)>=0)throw i;return Yi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Z.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Yi.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Dn(n)})}_checkProvider(e){this.provider||Yi.throwError("missing provider",Z.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class NE extends Op{constructor(e,n){super(),de(this,"address",e),de(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{Yi.throwError(e,Z.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new NE(this.address,e)}}var JD={},_t={},Np=ZD;function ZD(t,e){if(!t)throw new Error(e||"Assertion failed")}ZD.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var W_={exports:{}};typeof Object.create=="function"?W_.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:W_.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var Gq=W_.exports,Hq=Np,qq=Gq;_t.inherits=qq;function Wq(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Kq(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=s&63|128):Wq(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=s&63|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=s&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}_t.toArray=Kq;function Qq(t){for(var e="",n=0;n<t.length;n++)e+=t5(t[n].toString(16));return e}_t.toHex=Qq;function e5(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}_t.htonl=e5;function Yq(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=e5(i)),n+=n5(i.toString(16))}return n}_t.toHex32=Yq;function t5(t){return t.length===1?"0"+t:t}_t.zero2=t5;function n5(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}_t.zero8=n5;function Xq(t,e,n,r){var i=n-e;Hq(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;r==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}_t.join32=Xq;function Jq(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var s=t[r];e==="big"?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=s&255):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=s&255)}return n}_t.split32=Jq;function Zq(t,e){return t>>>e|t<<32-e}_t.rotr32=Zq;function eW(t,e){return t<<e|t>>>32-e}_t.rotl32=eW;function tW(t,e){return t+e>>>0}_t.sum32=tW;function nW(t,e,n){return t+e+n>>>0}_t.sum32_3=nW;function rW(t,e,n,r){return t+e+n+r>>>0}_t.sum32_4=rW;function iW(t,e,n,r,i){return t+e+n+r+i>>>0}_t.sum32_5=iW;function sW(t,e,n,r){var i=t[e],s=t[e+1],o=r+s>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o}_t.sum64=sW;function oW(t,e,n,r){var i=e+r>>>0,s=(i<e?1:0)+t+n;return s>>>0}_t.sum64_hi=oW;function aW(t,e,n,r){var i=e+r;return i>>>0}_t.sum64_lo=aW;function lW(t,e,n,r,i,s,o,a){var l=0,u=e;u=u+r>>>0,l+=u<e?1:0,u=u+s>>>0,l+=u<s?1:0,u=u+a>>>0,l+=u<a?1:0;var c=t+n+i+o+l;return c>>>0}_t.sum64_4_hi=lW;function uW(t,e,n,r,i,s,o,a){var l=e+r+s+a;return l>>>0}_t.sum64_4_lo=uW;function cW(t,e,n,r,i,s,o,a,l,u){var c=0,h=e;h=h+r>>>0,c+=h<e?1:0,h=h+s>>>0,c+=h<s?1:0,h=h+a>>>0,c+=h<a?1:0,h=h+u>>>0,c+=h<u?1:0;var f=t+n+i+o+l+c;return f>>>0}_t.sum64_5_hi=cW;function hW(t,e,n,r,i,s,o,a,l,u){var c=e+r+s+a+u;return c>>>0}_t.sum64_5_lo=hW;function fW(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}_t.rotr64_hi=fW;function dW(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}_t.rotr64_lo=dW;function pW(t,e,n){return t>>>n}_t.shr64_hi=pW;function mW(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}_t.shr64_lo=mW;var Uh={},LT=_t,gW=Np;function nv(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Uh.BlockHash=nv;nv.prototype.update=function(e,n){if(e=LT.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=LT.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};nv.prototype.digest=function(e){return this.update(this._pad()),gW(this.pending===null),this._digest(e)};nv.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var $h={},Bo={},yW=_t,vo=yW.rotr32;function vW(t,e,n,r){if(t===0)return r5(e,n,r);if(t===1||t===3)return s5(e,n,r);if(t===2)return i5(e,n,r)}Bo.ft_1=vW;function r5(t,e,n){return t&e^~t&n}Bo.ch32=r5;function i5(t,e,n){return t&e^t&n^e&n}Bo.maj32=i5;function s5(t,e,n){return t^e^n}Bo.p32=s5;function wW(t){return vo(t,2)^vo(t,13)^vo(t,22)}Bo.s0_256=wW;function _W(t){return vo(t,6)^vo(t,11)^vo(t,25)}Bo.s1_256=_W;function bW(t){return vo(t,7)^vo(t,18)^t>>>3}Bo.g0_256=bW;function xW(t){return vo(t,17)^vo(t,19)^t>>>10}Bo.g1_256=xW;var mh=_t,EW=Uh,SW=Bo,N1=mh.rotl32,Af=mh.sum32,AW=mh.sum32_5,PW=SW.ft_1,o5=EW.BlockHash,TW=[1518500249,1859775393,2400959708,3395469782];function ko(){if(!(this instanceof ko))return new ko;o5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}mh.inherits(ko,o5);var CW=ko;ko.blockSize=512;ko.outSize=160;ko.hmacStrength=80;ko.padLength=64;ko.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=N1(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],u=this.h[4];for(i=0;i<r.length;i++){var c=~~(i/20),h=AW(N1(s,5),PW(c,o,a,l),u,r[i],TW[c]);u=l,l=a,a=N1(o,30),o=s,s=h}this.h[0]=Af(this.h[0],s),this.h[1]=Af(this.h[1],o),this.h[2]=Af(this.h[2],a),this.h[3]=Af(this.h[3],l),this.h[4]=Af(this.h[4],u)};ko.prototype._digest=function(e){return e==="hex"?mh.toHex32(this.h,"big"):mh.split32(this.h,"big")};var gh=_t,IW=Uh,Gh=Bo,RW=Np,_s=gh.sum32,kW=gh.sum32_4,MW=gh.sum32_5,OW=Gh.ch32,NW=Gh.maj32,DW=Gh.s0_256,LW=Gh.s1_256,VW=Gh.g0_256,FW=Gh.g1_256,a5=IW.BlockHash,BW=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Mo(){if(!(this instanceof Mo))return new Mo;a5.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=BW,this.W=new Array(64)}gh.inherits(Mo,a5);var l5=Mo;Mo.blockSize=512;Mo.outSize=256;Mo.hmacStrength=192;Mo.padLength=64;Mo.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=kW(FW(r[i-2]),r[i-7],VW(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],f=this.h[7];for(RW(this.k.length===r.length),i=0;i<r.length;i++){var p=MW(f,LW(u),OW(u,c,h),this.k[i],r[i]),m=_s(DW(s),NW(s,o,a));f=h,h=c,c=u,u=_s(l,p),l=a,a=o,o=s,s=_s(p,m)}this.h[0]=_s(this.h[0],s),this.h[1]=_s(this.h[1],o),this.h[2]=_s(this.h[2],a),this.h[3]=_s(this.h[3],l),this.h[4]=_s(this.h[4],u),this.h[5]=_s(this.h[5],c),this.h[6]=_s(this.h[6],h),this.h[7]=_s(this.h[7],f)};Mo.prototype._digest=function(e){return e==="hex"?gh.toHex32(this.h,"big"):gh.split32(this.h,"big")};var K_=_t,u5=l5;function ma(){if(!(this instanceof ma))return new ma;u5.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}K_.inherits(ma,u5);var zW=ma;ma.blockSize=512;ma.outSize=224;ma.hmacStrength=192;ma.padLength=64;ma.prototype._digest=function(e){return e==="hex"?K_.toHex32(this.h.slice(0,7),"big"):K_.split32(this.h.slice(0,7),"big")};var yi=_t,jW=Uh,UW=Np,wo=yi.rotr64_hi,_o=yi.rotr64_lo,c5=yi.shr64_hi,h5=yi.shr64_lo,Ma=yi.sum64,D1=yi.sum64_hi,L1=yi.sum64_lo,$W=yi.sum64_4_hi,GW=yi.sum64_4_lo,HW=yi.sum64_5_hi,qW=yi.sum64_5_lo,f5=jW.BlockHash,WW=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $s(){if(!(this instanceof $s))return new $s;f5.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=WW,this.W=new Array(160)}yi.inherits($s,f5);var d5=$s;$s.blockSize=1024;$s.outSize=512;$s.hmacStrength=192;$s.padLength=128;$s.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var s=iK(r[i-4],r[i-3]),o=sK(r[i-4],r[i-3]),a=r[i-14],l=r[i-13],u=nK(r[i-30],r[i-29]),c=rK(r[i-30],r[i-29]),h=r[i-32],f=r[i-31];r[i]=$W(s,o,a,l,u,c,h,f),r[i+1]=GW(s,o,a,l,u,c,h,f)}};$s.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7],f=this.h[8],p=this.h[9],m=this.h[10],w=this.h[11],x=this.h[12],v=this.h[13],S=this.h[14],A=this.h[15];UW(this.k.length===r.length);for(var M=0;M<r.length;M+=2){var U=S,N=A,D=eK(f,p),R=tK(f,p),L=KW(f,p,m,w,x),z=QW(f,p,m,w,x,v),G=this.k[M],W=this.k[M+1],E=r[M],g=r[M+1],T=HW(U,N,D,R,L,z,G,W,E,g),k=qW(U,N,D,R,L,z,G,W,E,g);U=JW(i,s),N=ZW(i,s),D=YW(i,s,o,a,l),R=XW(i,s,o,a,l,u);var V=D1(U,N,D,R),O=L1(U,N,D,R);S=x,A=v,x=m,v=w,m=f,w=p,f=D1(c,h,T,k),p=L1(h,h,T,k),c=l,h=u,l=o,u=a,o=i,a=s,i=D1(T,k,V,O),s=L1(T,k,V,O)}Ma(this.h,0,i,s),Ma(this.h,2,o,a),Ma(this.h,4,l,u),Ma(this.h,6,c,h),Ma(this.h,8,f,p),Ma(this.h,10,m,w),Ma(this.h,12,x,v),Ma(this.h,14,S,A)};$s.prototype._digest=function(e){return e==="hex"?yi.toHex32(this.h,"big"):yi.split32(this.h,"big")};function KW(t,e,n,r,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function QW(t,e,n,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function YW(t,e,n,r,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function XW(t,e,n,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function JW(t,e){var n=wo(t,e,28),r=wo(e,t,2),i=wo(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function ZW(t,e){var n=_o(t,e,28),r=_o(e,t,2),i=_o(e,t,7),s=n^r^i;return s<0&&(s+=4294967296),s}function eK(t,e){var n=wo(t,e,14),r=wo(t,e,18),i=wo(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function tK(t,e){var n=_o(t,e,14),r=_o(t,e,18),i=_o(e,t,9),s=n^r^i;return s<0&&(s+=4294967296),s}function nK(t,e){var n=wo(t,e,1),r=wo(t,e,8),i=c5(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function rK(t,e){var n=_o(t,e,1),r=_o(t,e,8),i=h5(t,e,7),s=n^r^i;return s<0&&(s+=4294967296),s}function iK(t,e){var n=wo(t,e,19),r=wo(e,t,29),i=c5(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}function sK(t,e){var n=_o(t,e,19),r=_o(e,t,29),i=h5(t,e,6),s=n^r^i;return s<0&&(s+=4294967296),s}var Q_=_t,p5=d5;function ga(){if(!(this instanceof ga))return new ga;p5.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Q_.inherits(ga,p5);var oK=ga;ga.blockSize=1024;ga.outSize=384;ga.hmacStrength=192;ga.padLength=128;ga.prototype._digest=function(e){return e==="hex"?Q_.toHex32(this.h.slice(0,12),"big"):Q_.split32(this.h.slice(0,12),"big")};$h.sha1=CW;$h.sha224=zW;$h.sha256=l5;$h.sha384=oK;$h.sha512=d5;var m5={},ku=_t,aK=Uh,Dm=ku.rotl32,VT=ku.sum32,Pf=ku.sum32_3,FT=ku.sum32_4,g5=aK.BlockHash;function Oo(){if(!(this instanceof Oo))return new Oo;g5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ku.inherits(Oo,g5);m5.ripemd160=Oo;Oo.blockSize=512;Oo.outSize=160;Oo.hmacStrength=192;Oo.padLength=64;Oo.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=r,u=i,c=s,h=o,f=a,p=0;p<80;p++){var m=VT(Dm(FT(r,BT(p,i,s,o),e[cK[p]+n],lK(p)),fK[p]),a);r=a,a=o,o=Dm(s,10),s=i,i=m,m=VT(Dm(FT(l,BT(79-p,u,c,h),e[hK[p]+n],uK(p)),dK[p]),f),l=f,f=h,h=Dm(c,10),c=u,u=m}m=Pf(this.h[1],s,h),this.h[1]=Pf(this.h[2],o,f),this.h[2]=Pf(this.h[3],a,l),this.h[3]=Pf(this.h[4],r,u),this.h[4]=Pf(this.h[0],i,c),this.h[0]=m};Oo.prototype._digest=function(e){return e==="hex"?ku.toHex32(this.h,"little"):ku.split32(this.h,"little")};function BT(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function lK(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function uK(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var cK=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],hK=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],fK=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],dK=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],pK=_t,mK=Np;function yh(t,e,n){if(!(this instanceof yh))return new yh(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(pK.toArray(e,n))}var gK=yh;yh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),mK(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};yh.prototype.update=function(e,n){return this.inner.update(e,n),this};yh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=_t,e.common=Uh,e.sha=$h,e.ripemd=m5,e.hmac=gK,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(JD);const ro=Ml(JD);function Hh(t,e,n){return n={path:e,exports:{},require:function(r,i){return yK(r,i??n.path)}},t(n,n.exports),n.exports}function yK(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var DE=y5;function y5(t,e){if(!t)throw new Error(e||"Assertion failed")}y5.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var Rs=Hh(function(t,e){var n=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)l[u]=o[u]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var u=0;u<o.length;u+=2)l.push(parseInt(o[u]+o[u+1],16))}else for(var u=0;u<o.length;u++){var c=o.charCodeAt(u),h=c>>8,f=c&255;h?l.push(h,f):l.push(f)}return l}n.toArray=r;function i(o){return o.length===1?"0"+o:o}n.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}n.toHex=s,n.encode=function(a,l){return l==="hex"?s(a):a}}),Bi=Hh(function(t,e){var n=e;n.assert=DE,n.toArray=Rs.toArray,n.zero2=Rs.zero2,n.toHex=Rs.toHex,n.encode=Rs.encode;function r(l,u,c){var h=new Array(Math.max(l.bitLength(),c)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var p=1<<u+1,m=l.clone();for(f=0;f<h.length;f++){var w,x=m.andln(p-1);m.isOdd()?(x>(p>>1)-1?w=(p>>1)-x:w=x,m.isubn(w)):w=0,h[f]=w,m.iushrn(1)}return h}n.getNAF=r;function i(l,u){var c=[[],[]];l=l.clone(),u=u.clone();for(var h=0,f=0,p;l.cmpn(-h)>0||u.cmpn(-f)>0;){var m=l.andln(3)+h&3,w=u.andln(3)+f&3;m===3&&(m=-1),w===3&&(w=-1);var x;m&1?(p=l.andln(7)+h&7,(p===3||p===5)&&w===2?x=-m:x=m):x=0,c[0].push(x);var v;w&1?(p=u.andln(7)+f&7,(p===3||p===5)&&m===2?v=-w:v=w):v=0,c[1].push(v),2*h===x+1&&(h=1-h),2*f===v+1&&(f=1-f),l.iushrn(1),u.iushrn(1)}return c}n.getJSF=i;function s(l,u,c){var h="_"+u;l.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=c.call(this)}}n.cachedProperty=s;function o(l){return typeof l=="string"?n.toArray(l,"hex"):l}n.parseBytes=o;function a(l){return new Qe(l,"hex","le")}n.intFromLE=a}),F0=Bi.getNAF,vK=Bi.getJSF,B0=Bi.assert;function Ll(t,e){this.type=t,this.p=new Qe(e.p,16),this.red=e.prime?Qe.red(e.prime):Qe.mont(this.p),this.zero=new Qe(0).toRed(this.red),this.one=new Qe(1).toRed(this.red),this.two=new Qe(2).toRed(this.red),this.n=e.n&&new Qe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Hu=Ll;Ll.prototype.point=function(){throw new Error("Not implemented")};Ll.prototype.validate=function(){throw new Error("Not implemented")};Ll.prototype._fixedNafMul=function(e,n){B0(e.precomputed);var r=e._getDoubles(),i=F0(n,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=r.step){l=0;for(var u=a+r.step-1;u>=a;u--)l=(l<<1)+i[u];o.push(l)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?h=h.mixedAdd(r.points[a]):l===-f&&(h=h.mixedAdd(r.points[a].neg()));c=c.add(h)}return c.toP()};Ll.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=F0(n,r,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&o[l]===0;l--)u++;if(l>=0&&u++,a=a.dblp(u),l<0)break;var c=o[l];B0(c!==0),e.type==="affine"?c>0?a=a.mixedAdd(s[c-1>>1]):a=a.mixedAdd(s[-c-1>>1].neg()):c>0?a=a.add(s[c-1>>1]):a=a.add(s[-c-1>>1].neg())}return e.type==="affine"?a.toP():a};Ll.prototype._wnafMulAdd=function(e,n,r,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,u=0,c,h,f;for(c=0;c<i;c++){f=n[c];var p=f._getNAFPoints(e);o[c]=p.wnd,a[c]=p.points}for(c=i-1;c>=1;c-=2){var m=c-1,w=c;if(o[m]!==1||o[w]!==1){l[m]=F0(r[m],o[m],this._bitLength),l[w]=F0(r[w],o[w],this._bitLength),u=Math.max(l[m].length,u),u=Math.max(l[w].length,u);continue}var x=[n[m],null,null,n[w]];n[m].y.cmp(n[w].y)===0?(x[1]=n[m].add(n[w]),x[2]=n[m].toJ().mixedAdd(n[w].neg())):n[m].y.cmp(n[w].y.redNeg())===0?(x[1]=n[m].toJ().mixedAdd(n[w]),x[2]=n[m].add(n[w].neg())):(x[1]=n[m].toJ().mixedAdd(n[w]),x[2]=n[m].toJ().mixedAdd(n[w].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],S=vK(r[m],r[w]);for(u=Math.max(S[0].length,u),l[m]=new Array(u),l[w]=new Array(u),h=0;h<u;h++){var A=S[0][h]|0,M=S[1][h]|0;l[m][h]=v[(A+1)*3+(M+1)],l[w][h]=0,a[m]=x}}var U=this.jpoint(null,null,null),N=this._wnafT4;for(c=u;c>=0;c--){for(var D=0;c>=0;){var R=!0;for(h=0;h<i;h++)N[h]=l[h][c]|0,N[h]!==0&&(R=!1);if(!R)break;D++,c--}if(c>=0&&D++,U=U.dblp(D),c<0)break;for(h=0;h<i;h++){var L=N[h];L!==0&&(L>0?f=a[h][L-1>>1]:L<0&&(f=a[h][-L-1>>1].neg()),f.type==="affine"?U=U.mixedAdd(f):U=U.add(f))}}for(c=0;c<i;c++)a[c]=null;return s?U:U.toP()};function ps(t,e){this.curve=t,this.type=e,this.precomputed=null}Ll.BasePoint=ps;ps.prototype.eq=function(){throw new Error("Not implemented")};ps.prototype.validate=function(){return this.curve.validate(this)};Ll.prototype.decodePoint=function(e,n){e=Bi.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?B0(e[e.length-1]%2===0):e[0]===7&&B0(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};ps.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ps.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};ps.prototype.encode=function(e,n){return Bi.encode(this._encode(n),e)};ps.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};ps.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};ps.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<n;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};ps.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)n[s]=n[s-1].add(i);return{wnd:e,points:n}};ps.prototype._getBeta=function(){return null};ps.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var LE=Hh(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),wK=Bi.assert;function ms(t){Hu.call(this,"short",t),this.a=new Qe(t.a,16).toRed(this.red),this.b=new Qe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}LE(ms,Hu);var _K=ms;ms.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new Qe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new Qe(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(n))===0?r=s[0]:(r=s[1],wK(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Qe(a.a,16),b:new Qe(a.b,16)}}):o=this._getEndoBasis(r),{beta:n,lambda:r,basis:o}}};ms.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:Qe.mont(e),r=new Qe(2).toRed(n).redInvm(),i=r.redNeg(),s=new Qe(3).toRed(n).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ms.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Qe(1),o=new Qe(0),a=new Qe(0),l=new Qe(1),u,c,h,f,p,m,w,x=0,v,S;r.cmpn(0)!==0;){var A=i.div(r);v=i.sub(A.mul(r)),S=a.sub(A.mul(s));var M=l.sub(A.mul(o));if(!h&&v.cmp(n)<0)u=w.neg(),c=s,h=v.neg(),f=S;else if(h&&++x===2)break;w=v,i=r,r=v,a=s,s=S,l=o,o=M}p=v.neg(),m=S;var U=h.sqr().add(f.sqr()),N=p.sqr().add(m.sqr());return N.cmp(U)>=0&&(p=u,m=c),h.negative&&(h=h.neg(),f=f.neg()),p.negative&&(p=p.neg(),m=m.neg()),[{a:h,b:f},{a:p,b:m}]};ms.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),l=o.mul(i.a),u=s.mul(r.b),c=o.mul(i.b),h=e.sub(a).sub(l),f=u.add(c).neg();return{k1:h,k2:f}};ms.prototype.pointFromX=function(e,n){e=new Qe(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(n&&!s||!n&&s)&&(i=i.redNeg()),this.point(e,i)};ms.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),s=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};ms.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(n[o]),l=e[o],u=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[o*2]=l,i[o*2+1]=u,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var c=this._wnafMulAdd(1,i,s,o*2,r),h=0;h<o*2;h++)i[h]=null,s[h]=null;return c};function lr(t,e,n,r){Hu.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Qe(e,16),this.y=new Qe(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}LE(lr,Hu.BasePoint);ms.prototype.point=function(e,n,r){return new lr(this,e,n,r)};ms.prototype.pointFromJSON=function(e,n){return lr.fromJSON(this,e,n)};lr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};lr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};lr.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=n[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};lr.prototype.isInfinity=function(){return this.inf};lr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};lr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};lr.prototype.getX=function(){return this.x.fromRed()};lr.prototype.getY=function(){return this.y.fromRed()};lr.prototype.mul=function(e){return e=new Qe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};lr.prototype.mulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};lr.prototype.jmulAdd=function(e,n,r){var i=[this,n],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};lr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};lr.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};lr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ar(t,e,n,r){Hu.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Qe(0)):(this.x=new Qe(e,16),this.y=new Qe(n,16),this.z=new Qe(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}LE(Ar,Hu.BasePoint);ms.prototype.jpoint=function(e,n,r){return new Ar(this,e,n,r)};Ar.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};Ar.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ar.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),s=e.x.redMul(r),o=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),l=i.redSub(s),u=o.redSub(a);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=l.redSqr(),h=c.redMul(l),f=i.redMul(c),p=u.redSqr().redIAdd(h).redISub(f).redISub(f),m=u.redMul(f.redISub(p)).redISub(o.redMul(h)),w=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,m,w)};Ar.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),s=this.y,o=e.y.redMul(n).redMul(this.z),a=r.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=r.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(s.redMul(c)),m=this.z.redMul(a);return this.curve.jpoint(f,p,m)};Ar.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,u=l.redSqr().redSqr(),c=a.redAdd(a);for(n=0;n<e;n++){var h=o.redSqr(),f=c.redSqr(),p=f.redSqr(),m=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(u)),w=o.redMul(f),x=m.redSqr().redISub(w.redAdd(w)),v=w.redISub(x),S=m.redMul(v);S=S.redIAdd(S).redISub(p);var A=c.redMul(l);n+1<e&&(u=u.redMul(p)),o=x,l=A,c=S}return this.curve.jpoint(o,c.redMul(s),l)};Ar.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ar.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),u=l.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=u,n=l.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),m=this.x.redAdd(f).redSqr().redISub(h).redISub(p);m=m.redIAdd(m);var w=h.redAdd(h).redIAdd(h),x=w.redSqr(),v=p.redIAdd(p);v=v.redIAdd(v),v=v.redIAdd(v),e=x.redISub(m).redISub(m),n=w.redMul(m.redISub(e)).redISub(v),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};Ar.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=l.redSqr().redISub(a).redISub(a);e=u;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),n=l.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),m=this.x.redSub(h).redMul(this.x.redAdd(h));m=m.redAdd(m).redIAdd(m);var w=p.redIAdd(p);w=w.redIAdd(w);var x=w.redAdd(w);e=m.redSqr().redISub(x),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var v=f.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),n=m.redMul(w.redISub(e)).redISub(v)}return this.curve.jpoint(e,n,r)};Ar.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=n.redSqr(),a=r.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),u=n.redAdd(n);u=u.redIAdd(u);var c=u.redMul(a),h=l.redSqr().redISub(c.redAdd(c)),f=c.redISub(h),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=l.redMul(f).redISub(p),w=r.redAdd(r).redMul(i);return this.curve.jpoint(h,m,w)};Ar.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(u),h=n.redMul(c);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(l).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=this.z.redAdd(a).redSqr().redISub(r).redISub(l);return this.curve.jpoint(f,p,m)};Ar.prototype.mul=function(e,n){return e=new Qe(e,n),this.curve._wnafMul(this,e)};Ar.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Ar.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};Ar.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ar.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var kg=Hh(function(t,e){var n=e;n.base=Hu,n.short=_K,n.mont=null,n.edwards=null}),Mg=Hh(function(t,e){var n=e,r=Bi.assert;function i(a){a.type==="short"?this.curve=new kg.short(a):a.type==="edwards"?this.curve=new kg.edwards(a):this.curve=new kg.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function s(a,l){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(l);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:u}),u}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ro.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ro.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ro.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ro.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ro.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ro.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ro.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ro.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function bl(t){if(!(this instanceof bl))return new bl(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Rs.toArray(t.entropy,t.entropyEnc||"hex"),n=Rs.toArray(t.nonce,t.nonceEnc||"hex"),r=Rs.toArray(t.pers,t.persEnc||"hex");DE(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var v5=bl;bl.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};bl.prototype._hmac=function(){return new ro.hmac(this.hash,this.K)};bl.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};bl.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=Rs.toArray(e,n),r=Rs.toArray(r,i),DE(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};bl.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=Rs.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,Rs.encode(o,n)};var Y_=Bi.assert;function zr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var VE=zr;zr.fromPublic=function(e,n,r){return n instanceof zr?n:new zr(e,{pub:n,pubEnc:r})};zr.fromPrivate=function(e,n,r){return n instanceof zr?n:new zr(e,{priv:n,privEnc:r})};zr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};zr.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};zr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};zr.prototype._importPrivate=function(e,n){this.priv=new Qe(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};zr.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?Y_(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Y_(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};zr.prototype.derive=function(e){return e.validate()||Y_(e.validate(),"public point not validated"),e.mul(this.priv).getX()};zr.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};zr.prototype.verify=function(e,n,r){return this.ec.verify(e,n,this,void 0,r)};zr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var bK=Bi.assert;function rv(t,e){if(t instanceof rv)return t;this._importDER(t,e)||(bK(t.r&&t.s,"Signature without r or s"),this.r=new Qe(t.r,16),this.s=new Qe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var iv=rv;function xK(){this.place=0}function V1(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function zT(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}rv.prototype._importDER=function(e,n){e=Bi.toArray(e,n);var r=new xK;if(e[r.place++]!==48)return!1;var i=V1(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=V1(e,r);if(s===!1||e[r.place]&128)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=V1(e,r);if(a===!1||e.length!==a+r.place||e[r.place]&128)return!1;var l=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Qe(o),this.s=new Qe(l),this.recoveryParam=null,!0};function F1(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}rv.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=zT(n),r=zT(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];F1(i,n.length),i=i.concat(n),i.push(2),F1(i,r.length);var s=i.concat(r),o=[48];return F1(o,s.length),o=o.concat(s),Bi.encode(o,e)};var EK=function(){throw new Error("unsupported")},su=Bi.assert;function hs(t){if(!(this instanceof hs))return new hs(t);typeof t=="string"&&(su(Object.prototype.hasOwnProperty.call(Mg,t),"Unknown curve "+t),t=Mg[t]),t instanceof Mg.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var SK=hs;hs.prototype.keyPair=function(e){return new VE(this,e)};hs.prototype.keyFromPrivate=function(e,n){return VE.fromPrivate(this,e,n)};hs.prototype.keyFromPublic=function(e,n){return VE.fromPublic(this,e,n)};hs.prototype.genKeyPair=function(e){e||(e={});for(var n=new v5({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||EK(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Qe(2));;){var s=new Qe(n.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};hs.prototype._truncateToN=function(e,n,r){var i;if(Qe.isBN(e)||typeof e=="number")e=new Qe(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Qe(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Qe(s,16)}typeof r!="number"&&(r=i*8);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};hs.prototype.sign=function(e,n,r,i){if(typeof r=="object"&&(i=r,r=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Qe.isBN(e)){su(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),su(e.length>>>0===e.length);for(var s=0;s<e.length;s++)su((e[s]&255)===e[s])}n=this.keyFromPrivate(n,r),e=this._truncateToN(e,!1,i.msgBitLength),su(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=n.getPrivate().toArray("be",o),l=e.toArray("be",o);su(new Qe(l).eq(e),"Can not sign message");for(var u=new v5({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Qe(1)),h=0;;h++){var f=i.k?i.k(h):new Qe(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(c)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),w=m.umod(this.n);if(w.cmpn(0)!==0){var x=f.invm(this.n).mul(w.mul(n.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var v=(p.getY().isOdd()?1:0)|(m.cmp(w)!==0?2:0);return i.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),v^=1),new iv({r:w,s:x,recoveryParam:v})}}}}}};hs.prototype.verify=function(e,n,r,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),r=this.keyFromPublic(r,i),n=new iv(n,"hex");var o=n.r,a=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),u=l.mul(e).umod(this.n),c=l.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(u,r.getPublic(),c),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(u,r.getPublic(),c),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};hs.prototype.recoverPubKey=function(t,e,n,r){su((3&n)===n,"The recovery param is more than two bits"),e=new iv(e,r);var i=this.n,s=new Qe(t),o=e.r,a=e.s,l=n&1,u=n>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var c=e.r.invm(i),h=i.sub(s).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,o,f)};hs.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new iv(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var AK=Hh(function(t,e){var n=e;n.version="6.6.1",n.utils=Bi,n.rand=function(){throw new Error("unsupported")},n.curve=kg,n.curves=Mg,n.ec=SK,n.eddsa=null}),PK=AK.ec;const TK="signing-key/5.8.0",X_=new Z(TK);let B1=null;function lo(){return B1||(B1=new PK("secp256k1")),B1}class CK{constructor(e){de(this,"curve","secp256k1"),de(this,"privateKey",Fe(e)),Iu(this.privateKey)!==32&&X_.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=lo().keyFromPrivate(Ue(this.privateKey));de(this,"publicKey","0x"+n.getPublic(!1,"hex")),de(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),de(this,"_isSigningKey",!0)}_addPoint(e){const n=lo().keyFromPublic(Ue(this.publicKey)),r=lo().keyFromPublic(Ue(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=lo().keyFromPrivate(Ue(this.privateKey)),r=Ue(e);r.length!==32&&X_.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return Zy({recoveryParam:i.recoveryParam,r:ln("0x"+i.r.toString(16),32),s:ln("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=lo().keyFromPrivate(Ue(this.privateKey)),r=lo().keyFromPublic(Ue(w5(e)));return ln("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function IK(t,e){const n=Zy(e),r={r:Ue(n.r),s:Ue(n.s)};return"0x"+lo().recoverPubKey(Ue(t),r,n.recoveryParam).encode("hex",!1)}function w5(t,e){const n=Ue(t);if(n.length===32){const r=new CK(n);return e?"0x"+lo().keyFromPrivate(n).getPublic(!0,"hex"):r.publicKey}else{if(n.length===33)return e?Fe(n):"0x"+lo().keyFromPublic(n).getPublic(!1,"hex");if(n.length===65)return e?"0x"+lo().keyFromPublic(n).getPublic(!0,"hex"):Fe(n)}return X_.throwArgumentError("invalid public or private key","key","[REDACTED]")}const RK="transactions/5.8.0",Ta=new Z(RK);var jT;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(jT||(jT={}));function FE(t){return t==="0x"?null:xr(t)}function Vr(t){return t==="0x"?ND:ve.from(t)}function kK(t){const e=w5(t);return xr(Dr(Wn(Dr(e,1)),12))}function _5(t,e){return kK(IK(Ue(t),e))}function Ii(t,e){const n=ph(ve.from(t).toHexString());return n.length>32&&Ta.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function z1(t,e){return{address:xr(t),storageKeys:(e||[]).map((n,r)=>(Iu(n)!==32&&Ta.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function qh(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&Ta.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),z1(n[0],n[1])):z1(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return z1(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function b5(t){return qh(t).map(e=>[e.address,e.storageKeys])}function MK(t,e){if(t.gasPrice!=null){const r=ve.from(t.gasPrice),i=ve.from(t.maxFeePerGas||0);r.eq(i)||Ta.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[Ii(t.chainId||0,"chainId"),Ii(t.nonce||0,"nonce"),Ii(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ii(t.maxFeePerGas||0,"maxFeePerGas"),Ii(t.gasLimit||0,"gasLimit"),t.to!=null?xr(t.to):"0x",Ii(t.value||0,"value"),t.data||"0x",b5(t.accessList||[])];if(e){const r=Zy(e);n.push(Ii(r.recoveryParam,"recoveryParam")),n.push(ph(r.r)),n.push(ph(r.s))}return ci(["0x02",ev(n)])}function OK(t,e){const n=[Ii(t.chainId||0,"chainId"),Ii(t.nonce||0,"nonce"),Ii(t.gasPrice||0,"gasPrice"),Ii(t.gasLimit||0,"gasLimit"),t.to!=null?xr(t.to):"0x",Ii(t.value||0,"value"),t.data||"0x",b5(t.accessList||[])];if(e){const r=Zy(e);n.push(Ii(r.recoveryParam,"recoveryParam")),n.push(ph(r.r)),n.push(ph(r.s))}return ci(["0x01",ev(n)])}function x5(t,e,n){try{const r=Vr(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{Ta.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=ln(e[1],32),t.s=ln(e[2],32);try{const r=Wn(n(t));t.from=_5(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function NK(t){const e=ME(t.slice(1));e.length!==9&&e.length!==12&&Ta.throwArgumentError("invalid component count for transaction type: 2","payload",Fe(t));const n=Vr(e[2]),r=Vr(e[3]),i={type:2,chainId:Vr(e[0]).toNumber(),nonce:Vr(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Vr(e[4]),to:FE(e[5]),value:Vr(e[6]),data:e[7],accessList:qh(e[8])};return e.length===9||(i.hash=Wn(t),x5(i,e.slice(9),MK)),i}function DK(t){const e=ME(t.slice(1));e.length!==8&&e.length!==11&&Ta.throwArgumentError("invalid component count for transaction type: 1","payload",Fe(t));const n={type:1,chainId:Vr(e[0]).toNumber(),nonce:Vr(e[1]).toNumber(),gasPrice:Vr(e[2]),gasLimit:Vr(e[3]),to:FE(e[4]),value:Vr(e[5]),data:e[6],accessList:qh(e[7])};return e.length===8||(n.hash=Wn(t),x5(n,e.slice(8),OK)),n}function LK(t){const e=ME(t);e.length!==9&&e.length!==6&&Ta.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Vr(e[0]).toNumber(),gasPrice:Vr(e[1]),gasLimit:Vr(e[2]),to:FE(e[3]),value:Vr(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=ve.from(e[6]).toNumber()}catch{return n}if(n.r=ln(e[7],32),n.s=ln(e[8],32),ve.from(n.r).isZero()&&ve.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(Fe(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const s=Wn(ev(i));try{n.from=_5(s,{r:Fe(n.r),s:Fe(n.s),recoveryParam:r})}catch{}n.hash=Wn(t)}return n.type=null,n}function VK(t){const e=Ue(t);if(e[0]>127)return LK(e);switch(e[0]){case 1:return DK(e);case 2:return NK(e)}return Ta.throwError(`unsupported transaction type: ${e[0]}`,Z.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const FK="contracts/5.8.0";var Mu=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const An=new Z(FK);function z0(t,e){return Mu(this,void 0,void 0,function*(){const n=yield e;typeof n!="string"&&An.throwArgumentError("invalid address or ENS name","name",n);try{return xr(n)}catch{}t||An.throwError("a provider or signer is needed to resolve ENS names",Z.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield t.resolveName(n);return r==null&&An.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r})}function Og(t,e,n){return Mu(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((r,i)=>Og(t,Array.isArray(e)?e[i]:e[r.name],r))):n.type==="address"?yield z0(t,e):n.type==="tuple"?yield Og(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>Og(t,r,n.arrayChildren))):Promise.reject(An.makeError("invalid value for array",Z.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function sv(t,e,n){return Mu(this,void 0,void 0,function*(){let r={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(r=Qn(n.pop())),An.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?r.from?r.from=Dn({override:z0(t.signer,r.from),signer:t.signer.getAddress()}).then(u=>Mu(this,void 0,void 0,function*(){return xr(u.signer)!==u.override&&An.throwError("Contract with a Signer cannot override from",Z.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):r.from=t.signer.getAddress():r.from&&(r.from=z0(t.provider,r.from));const i=yield Dn({args:Og(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:Dn(r)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=ve.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=ve.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=ve.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=ve.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=ve.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=qh(a.accessList)),o.gasLimit==null&&e.gas!=null){let u=21e3;const c=Ue(s);for(let h=0;h<c.length;h++)u+=4,c[h]&&(u+=64);o.gasLimit=ve.from(e.gas).add(u)}if(a.value){const u=ve.from(a.value);!u.isZero()&&!e.payable&&An.throwError("non-payable method cannot override value",Z.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),o.value=u}a.customData&&(o.customData=Qn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const l=Object.keys(r).filter(u=>r[u]!=null);return l.length&&An.throwError(`cannot override ${l.map(u=>JSON.stringify(u)).join(",")}`,Z.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function BK(t,e){return function(...n){return sv(t,e,n)}}function zK(t,e){const n=t.signer||t.provider;return function(...r){return Mu(this,void 0,void 0,function*(){n||An.throwError("estimate require a provider or signer",Z.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield sv(t,e,r);return yield n.estimateGas(i)})}}function jK(t,e){const n=e.wait.bind(e);e.wait=r=>n(r).then(i=>(i.events=i.logs.map(s=>{let o=pa(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(l,u)=>t.interface.decodeEventLog(a.eventFragment,l,u),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function E5(t,e,n){const r=t.signer||t.provider;return function(...i){return Mu(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=Qn(i.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,i.push(l)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield sv(t,e,i),a=yield r.call(o,s);try{let l=t.interface.decodeFunctionResult(e,a);return n&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===Z.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=i,l.transaction=o),l}})}}function UK(t,e){return function(...n){return Mu(this,void 0,void 0,function*(){t.signer||An.throwError("sending a transaction requires a signer",Z.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const r=yield sv(t,e,n),i=yield t.signer.sendTransaction(r);return jK(t,i),i})}}function UT(t,e,n){return e.constant?E5(t,e,n):UK(t,e)}function S5(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Yd{constructor(e,n){de(this,"tag",e),de(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(r=>n||r.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class $K extends Yd{constructor(){super("error",null)}}class $T extends Yd{constructor(e,n,r,i){const s={address:e};let o=n.getEventTopic(r);i?(o!==i[0]&&An.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(S5(s),s),de(this,"address",e),de(this,"interface",n),de(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,r)=>this.interface.decodeEventLog(this.fragment,n,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=SH(e.args);if(n.length)throw n[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class GT extends Yd{constructor(e,n){super("*",{address:e}),de(this,"address",e),de(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(r,i)=>this.interface.decodeEventLog(n.eventFragment,r,i),e.args=n.args}catch{}}}class GK{constructor(e,n,r){de(this,"interface",fo(new.target,"getInterface")(n)),r==null?(de(this,"provider",null),de(this,"signer",null)):Op.isSigner(r)?(de(this,"provider",r.provider||null),de(this,"signer",r)):YD.isProvider(r)?(de(this,"provider",r),de(this,"signer",null)):An.throwArgumentError("invalid signer or provider","signerOrProvider",r),de(this,"callStatic",{}),de(this,"estimateGas",{}),de(this,"functions",{}),de(this,"populateTransaction",{}),de(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];de(this.filters,a,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,u)})),o[l.name]||(o[l.name]=[]),o[l.name].push(a)}),Object.keys(o).forEach(a=>{const l=o[a];l.length===1?de(this.filters,a,this.filters[l[0]]):An.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(de(this,"_runningEvents",{}),de(this,"_wrappedEmits",{}),e==null&&An.throwArgumentError("invalid contract address or ENS name","addressOrName",e),de(this,"address",e),this.provider)de(this,"resolvedAddress",z0(this.provider,e));else try{de(this,"resolvedAddress",Promise.resolve(xr(e)))}catch{An.throwError("provider is required to use ENS name as contract address",Z.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){An.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(o)}this[o]==null&&de(this,o,UT(this,a,!0)),this.functions[o]==null&&de(this.functions,o,UT(this,a,!1)),this.callStatic[o]==null&&de(this.callStatic,o,E5(this,a,!0)),this.populateTransaction[o]==null&&de(this.populateTransaction,o,BK(this,a)),this.estimateGas[o]==null&&de(this.estimateGas,o,zK(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const l=a[0];try{this[o]==null&&de(this,o,this[l])}catch{}this.functions[o]==null&&de(this.functions,o,this.functions[l]),this.callStatic[o]==null&&de(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&de(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&de(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return RD(e)}static getInterface(e){return DT.isInterface(e)?e:new DT(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&An.throwError("contract not deployed",Z.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||An.throwError("sending a transactions require a signer",Z.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=Qn(e||{});return["from","to"].forEach(function(r){n[r]!=null&&An.throwError("cannot override "+r,Z.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new NE(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&de(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return q_.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new $K);if(e==="event")return this._normalizeRunningEvent(new Yd("event",null));if(e==="*")return this._normalizeRunningEvent(new GT(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new $T(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const i=this.interface.getEvent(r);return this._normalizeRunningEvent(new $T(this.address,this.interface,i,e.topics))}catch{}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Yd(S5(n),n))}return this._normalizeRunningEvent(new GT(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,r){const i=pa(n);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(n.blockHash),i.getTransaction=()=>this.provider.getTransaction(n.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(i),i}_addEventListener(e,n,r){if(this.provider||An.throwError("events require a provider or a signer with a provider",Z.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,n);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,n,r){const i=this._getRunningEvent(e),s=Qn(i.filter);return typeof n=="string"&&Vt(n,32)?(r!=null&&An.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),s.blockHash=n):(s.fromBlock=n??0,s.toBlock=r??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const r=this._getRunningEvent(e),i=r.run(n)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,r)=>n+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{n.push(i)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(n),this._checkRunningEvents(r),this}removeListener(e,n){return this.off(e,n)}}class A5 extends GK{}class P5{constructor(e){de(this,"alphabet",e),de(this,"base",e.length),de(this,"_alphabetMap",{}),de(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=Ue(e);if(n.length===0)return"";let r=[0];for(let s=0;s<n.length;++s){let o=n[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;n[s]===0&&s<n.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<n.length;++o)s+=n[o]*this.base,n[o]=s&255,s>>=8;for(;s>0;)n.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return Ue(new Uint8Array(n.reverse()))}}new P5("abcdefghijklmnopqrstuvwxyz234567");const J_=new P5("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function HT(t){return"0x"+ro.sha256().update(Ue(t)).digest("hex")}const HK="networks/5.8.0",qT=new Z(HK);function qK(t){return t&&typeof t.renetwork=="function"}function As(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new n.PocketProvider(t,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new n.AnkrProvider(t,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(n.QuickNodeProvider&&r.quicknode!=="-")try{i.push(new n.QuickNodeProvider(t,r.quicknode))}catch{}if(i.length===0)return null;if(n.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:t==="homestead"&&(s=2),new n.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(n){return As(n)},e}function j0(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return j0(t,r)},n}const WT={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:As("homestead")},KT={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:As("ropsten")},QT={chainId:63,name:"classicMordor",_defaultProvider:j0("https://www.ethercluster.com/mordor","classicMordor")},Lm={unspecified:{chainId:0,name:"unspecified"},homestead:WT,mainnet:WT,morden:{chainId:2,name:"morden"},ropsten:KT,testnet:KT,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:As("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:As("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:As("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:As("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:As("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:j0("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:QT,classicTestnet:QT,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:j0("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:As("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:As("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:As("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function WK(t){if(t==null)return null;if(typeof t=="number"){for(const r in Lm){const i=Lm[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=Lm[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=Lm[t.name];if(!e)return typeof t.chainId!="number"&&qT.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&qT.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(qK(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}const KK="web/5.8.0";var QK=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function YK(t,e){return QK(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(n.mode=o.mode),o.cache&&(n.cache=o.cache),o.credentials&&(n.credentials=o.credentials),o.redirect&&(n.redirect=o.redirect),o.referrer&&(n.referrer=o.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:Ue(new Uint8Array(i))}})}var XK=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const bs=new Z(KK);function YT(t){return new Promise(e=>{setTimeout(e,t)})}function Oa(t,e){if(t==null)return null;if(typeof t=="string")return t;if(CE(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Mp(t)}catch{}return Fe(t)}return t}function JK(t){return Ro(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function ZK(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;bs.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;bs.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const u={method:"GET"};let c=!1,h=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&bs.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const v in t.headers)a[v.toLowerCase()]={key:v,value:String(t.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&bs.throwError("basic authentication requires a secure https url",Z.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const v=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+zD(Ro(v))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=Qn(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(f):null;if(p)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?BD(p[3]):JK(p[3])};let S=v.body;return n&&(S=n(v.body,v)),Promise.resolve(S)}catch(v){bs.throwError("processing response error",Z.errors.SERVER_ERROR,{body:Oa(p[1],p[2]),error:v,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(v=>{const S=a[v];m[S.key]=S.value}),u.headers=m;const w=function(){let v=null;return{promise:new Promise(function(M,U){h&&(v=setTimeout(()=>{v!=null&&(v=null,U(bs.makeError("timeout",Z.errors.TIMEOUT,{requestBody:Oa(u.body,m["content-type"]),requestMethod:u.method,timeout:h,url:l})))},h))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}}(),x=function(){return XK(this,void 0,void 0,function*(){for(let v=0;v<r;v++){let S=null;try{if(S=yield YK(l,u),v<r){if(S.statusCode===301||S.statusCode===302){const M=S.headers.location||"";if(u.method==="GET"&&M.match(/^https:/)){l=S.headers.location;continue}}else if(S.statusCode===429){let M=!0;if(i&&(M=yield i(v,l)),M){let U=0;const N=S.headers["retry-after"];typeof N=="string"&&N.match(/^[1-9][0-9]*$/)?U=parseInt(N)*1e3:U=s*parseInt(String(Math.random()*Math.pow(2,v))),yield YT(U);continue}}}}catch(M){S=M.response,S==null&&(w.cancel(),bs.throwError("missing response",Z.errors.SERVER_ERROR,{requestBody:Oa(u.body,m["content-type"]),requestMethod:u.method,serverError:M,url:l}))}let A=S.body;if(c&&S.statusCode===304?A=null:!o&&(S.statusCode<200||S.statusCode>=300)&&(w.cancel(),bs.throwError("bad response",Z.errors.SERVER_ERROR,{status:S.statusCode,headers:S.headers,body:Oa(A,S.headers?S.headers["content-type"]:null),requestBody:Oa(u.body,m["content-type"]),requestMethod:u.method,url:l})),n)try{const M=yield n(A,S);return w.cancel(),M}catch(M){if(M.throttleRetry&&v<r){let U=!0;if(i&&(U=yield i(v,l)),U){const N=s*parseInt(String(Math.random()*Math.pow(2,v)));yield YT(N);continue}}w.cancel(),bs.throwError("processing response error",Z.errors.SERVER_ERROR,{body:Oa(A,S.headers?S.headers["content-type"]:null),error:M,requestBody:Oa(u.body,m["content-type"]),requestMethod:u.method,url:l})}return w.cancel(),A}return bs.throwError("failed response",Z.errors.SERVER_ERROR,{requestBody:Oa(u.body,m["content-type"]),requestMethod:u.method,url:l})})}();return Promise.race([w.promise,x])}function BE(t,e,n){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Mp(s))}catch(l){bs.throwError("invalid JSON",Z.errors.SERVER_ERROR,{body:s,error:l})}return n&&(a=n(a,o)),a},i=null;if(e!=null){i=Ro(e);const s=typeof t=="string"?{url:t}:Qn(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Qn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return ZK(t,i,r)}function $f(t,e){return e||(e={}),e=Qn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function u(){return t().then(function(c){if(c!==void 0)o()&&n(c);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!s){if(l++,l>a){o()&&r(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(u,h)}return null},function(c){o()&&r(c)})}u()})}var U0="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Z_={};for(var Vm=0;Vm<U0.length;Vm++){var j1=U0.charAt(Vm);if(Z_[j1]!==void 0)throw new TypeError(j1+" is ambiguous");Z_[j1]=Vm}function Yc(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function T5(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=Yc(e)^r>>5}for(e=Yc(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=Yc(e)^i&31}return e}function eQ(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=T5(t);if(typeof r=="string")throw new Error(r);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");r=Yc(r)^o,i+=U0.charAt(o)}for(s=0;s<6;++s)r=Yc(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=U0.charAt(a)}return i}function C5(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=T5(s);if(typeof a=="string")return a;for(var l=[],u=0;u<o.length;++u){var c=o.charAt(u),h=Z_[c];if(h===void 0)return"Unknown character "+c;a=Yc(a)^h,!(u+6>=o.length)&&l.push(h)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function tQ(){var t=C5.apply(null,arguments);if(typeof t=="object")return t}function nQ(t){var e=C5.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function ov(t,e,n,r){for(var i=0,s=0,o=(1<<n)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=n;)s-=n,a.push(i>>s&o);if(r)s>0&&a.push(i<<n-s&o);else{if(s>=e)return"Excess padding";if(i<<n-s&o)return"Non-zero padding"}return a}function rQ(t){var e=ov(t,8,5,!0);if(Array.isArray(e))return e}function iQ(t){var e=ov(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function sQ(t){var e=ov(t,5,8,!1);if(Array.isArray(e))return e}function oQ(t){var e=ov(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var aQ={decodeUnsafe:tQ,decode:nQ,encode:eQ,toWordsUnsafe:rQ,toWords:iQ,fromWordsUnsafe:sQ,fromWords:oQ};const XT=Ml(aQ),av="providers/5.8.0",Tf=new Z(av);class De{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),c=h=>this.data(h,!0);return e.transaction={hash:o,type:u,accessList:De.allowNull(this.accessList.bind(this),null),blockHash:De.allowNull(o,null),blockNumber:De.allowNull(l,null),transactionIndex:De.allowNull(l,null),confirmations:De.allowNull(l,null),from:n,gasPrice:De.allowNull(r),maxPriorityFeePerGas:De.allowNull(r),maxFeePerGas:De.allowNull(r),gasLimit:r,to:De.allowNull(n,null),value:r,nonce:l,data:s,r:De.allowNull(this.uint256),s:De.allowNull(this.uint256),v:De.allowNull(l),creates:De.allowNull(n,null),raw:De.allowNull(s)},e.transactionRequest={from:De.allowNull(n),nonce:De.allowNull(l),gasLimit:De.allowNull(r),gasPrice:De.allowNull(r),maxPriorityFeePerGas:De.allowNull(r),maxFeePerGas:De.allowNull(r),to:De.allowNull(n),value:De.allowNull(r),data:De.allowNull(c),type:De.allowNull(l),accessList:De.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:n,topics:De.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:De.allowNull(this.address,null),from:De.allowNull(this.address,null),contractAddress:De.allowNull(n,null),transactionIndex:l,root:De.allowNull(a),gasUsed:r,logsBloom:De.allowNull(s),blockHash:o,transactionHash:o,logs:De.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:De.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:De.allowNull(r),status:De.allowNull(l),type:u},e.block={hash:De.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:De.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:De.allowNull(n),extraData:s,transactions:De.allowNull(De.arrayOf(o)),baseFeePerGas:De.allowNull(r)},e.blockWithTransactions=Qn(e.block),e.blockWithTransactions.transactions=De.allowNull(De.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:De.allowNull(i,void 0),toBlock:De.allowNull(i,void 0),blockHash:De.allowNull(o,void 0),address:De.allowNull(n,void 0),topics:De.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:De.allowNull(l),blockHash:De.allowNull(o),transactionIndex:l,removed:De.allowNull(this.boolean.bind(this)),address:n,data:De.allowFalsish(s,"0x"),topics:De.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return qh(e||[])}number(e){return e==="0x"?0:ve.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ve.from(e).toNumber()}bigNumber(e){return ve.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),Vt(e))?e.toLowerCase():Tf.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return xr(e)}callAddress(e){if(!Vt(e,32))return null;const n=xr(Dr(e,12));return n===BH?null:n}contractAddress(e){return RD(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Vt(e))return IE(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return Iu(r)!==32?Tf.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=ve.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!Vt(e))throw new Error("invalid uint256");return ln(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=De.check(n,e);return i._difficulty=r==null?null:ve.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return De.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ve.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=De.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;Vt(r)&&(r=ve.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),Vt(r)&&(r=ve.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return VK(e)}receiptLog(e){return De.check(this.formats.receiptLog,e)}receipt(e){const n=De.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=ve.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&Tf.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):Tf.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&Tf.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return De.check(this.formats.filter,e)}filterLog(e){return De.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const s=e[i](n[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=n[i],s}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r}}}var Je=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ht=new Z(av),lQ=10;function JT(t){return t==null?"null":(Iu(t)!==32&&ht.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function ZT(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[JT(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return JT(e)}).join("&")}function uQ(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function rc(t){if(typeof t=="string"){if(t=t.toLowerCase(),Iu(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+ZT(t);if(zq.isForkEvent(t))throw ht.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+ZT(t.topics||[])}throw new Error("invalid event - "+t)}function Cf(){return new Date().getTime()}function eC(t){return new Promise(e=>{setTimeout(e,t)})}const cQ=["block","network","pending","poll"];let hQ=class{constructor(e,n,r){de(this,"tag",e),de(this,"listener",n),de(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=uQ(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||cQ.indexOf(this.tag)>=0}};const fQ={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function U1(t){return ln(ve.from(t).toHexString(),32)}function tC(t){return J_.encode(Mi([t,Dr(HT(HT(t)),0,4)]))}const I5=new RegExp("^(ipfs)://(.*)$","i"),nC=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),I5,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Ng(t,e){try{return Mp(Xd(t,e))}catch{}return null}function Xd(t,e){if(t==="0x")return null;const n=ve.from(Dr(t,e,e+32)).toNumber(),r=ve.from(Dr(t,n,n+32)).toNumber();return Dr(t,n+32,n+32+r)}function $1(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ht.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function rC(t){const e=Ue(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function dQ(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function R5(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=Ue(t[r]);e[r]=rC(n),e.push(rC(i.length)),e.push(dQ(i)),n+=32+Math.ceil(i.length/32)*32}return ci(e)}class iC{constructor(e,n,r,i){de(this,"provider",e),de(this,"name",r),de(this,"address",e.formatter.address(n)),de(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ve.from(e).eq(1)).catch(e=>{if(e.code===Z.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Je(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:ci([e,Rg(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=ci(["0x9061b923",R5([Aq(this.name),r.data])]));try{let s=yield this.provider.call(r);return Ue(s).length%32===4&&ht.throwError("resolver threw error",Z.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=Xd(s,0)),s}catch(s){if(s.code===Z.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,n){return Je(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?Xd(r,0):null})}_getAddress(e,n){const r=fQ[String(e)];if(r==null&&ht.throwError(`unsupported coin type: ${e}`,Z.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=Ue(n);if(r.p2pkh!=null){const s=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return tC(Mi([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return tC(Mi([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=XT.toWords(i.slice(2));return a.unshift(o),XT.encode(r.prefix,a)}}return null}getAddress(e){return Je(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===$H?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Z.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",U1(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&ht.throwError("invalid or unsupported coin data",Z.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Je(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<nC.length;r++){const i=n.match(nC[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:$1(n)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:n});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),c=ln(ve.from(l[1]).toHexString(),32);if(s==="erc721"){const w=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:ci(["0x6352211e",c])}));if(a!==w)return null;e.push({type:"owner",content:w})}else if(s==="erc1155"){const w=ve.from(yield this.provider.call({to:u,data:ci(["0x00fdd58e",ln(a,32),c])}));if(w.isZero())return null;e.push({type:"balance",content:w.toString()})}const h={to:this.provider.formatter.address(l[0]),data:ci([o,c])};let f=Ng(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=$1(f)),e.push({type:"metadata-url",content:f});const p=yield BE(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let m=p.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(I5)==null)return null;e.push({type:"url-ipfs",content:m}),m=$1(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return Je(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipfs://"+J_.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+J_.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+zD("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return ht.throwError("invalid or unsupported content hash data",Z.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Je(this,void 0,void 0,function*(){let n=Ro(e);n=Mi([U1(64),U1(n.length),n]),n.length%32!==0&&(n=Mi([n,ln("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Fe(n));return r==null||r==="0x"?null:Mp(r)})}}let G1=null,pQ=1;class mQ extends YD{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),de(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=fo(new.target,"getNetwork")(e);n?(de(this,"_network",n),this.emit("network",n,null)):ht.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Je(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||ht.throwError("no network detected",Z.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:de(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return $f(()=>this._ready().then(e=>e,e=>{if(!(e.code===Z.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return G1==null&&(G1=new De),G1}static getNetwork(e){return WK(e??"homestead")}ccipReadFetch(e,n,r){return Je(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],u=l.replace("{sender}",i).replace("{data}",s),c=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield BE({url:u,errorPassThrough:!0},c,(p,m)=>(p.status=m.statusCode,p));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return ht.throwError(`response not found during CCIP fetch: ${f}`,Z.errors.SERVER_ERROR,{url:l,errorMessage:f});o.push(f)}return ht.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,Z.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return Je(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Cf()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=Cf(),r=Dn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=Cf();return i=ve.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Je(this,void 0,void 0,function*(){const e=pQ++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)ht.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",ht.makeError("network block skew detected",Z.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});n.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(s,u)})}).catch(l=>{this.emit("error",l),i._inflight=!1});n.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Je(this,void 0,void 0,function*(){return ht.throwError("provider does not support network detection",Z.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Je(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield eC(0),this._network;const r=ht.makeError("underlying network changed",Z.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Cf();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Cf(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Je(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return Je(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=n?s:new Promise((o,a)=>{const l=[];let u=!1;const c=function(){return u?!0:(u=!0,l.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<n||c()||o(f)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let f=i.startBlock,p=null;const m=w=>Je(this,void 0,void 0,function*(){u||(yield eC(1e3),this.getTransactionCount(i.from).then(x=>Je(this,void 0,void 0,function*(){if(!u){if(x<=i.nonce)f=w;else{{const v=yield this.getTransaction(e);if(v&&v.blockNumber!=null)return}for(p==null&&(p=f-3,p<i.startBlock&&(p=i.startBlock));p<=w;){if(u)return;const v=yield this.getBlockWithTransactions(p);for(let S=0;S<v.transactions.length;S++){const A=v.transactions[S];if(A.hash===e)return;if(A.from===i.from&&A.nonce===i.nonce){if(u)return;const M=yield this.waitForTransaction(A.hash,n);if(c())return;let U="replaced";A.data===i.data&&A.to===i.to&&A.value.eq(i.value)?U="repriced":A.data==="0x"&&A.from===A.to&&A.value.isZero()&&(U="cancelled"),a(ht.makeError("transaction was replaced",Z.errors.TRANSACTION_REPLACED,{cancelled:U==="replaced"||U==="cancelled",reason:U,replacement:this._wrapTransaction(A),hash:e,receipt:M}));return}}p++}}u||this.once("block",m)}}),x=>{u||this.once("block",m)}))});if(u)return;this.once("block",m),l.push(()=>{this.removeListener("block",m)})}if(typeof r=="number"&&r>0){const f=setTimeout(()=>{c()||a(ht.makeError("timeout exceeded",Z.errors.TIMEOUT,{timeout:r}))},r);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return Je(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ve.from(e)}catch(n){return ht.throwError("bad result from backend",Z.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Dn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return ve.from(i)}catch(s){return ht.throwError("bad result from backend",Z.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,n){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Dn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return ve.from(i).toNumber()}catch(s){return ht.throwError("bad result from backend",Z.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,n){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Dn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return Fe(i)}catch(s){return ht.throwError("bad result from backend",Z.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,n,r){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Dn({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(o=>IE(o))}),s=yield this.perform("getStorageAt",i);try{return Fe(s)}catch(o){return ht.throwError("bad result from backend",Z.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,n,r){if(n!=null&&Iu(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&ht.throwError("Transaction hash mismatch from Provider.sendTransaction.",Z.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(s,o)=>Je(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&ht.throwError("transaction failed",Z.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(s=>Fe(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return Je(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?ve.from(s):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(s=>s?Fe(s):null))}),this.formatter.transactionRequest(yield Dn(r))})}_getFilter(e){return Je(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Dn(n))})}_call(e,n,r){return Je(this,void 0,void 0,function*(){r>=lQ&&ht.throwError("CCIP read exceeded maximum redirections",Z.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Iu(s)%32===4)try{const o=Dr(s,4),a=Dr(o,0,32);ve.from(a).eq(i)||ht.throwError("CCIP Read sender did not match",Z.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],u=ve.from(Dr(o,32,64)).toNumber(),c=ve.from(Dr(o,u,u+32)).toNumber(),h=Dr(o,u+32);for(let v=0;v<c;v++){const S=Ng(h,v*32);S==null&&ht.throwError("CCIP Read contained corrupt URL string",Z.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(S)}const f=Xd(o,64);ve.from(Dr(o,100,128)).isZero()||ht.throwError("CCIP Read callback selector included junk",Z.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const p=Dr(o,96,100),m=Xd(o,128),w=yield this.ccipReadFetch(e,f,l);w==null&&ht.throwError("CCIP Read disabled or provided no URLs",Z.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const x={to:i,data:ci([p,R5([w,m])])};return this._call(x,n,r+1)}catch(o){if(o.code===Z.errors.SERVER_ERROR)throw o}try{return Fe(s)}catch(o){return ht.throwError("bad result from backend",Z.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:s,error:o})}})}call(e,n){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Dn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Dn({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return ve.from(r)}catch(i){return ht.throwError("bad result from backend",Z.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return Je(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&ht.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&ht.throwError("ENS name not configured",Z.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Je(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(Vt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Vt(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{ht.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return $f(()=>Je(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let o=null;for(let l=0;l<s.transactions.length;l++){const u=s.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let c=o-u.blockNumber+1;c<=0&&(c=1),u.confirmations=c}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Je(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return $f(()=>Je(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Je(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return $f(()=>Je(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Je(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Dn({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),De.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Je(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Je(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&ht.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Je(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new iC(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Je(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||ht.throwError("network does not support ENS",Z.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Rg(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Je(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(Vt(e))throw r}typeof e!="string"&&ht.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Je(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=Ng(yield this.call({to:r,data:"0x691f3431"+Rg(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Je(this,void 0,void 0,function*(){let n=null;if(Vt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;n=new iC(this,o,s);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==Z.errors.CALL_EXCEPTION)throw a}try{const a=Ng(yield this.call({to:o,data:"0x691f3431"+Rg(s).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==Z.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return ht.throwError(e+" not implemented",Z.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new hQ(rc(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],s=rc(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,n)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let n=rc(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=rc(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,s=rc(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=n||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=rc(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var qo=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ln=new Z(av),gQ=["call","estimateGas"];function ud(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=Vt(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=ud(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return ud(JSON.parse(t),e)}catch{}return null}function k5(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const s=ud(e,!0);if(s)return s.data;Ln.throwError("missing revert data in call exception; Transaction reverted without a reason string",Z.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let s=ud(e.body,!1);s==null&&(s=ud(e,!1)),s&&Ln.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Z.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===Z.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Ln.throwError("insufficient funds for intrinsic transaction cost",Z.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&Ln.throwError("nonce has already been used",Z.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Ln.throwError("replacement fee too low",Z.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&Ln.throwError("legacy pre-eip-155 transactions not supported",Z.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),gQ.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Ln.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Z.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function sC(t){return new Promise(function(e){setTimeout(e,t)})}function yQ(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function If(t){return t&&t.toLowerCase()}const eb={};class M5 extends Op{constructor(e,n,r){if(super(),e!==eb)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");de(this,"provider",n),r==null&&(r=0),typeof r=="string"?(de(this,"_address",this.provider.formatter.address(r)),de(this,"_index",null)):typeof r=="number"?(de(this,"_index",r),de(this,"_address",null)):Ln.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Ln.throwError("cannot alter JSON-RPC Signer connection",Z.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new vQ(eb,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Ln.throwError("unknown account #"+this._index,Z.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Qn(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=Qn(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>qo(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&Ln.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),Dn({tx:Dn(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&Ln.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Ln.throwError("user rejected transaction",Z.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),k5("sendTransaction",o,s)))})}signTransaction(e){return Ln.throwError("signing transactions is unsupported",Z.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return qo(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield $f(()=>qo(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return qo(this,void 0,void 0,function*(){const n=typeof e=="string"?Ro(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Fe(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Ln.throwError("user rejected signing",Z.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return qo(this,void 0,void 0,function*(){const n=typeof e=="string"?Ro(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Fe(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Ln.throwError("user rejected signing",Z.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return qo(this,void 0,void 0,function*(){const i=yield Ei.resolveNames(e,n,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Ei.getPayload(i.domain,n,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Ln.throwError("user rejected signing",Z.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:n,value:i.value}}),o}})}unlock(e){return qo(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class vQ extends M5{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const wQ={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class _Q extends mQ{constructor(e,n){let r=n;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=fo(this.constructor,"defaultUrl")()),typeof e=="string"?de(this,"connection",Object.freeze({url:e})):de(this,"connection",Object.freeze(Qn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return qo(this,void 0,void 0,function*(){yield sC(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=fo(this.constructor,"getNetwork");try{return n(ve.from(e).toNumber())}catch(r){return Ln.throwError("could not detect network",Z.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Ln.throwError("could not detect network",Z.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new M5(eb,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:pa(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=BE(this.connection,JSON.stringify(r),yQ).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[If(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[If(n.address),n.blockTag]];case"getCode":return["eth_getCode",[If(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[If(n.address),ln(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[fo(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[fo(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=If(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return qo(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&ve.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Qn(n),n.transaction=Qn(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&Ln.throwError(e+" not implemented",Z.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return k5(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=n)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return sC(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=Qn(wQ);if(n)for(const s in n)n[s]&&(r[s]=!0);gH(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=IE(ve.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Fe(e[s]))}),e.accessList&&(i.accessList=qh(e.accessList)),i}}const oC=new Z(av);let bQ=1;function aC(t,e){const n="Web3LegacyFetcher";return function(r,i){const s={method:r,params:i,id:bQ++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:n,request:pa(s),provider:this}),e(s,(l,u)=>{if(l)return this.emit("debug",{action:"response",fetcher:n,error:l,request:s,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:n,request:s,response:u,provider:this}),u.error){const c=new Error(u.error.message);return c.code=u.error.code,c.data=u.error.data,a(c)}o(u.result)})})}}function xQ(t){return function(e,n){n==null&&(n=[]);const r={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:pa(r),provider:this}),t.request(r).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:i,provider:this}),i})}}class O5 extends _Q{constructor(e,n){e==null&&oC.throwArgumentError("missing provider","provider",e);let r=null,i=null,s=null;typeof e=="function"?(r="unknown:",i=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),s=e,e.request?(r===""&&(r="eip-1193:"),i=xQ(e)):e.sendAsync?i=aC(e,e.sendAsync.bind(e)):e.send?i=aC(e,e.send.bind(e)):oC.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,n),de(this,"jsonRpcFetchFunc",i),de(this,"provider",s)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}const EQ="units/5.8.0",SQ=new Z(EQ),AQ=["wei","kwei","mwei","gwei","szabo","finney","ether"];function N5(t,e){if(typeof t!="string"&&SQ.throwArgumentError("value must be a string","value",t),typeof e=="string"){const n=AQ.indexOf(e);n!==-1&&(e=3*n)}return to(t,e??18)}function PQ(t){return Gu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 12.0322C2 11.4799 2.44772 11.0322 3 11.0322H21C21.5523 11.0322 22 11.4799 22 12.0322C22 12.5845 21.5523 13.0322 21 13.0322H3C2.44772 13.0322 2 12.5845 2 12.0322Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M3 17.0645C2.44772 17.0645 2 17.5122 2 18.0645C2 18.6167 2.44772 19.0645 3 19.0645H21C21.5523 19.0645 22 18.6167 22 18.0645C22 17.5122 21.5523 17.0645 21 17.0645H3Z",fill:"currentColor"},child:[]}]})(t)}const zE="/assets/logo-07de2517.jpg";function fl(){const[t,e]=C.useState(!1),n=Ys();return C.useEffect(()=>{e(!1)},[n]),b.jsxs(b.Fragment,{children:[b.jsx(km,{expand:"lg",className:"shadow fixed-top",expanded:t,onToggle:()=>e(r=>!r),style:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(6px)"},children:b.jsxs(Fs,{fluid:!0,children:[b.jsx(km.Brand,{children:b.jsxs(iu,{to:"/homcompra",className:"text-dark text-decoration-none",children:[b.jsx("img",{src:zE,alt:"Logo",height:"30",className:"d-inline-block align-top rounded"}),b.jsx("span",{className:"brand-text  text-start w-100 px-2 fw-bold fst-italic",children:"Cripto Listo"})]})}),b.jsx(km.Toggle,{"aria-controls":"basic-navbar-nav",className:"bg-transparent border-0 shadow-none",children:b.jsx(PQ,{size:30,className:"fw-bold"})}),b.jsx(km.Collapse,{id:"basic-navbar-nav",children:b.jsxs(CG,{variant:"underline",className:"ms-auto",children:[b.jsx(iu,{to:"/homcompra",className:"nav-link fw-bold hover-white",children:"Comprar"}),b.jsx(iu,{to:"/homventa",className:"nav-link fw-bold hover-white",children:"Vender"}),b.jsx(iu,{to:"/profile",className:"nav-link fw-bold hover-white",children:"Perfil"}),b.jsx(iu,{to:"/logreg",className:"nav-link fw-bold hover-white",children:"Cerrar Sesion"})]})})]})}),b.jsx("div",{style:{paddingTop:"60px"}})]})}const TQ="0x55d398326f99059fF775485246999027B3197955",CQ=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],type:"function"}],IQ=()=>{const t=ds(),e=Ys(),{walletAddress:n,price:r}=e.state||{};console.log(n);const i=h=>h?`${h.substring(0,6)}...${h.substring(h.length-4)}`:"Sin direccin de billetera",[s,o]=C.useState(!1),[a,l]=C.useState(null),u=!n||s,c=async()=>{if(n){o(!0),l(null);try{if(!window.ethereum)throw new Error("MetaMask no est instalado");await window.ethereum.request({method:"eth_requestAccounts"});const h=new O5(window.ethereum),f=h.getSigner();(await h.getNetwork()).chainId!==56&&await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x38"}]});const m=new A5(TQ,CQ,f),w=N5(r.toString(),18),x=await m.transfer(n,w);await x.wait(),alert(`Pago realizado con xito! TX Hash: ${x.hash}`)}catch(h){console.error("Error en la transaccin:",h);let f=h.message;h.code===4001&&(f="Cancelaste la operacin"),h.code===-32002&&(f="Ya hay una solicitud pendiente. Revisa tu MetaMask."),l(f)}finally{o(!1)}}};return b.jsxs(b.Fragment,{children:[b.jsx(fl,{}),b.jsx("div",{className:"py-3"}),b.jsxs("div",{className:"d-flex flex-column align-items-center p-4 border border-3 border-primary rounded-4",style:{maxWidth:"500px",margin:"0 auto",backgroundColor:"#f0f8ff"},children:[b.jsxs("div",{className:"w-100 mb-4 p-3 rounded-3",style:{backgroundColor:"#f5f5f5"},children:[b.jsxs("p",{className:"mb-2 fs-5",style:{color:"#0d9e5f"},children:[b.jsx("strong",{style:{color:"#000000"},children:"Monto:"})," ",r||"0"," USDT"]}),b.jsxs("p",{className:"mb-0 fs-5",children:[b.jsx("strong",{children:"Destino:"})," ",i(n)]})]}),b.jsx("button",{onClick:c,disabled:u,className:"btn btn-lg shadow-sm mb-4",style:{minWidth:"220px",backgroundColor:u?"#cccccc":"#2e1461",color:"white",border:"none",transition:"all 0.3s"},onMouseOver:h=>!u&&(h.target.style.opacity="0.8"),onMouseOut:h=>!u&&(h.target.style.opacity="1"),children:s?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Procesando..."]}):b.jsxs(b.Fragment,{children:[b.jsx("i",{className:"bi bi-wallet2 me-2"}),n?"Pagar con MetaMask":"Direccin no disponible"]})}),a&&b.jsxs("div",{className:"text-center mb-3",children:[b.jsx("div",{className:"alert alert-danger d-inline-block",children:a}),b.jsx("div",{children:b.jsx("button",{onClick:c,className:"btn btn-sm btn-outline-primary mt-2",style:{borderWidth:"2px"},children:"Intentar nuevamente"})})]}),b.jsxs("div",{className:"mt-3 p-3 border border-1 border-primary rounded-3",style:{backgroundColor:"#f5f9ff"},children:[b.jsxs("h5",{className:"text-center mb-3",style:{color:"#2e1461"},children:[b.jsx("i",{className:"bi bi-exclamation-circle-fill me-2"}),"Requisitos"]}),b.jsxs("ul",{className:"list-unstyled",children:[b.jsxs("li",{className:"mb-2",children:[b.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"MetaMask instalado y configurado"]}),b.jsxs("li",{className:"mb-2",children:[b.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Configurado en Binance Smart Chain (BSC)"]}),b.jsxs("li",{children:[b.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Saldo suficiente de USDT y BNB (para gas fees)"]})]})]}),b.jsxs("button",{onClick:()=>t(-1),className:"btn btn-outline-secondary mt-4",style:{minWidth:"180px",borderColor:"#2e1461",color:"#2e1461",transition:"all 0.3s"},onMouseOver:h=>{h.target.style.backgroundColor="#2e1461",h.target.style.color="white"},onMouseOut:h=>{h.target.style.backgroundColor="transparent",h.target.style.color="#2e1461"},children:[b.jsx("i",{className:"bi bi-arrow-left me-2"}),"Regresar"]})]})]})},RQ="0x55d398326f99059fF775485246999027B3197955",kQ=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],type:"function"}],MQ=()=>{const t=ds(),e=Ys(),{walletAddress:n,price:r}=e.state||{},[i,s]=C.useState(!1),[o,a]=C.useState(null),l=p=>p?`${p.substring(0,6)}...${p.substring(p.length-4)}`:"Sin direccin de billetera",u=!n||i,c=()=>new Promise((p,m)=>{setTimeout(()=>{var w,x,v;(w=window.ethereum)!=null&&w.isTrust?p(window.ethereum):window.trustwallet?p(window.trustwallet):(v=(x=window.web3)==null?void 0:x.currentProvider)!=null&&v.isTrust?p(window.web3.currentProvider):m(new Error("Trust Wallet no detectado. Por favor instala la extensin o brela primero."))},300)}),h=async p=>{try{if(await p.request({method:"eth_chainId"})!=="0x38")try{await p.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x38"}]})}catch(w){if(w.code===4902)await p.request({method:"wallet_addEthereumChain",params:[{chainId:"0x38",chainName:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com/"]}]});else throw w}}catch(m){throw console.error("Error al cambiar de red:",m),new Error("No se pudo cambiar a Binance Smart Chain. Por favor hazlo manualmente en tu Trust Wallet.")}},f=async()=>{if(n){s(!0),a(null);try{const p=await c();await p.request({method:"eth_requestAccounts"});const w=new O5(p).getSigner();await h(p);const x=new A5(RQ,kQ,w),v=N5(r.toString(),18),S=await x.transfer(n,v);await S.wait(),alert(`Pago realizado con xito! TX Hash: ${S.hash}`)}catch(p){console.error("Error completo:",p);let m=p.message;p.code===4001&&(m="Cancelaste la operacin"),p.code===-32002&&(m="Ya hay una solicitud pendiente. Revisa tu Trust Wallet."),a(m)}finally{s(!1)}}};return b.jsxs(b.Fragment,{children:[b.jsx(fl,{}),b.jsx("div",{className:"py-3"}),b.jsxs("div",{className:"d-flex flex-column align-items-center p-4 border border-3 border-success rounded-4",style:{maxWidth:"500px",margin:"0 auto",backgroundColor:"#fff8f0"},children:[b.jsxs("div",{className:"w-100 mb-4 p-3 rounded-3",style:{backgroundColor:"#f5f5f5"},children:[b.jsxs("p",{className:"mb-2 fs-5",style:{color:"#0d9e5f"},children:[b.jsx("strong",{style:{color:"#000000"},children:"Monto:"})," ",r||"0"," USDT"]}),b.jsxs("p",{className:"mb-0 fs-5",children:[b.jsx("strong",{children:"Destino:"})," ",l(n)]})]}),b.jsx("button",{onClick:f,disabled:u,className:"btn btn-lg shadow-sm mb-4",style:{minWidth:"220px",backgroundColor:u?"#cccccc":"#14612E",color:"white",border:"none",transition:"all 0.3s"},children:i?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Procesando..."]}):b.jsxs(b.Fragment,{children:[b.jsx("i",{className:"bi bi-wallet2 me-2"}),n?"Pagar con Trust Wallet":"Direccin no disponible"]})}),o&&b.jsxs("div",{className:"text-center mb-3",children:[b.jsx("div",{className:"alert alert-danger d-inline-block",children:o}),b.jsx("div",{children:b.jsx("button",{onClick:f,className:"btn btn-sm btn-outline-success mt-2",style:{borderWidth:"2px"},children:"Intentar nuevamente"})})]}),b.jsxs("div",{className:"mt-3 p-3 border border-1 border-success rounded-3",style:{backgroundColor:"#e6f0e6"},children:[b.jsxs("h5",{className:"text-center mb-3",style:{color:"#14612E"},children:[b.jsx("i",{className:"bi bi-exclamation-circle-fill me-2"}),"Requisitos"]}),b.jsxs("ul",{className:"list-unstyled",children:[b.jsxs("li",{className:"mb-2",children:[b.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Extensin/mvil Trust Wallet instalado"]}),b.jsxs("li",{className:"mb-2",children:[b.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Configurado en Binance Smart Chain (BSC)"]}),b.jsxs("li",{children:[b.jsx("i",{className:"bi bi-check-circle-fill text-success me-2"}),"Saldo suficiente de USDT y BNB (para gas fees)"]})]})]}),b.jsxs("button",{onClick:()=>t(-1),className:"btn btn-outline-secondary mt-4",style:{minWidth:"180px",borderColor:"#14612E",color:"#14612E",transition:"all 0.3s"},onMouseOver:p=>{p.target.style.backgroundColor="#14612E",p.target.style.color="white"},onMouseOut:p=>{p.target.style.backgroundColor="transparent",p.target.style.color="#14612E"},children:[b.jsx("i",{className:"bi bi-arrow-left me-2"}),"Regresar"]})]})]})},OQ=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},L5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(D5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new DQ;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LQ=function(t){const e=D5(t);return L5.encodeByteArray(e,!0)},$0=function(t){return LQ(t).replace(/\./g,"")},V5=function(t){try{return L5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=()=>VQ().__FIREBASE_DEFAULTS__,BQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&V5(t[1]);return e&&JSON.parse(e)},lv=()=>{try{return OQ()||FQ()||BQ()||zQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F5=t=>{var e,n;return(n=(e=lv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jQ=t=>{const e=F5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B5=()=>{var t;return(t=lv())===null||t===void 0?void 0:t.config},z5=t=>{var e;return(e=lv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[$0(JSON.stringify(n)),$0(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function HQ(){var t;const e=(t=lv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QQ(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YQ(){return!HQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XQ(){try{return typeof indexedDB=="object"}catch{return!1}}function JQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ="FirebaseError";class Ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZQ,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dp.prototype.create)}}class Dp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eY(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ca(i,a,r)}}function eY(t,e){return t.replace(tY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tY=/\{\$([^}]+)}/g;function nY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ou(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lC(s)&&lC(o)){if(!Ou(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rY(t,e){const n=new iY(t,e);return n.subscribe.bind(n)}class iY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=H1),i.error===void 0&&(i.error=H1),i.complete===void 0&&(i.complete=H1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){return t&&t._delegate?t._delegate:t}class Nu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UQ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lY(e))try{this.getOrInitializeService({instanceIdentifier:tu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=tu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tu){return this.instances.has(e)}getOptions(e=tu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tu){return this.component?this.component.multipleInstances?e:tu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aY(t){return t===tu?void 0:t}function lY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const cY={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},hY=vt.INFO,fY={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},dY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jE{constructor(e){this.name=e,this._logLevel=hY,this._logHandler=dY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const pY=(t,e)=>e.some(n=>t instanceof n);let uC,cC;function mY(){return uC||(uC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gY(){return cC||(cC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j5=new WeakMap,tb=new WeakMap,U5=new WeakMap,q1=new WeakMap,UE=new WeakMap;function yY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&j5.set(n,t)}).catch(()=>{}),UE.set(e,t),e}function vY(t){if(tb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tb.set(t,e)}let nb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||U5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wY(t){nb=t(nb)}function _Y(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(W1(this),e,...n);return U5.set(r,e.sort?e.sort():[e]),dl(r)}:gY().includes(t)?function(...e){return t.apply(W1(this),e),dl(j5.get(this))}:function(...e){return dl(t.apply(W1(this),e))}}function bY(t){return typeof t=="function"?_Y(t):(t instanceof IDBTransaction&&vY(t),pY(t,mY())?new Proxy(t,nb):t)}function dl(t){if(t instanceof IDBRequest)return yY(t);if(q1.has(t))return q1.get(t);const e=bY(t);return e!==t&&(q1.set(t,e),UE.set(e,t)),e}const W1=t=>UE.get(t);function xY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=dl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(dl(o.result),l.oldVersion,l.newVersion,dl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const EY=["get","getKey","getAll","getAllKeys","count"],SY=["put","add","delete","clear"],K1=new Map;function hC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K1.get(e))return K1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EY.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return K1.set(e,s),s}wY(t=>({...t,get:(e,n,r)=>hC(e,n)||t.get(e,n,r),has:(e,n)=>!!hC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PY(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rb="@firebase/app",fC="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new jE("@firebase/app"),TY="@firebase/app-compat",CY="@firebase/analytics-compat",IY="@firebase/analytics",RY="@firebase/app-check-compat",kY="@firebase/app-check",MY="@firebase/auth",OY="@firebase/auth-compat",NY="@firebase/database",DY="@firebase/data-connect",LY="@firebase/database-compat",VY="@firebase/functions",FY="@firebase/functions-compat",BY="@firebase/installations",zY="@firebase/installations-compat",jY="@firebase/messaging",UY="@firebase/messaging-compat",$Y="@firebase/performance",GY="@firebase/performance-compat",HY="@firebase/remote-config",qY="@firebase/remote-config-compat",WY="@firebase/storage",KY="@firebase/storage-compat",QY="@firebase/firestore",YY="@firebase/vertexai",XY="@firebase/firestore-compat",JY="firebase",ZY="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="[DEFAULT]",eX={[rb]:"fire-core",[TY]:"fire-core-compat",[IY]:"fire-analytics",[CY]:"fire-analytics-compat",[kY]:"fire-app-check",[RY]:"fire-app-check-compat",[MY]:"fire-auth",[OY]:"fire-auth-compat",[NY]:"fire-rtdb",[DY]:"fire-data-connect",[LY]:"fire-rtdb-compat",[VY]:"fire-fn",[FY]:"fire-fn-compat",[BY]:"fire-iid",[zY]:"fire-iid-compat",[jY]:"fire-fcm",[UY]:"fire-fcm-compat",[$Y]:"fire-perf",[GY]:"fire-perf-compat",[HY]:"fire-rc",[qY]:"fire-rc-compat",[WY]:"fire-gcs",[KY]:"fire-gcs-compat",[QY]:"fire-fst",[XY]:"fire-fst-compat",[YY]:"fire-vertex","fire-js":"fire-js",[JY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map,tX=new Map,sb=new Map;function dC(t,e){try{t.container.addComponent(e)}catch(n){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vh(t){const e=t.name;if(sb.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;sb.set(e,t);for(const n of G0.values())dC(n,t);for(const n of tX.values())dC(n,t);return!0}function $E(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ns(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pl=new Dp("app","Firebase",nX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=ZY;function $5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ib,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pl.create("bad-app-name",{appName:String(i)});if(n||(n=B5()),!n)throw pl.create("no-options");const s=G0.get(i);if(s){if(Ou(n,s.options)&&Ou(r,s.config))return s;throw pl.create("duplicate-app",{appName:i})}const o=new uY(i);for(const l of sb.values())o.addComponent(l);const a=new rX(n,r,o);return G0.set(i,a),a}function G5(t=ib){const e=G0.get(t);if(!e&&t===ib&&B5())return $5();if(!e)throw pl.create("no-app",{appName:t});return e}function ml(t,e,n){var r;let i=(r=eX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(a.join(" "));return}vh(new Nu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX="firebase-heartbeat-database",sX=1,Jd="firebase-heartbeat-store";let Q1=null;function H5(){return Q1||(Q1=xY(iX,sX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jd)}catch(n){console.warn(n)}}}}).catch(t=>{throw pl.create("idb-open",{originalErrorMessage:t.message})})),Q1}async function oX(t){try{const n=(await H5()).transaction(Jd),r=await n.objectStore(Jd).get(q5(t));return await n.done,r}catch(e){if(e instanceof Ca)ya.warn(e.message);else{const n=pl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ya.warn(n.message)}}}async function pC(t,e){try{const r=(await H5()).transaction(Jd,"readwrite");await r.objectStore(Jd).put(e,q5(t)),await r.done}catch(n){if(n instanceof Ca)ya.warn(n.message);else{const r=pl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ya.warn(r.message)}}}function q5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX=1024,lX=30;class uX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>lX){const o=fX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mC(),{heartbeatsToSend:r,unsentEntries:i}=cX(this._heartbeatsCache.heartbeats),s=$0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ya.warn(n),""}}}function mC(){return new Date().toISOString().substring(0,10)}function cX(t,e=aX){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XQ()?JQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gC(t){return $0(JSON.stringify({version:2,heartbeats:t})).length}function fX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(t){vh(new Nu("platform-logger",e=>new AY(e),"PRIVATE")),vh(new Nu("heartbeat",e=>new uX(e),"PRIVATE")),ml(rb,fC,t),ml(rb,fC,"esm2017"),ml("fire-js","")}dX("");function GE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function W5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pX=W5,K5=new Dp("auth","Firebase",W5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new jE("@firebase/auth");function mX(t,...e){H0.logLevel<=vt.WARN&&H0.warn(`Auth (${Wh}): ${t}`,...e)}function Dg(t,...e){H0.logLevel<=vt.ERROR&&H0.error(`Auth (${Wh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,...e){throw HE(t,...e)}function bo(t,...e){return HE(t,...e)}function Q5(t,e,n){const r=Object.assign(Object.assign({},pX()),{[e]:n});return new Dp("auth","Firebase",r).create(e,{appName:t.name})}function aa(t){return Q5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K5.create(t,...e)}function Ge(t,e,...n){if(!t)throw HE(e,...n)}function ta(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dg(e),new Error(e)}function va(t,e){t||ta(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gX(){return yC()==="http:"||yC()==="https:"}function yC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gX()||WQ()||"connection"in navigator)?navigator.onLine:!0}function vX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.shortDelay=e,this.longDelay=n,va(n>e,"Short delay should be less than long delay!"),this.isMobile=GQ()||KQ()}get(){return yX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t,e){va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _X=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bX=new Vp(3e4,6e4);function Vl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fl(t,e,n,r,i={}){return X5(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Lp(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return qQ()||(u.referrerPolicy="no-referrer"),Y5.fetch()(await J5(t,t.config.apiHost,n,a),u)})}async function X5(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wX),e);try{const i=new EX(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fm(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Q5(t,c,u);Gs(t,c)}}catch(i){if(i instanceof Ca)throw i;Gs(t,"network-request-failed",{message:String(i)})}}async function Fp(t,e,n,r,i={}){const s=await Fl(t,e,n,r,i);return"mfaPendingCredential"in s&&Gs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function J5(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?qE(t.config,i):`${t.config.apiScheme}://${i}`;return _X.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function xX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bo(this.auth,"network-request-failed")),bX.get())})}}function Fm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bo(t,e,r);return i.customData._tokenResponse=n,i}function vC(t){return t!==void 0&&t.enterprise!==void 0}class SX{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xX(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AX(t,e){return Fl(t,"GET","/v2/recaptchaConfig",Vl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PX(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function q0(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TX(t,e=!1){const n=Jr(t),r=await n.getIdToken(e),i=WE(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cd(Y1(i.auth_time)),issuedAtTime:cd(Y1(i.iat)),expirationTime:cd(Y1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Y1(t){return Number(t)*1e3}function WE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dg("JWT malformed, contained fewer than 3 sections"),null;try{const i=V5(n);return i?JSON.parse(i):(Dg("Failed to decode base64 JWT payload"),null)}catch(i){return Dg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wC(t){const e=WE(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ca&&CX(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zd(t,q0(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Z5(s.providerUserInfo):[],a=kX(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ab(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function RX(t){const e=Jr(t);await W0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z5(t){return t.map(e=>{var{providerId:n}=e,r=GE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MX(t,e){const n=await X5(t,{},async()=>{const r=Lp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await J5(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y5.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OX(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",Vl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=wC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await MX(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xc;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=GE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ab(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zd(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TX(this,e)}reload(){return RX(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await W0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ns(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await Zd(this,PX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,S=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:A,emailVerified:M,isAnonymous:U,providerData:N,stsTokenManager:D}=n;Ge(A&&D,e,"internal-error");const R=Xc.fromJSON(this.name,D);Ge(typeof A=="string",e,"internal-error"),Na(h,e.name),Na(f,e.name),Ge(typeof M=="boolean",e,"internal-error"),Ge(typeof U=="boolean",e,"internal-error"),Na(p,e.name),Na(m,e.name),Na(w,e.name),Na(x,e.name),Na(v,e.name),Na(S,e.name);const L=new ks({uid:A,auth:e,email:f,emailVerified:M,displayName:h,isAnonymous:U,photoURL:m,phoneNumber:p,tenantId:w,stsTokenManager:R,createdAt:v,lastLoginAt:S});return N&&Array.isArray(N)&&(L.providerData=N.map(z=>Object.assign({},z))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xc;i.updateFromServerResponse(n);const s=new ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await W0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Z5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Xc;a.updateFromIdToken(r);const l=new ks({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ab(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Map;function na(t){va(t instanceof Function,"Expected a class definition");let e=_C.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_C.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eL.type="NONE";const bC=eL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e,n){return`firebase:${t}:${e}:${n}`}class Jc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await q0(this.auth,{idToken:e}).catch(()=>{});return n?ks._fromGetAccountInfoResponse(this.auth,n,e):null}return ks._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jc(na(bC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||na(bC);const o=Lg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let h;if(typeof c=="string"){const f=await q0(e,{idToken:c}).catch(()=>{});if(!f)break;h=await ks._fromGetAccountInfoResponse(e,f,c)}else h=ks._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Jc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Jc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oL(e))return"Blackberry";if(aL(e))return"Webos";if(nL(e))return"Safari";if((e.includes("chrome/")||rL(e))&&!e.includes("edge/"))return"Chrome";if(sL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tL(t=$r()){return/firefox\//i.test(t)}function nL(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rL(t=$r()){return/crios\//i.test(t)}function iL(t=$r()){return/iemobile/i.test(t)}function sL(t=$r()){return/android/i.test(t)}function oL(t=$r()){return/blackberry/i.test(t)}function aL(t=$r()){return/webos/i.test(t)}function KE(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NX(t=$r()){var e;return KE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DX(){return QQ()&&document.documentMode===10}function lL(t=$r()){return KE(t)||sL(t)||aL(t)||oL(t)||/windows phone/i.test(t)||iL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t,e=[]){let n;switch(t){case"Browser":n=xC($r());break;case"Worker":n=`${xC($r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VX(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",Vl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX=6;class BX{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:FX,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EC(this),this.idTokenSubscription=new EC(this),this.beforeStateQueue=new LX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=na(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Jc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await q0(this,{idToken:e}),r=await ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ns(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await W0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ns(this.app))return Promise.reject(aa(this));const n=e?Jr(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ns(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ns(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VX(this),n=new BX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&na(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Jc.create(this,[na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mX(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qu(t){return Jr(t)}class EC{constructor(e){this.auth=e,this.observer=null,this.addObserver=rY(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jX(t){uv=t}function cL(t){return uv.loadJS(t)}function UX(){return uv.recaptchaEnterpriseScript}function $X(){return uv.gapiScript}function GX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HX{constructor(){this.enterprise=new qX}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qX{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const WX="recaptcha-enterprise",hL="NO_RECAPTCHA";class KX{constructor(e){this.type=WX,this.auth=qu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{AX(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new SX(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(hL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HX().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=UX();l.length!==0&&(l+=a),cL(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Rf(t,e,n,r=!1,i=!1){const s=new KX(t);let o;if(i)o=hL;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function lb(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Rf(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Rf(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Rf(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const c=await Rf(t,e,n,!1,!0);return r(t,c)}return Promise.reject(l)})}else{const a=await Rf(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(t,e){const n=$E(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ou(s,e??{}))return i;Gs(i,"already-initialized")}return n.initialize({options:e})}function YX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(na);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XX(t,e,n){const r=qu(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=fL(e),{host:o,port:a}=JX(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(Ou(u,r.config.emulator)&&Ou(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||ZX()}function fL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JX(t){const e=fL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:SC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:SC(o)}}}function SC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ta("not implemented")}_getIdTokenResponse(e){return ta("not implemented")}_linkToIdToken(e,n){return ta("not implemented")}_getReauthenticationResolver(e){return ta("not implemented")}}async function eJ(t,e){return Fl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tJ(t,e){return Fp(t,"POST","/v1/accounts:signInWithPassword",Vl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nJ(t,e){return Fp(t,"POST","/v1/accounts:signInWithEmailLink",Vl(t,e))}async function rJ(t,e){return Fp(t,"POST","/v1/accounts:signInWithEmailLink",Vl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends QE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ep(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ep(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lb(e,n,"signInWithPassword",tJ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nJ(e,{email:this._email,oobCode:this._password});default:Gs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lb(e,r,"signUpPassword",eJ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rJ(e,{idToken:n,email:this._email,oobCode:this._password});default:Gs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e){return Fp(t,"POST","/v1/accounts:signInWithIdp",Vl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ="http://localhost";class Du extends QE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Du(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=GE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Du(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zc(e,n)}buildRequest(){const e={requestUri:iJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oJ(t){const e=Gf(Hf(t)).link,n=e?Gf(Hf(e)).deep_link_id:null,r=Gf(Hf(t)).deep_link_id;return(r?Gf(Hf(r)).link:null)||r||n||e||t}class YE{constructor(e){var n,r,i,s,o,a;const l=Gf(Hf(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=sJ((i=l.mode)!==null&&i!==void 0?i:null);Ge(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oJ(e);try{return new YE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.providerId=Kh.PROVIDER_ID}static credential(e,n){return ep._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=YE.parseLink(n);return Ge(r,"argument-error"),ep._fromEmailAndCode(e,r.code,r.tenantId)}}Kh.PROVIDER_ID="password";Kh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends dL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Bp{constructor(){super("facebook.com")}static credential(e){return Du._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Du._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qa.credential(n,r)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Bp{constructor(){super("github.com")}static credential(e){return Du._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Bp{constructor(){super("twitter.com")}static credential(e,n){return Du._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ka.credential(n,r)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(t,e){return Fp(t,"POST","/v1/accounts:signUp",Vl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ks._fromIdTokenResponse(e,r,i),o=AC(r);return new Lu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=AC(r);return new Lu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function AC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Ca{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,K0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new K0(e,n,r,i)}}function pL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?K0._fromErrorAndOperation(t,s,e,r):s})}async function lJ(t,e,n=!1){const r=await Zd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uJ(t,e,n=!1){const{auth:r}=t;if(ns(r.app))return Promise.reject(aa(r));const i="reauthenticate";try{const s=await Zd(t,pL(r,i,e,t),n);Ge(s.idToken,r,"internal-error");const o=WE(s.idToken);Ge(o,r,"internal-error");const{sub:a}=o;return Ge(t.uid===a,r,"user-mismatch"),Lu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e,n=!1){if(ns(t.app))return Promise.reject(aa(t));const r="signIn",i=await pL(t,r,e),s=await Lu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function cJ(t,e){return mL(qu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t){const e=qu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hJ(t,e,n){if(ns(t.app))return Promise.reject(aa(t));const r=qu(t),o=await lb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aJ,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gL(t),l}),a=await Lu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function fJ(t,e,n){return ns(t.app)?Promise.reject(aa(t)):cJ(Jr(t),Kh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gL(t),r})}function dJ(t,e,n,r){return Jr(t).onIdTokenChanged(e,n,r)}function pJ(t,e,n){return Jr(t).beforeAuthStateChanged(e,n)}function mJ(t){return Jr(t).signOut()}const Q0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Q0,"1"),this.storage.removeItem(Q0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=1e3,yJ=10;class vL extends yL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);DX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yJ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vL.type="LOCAL";const vJ=vL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL extends yL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wL.type="SESSION";const _L=wL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await wJ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=XE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return window}function bJ(t){xo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return typeof xo().WorkerGlobalScope<"u"&&typeof xo().importScripts=="function"}async function xJ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EJ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SJ(){return bL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="firebaseLocalStorageDb",AJ=1,Y0="firebaseLocalStorage",EL="fbase_key";class zp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hv(t,e){return t.transaction([Y0],e?"readwrite":"readonly").objectStore(Y0)}function PJ(){const t=indexedDB.deleteDatabase(xL);return new zp(t).toPromise()}function ub(){const t=indexedDB.open(xL,AJ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Y0,{keyPath:EL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Y0)?e(r):(r.close(),await PJ(),e(await ub()))})})}async function PC(t,e,n){const r=hv(t,!0).put({[EL]:e,value:n});return new zp(r).toPromise()}async function TJ(t,e){const n=hv(t,!1).get(e),r=await new zp(n).toPromise();return r===void 0?null:r.value}function TC(t,e){const n=hv(t,!0).delete(e);return new zp(n).toPromise()}const CJ=800,IJ=3;class SL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ub(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IJ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cv._getInstance(SJ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xJ(),!this.activeServiceWorker)return;this.sender=new _J(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ub();return await PC(e,Q0,"1"),await TC(e,Q0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TJ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hv(i,!1).getAll();return new zp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SL.type="LOCAL";const RJ=SL;new Vp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(t,e){return e?na(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends QE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MJ(t){return mL(t.auth,new JE(t),t.bypassAuthState)}function OJ(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),uJ(n,new JE(t),t.bypassAuthState)}async function NJ(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),lJ(n,new JE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MJ;case"linkViaPopup":case"linkViaRedirect":return NJ;case"reauthViaPopup":case"reauthViaRedirect":return OJ;default:Gs(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ=new Vp(2e3,1e4);class Rc extends AL{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rc.currentPopupAction&&Rc.currentPopupAction.cancel(),Rc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=XE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DJ.get())};e()}}Rc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ="pendingRedirect",Vg=new Map;class VJ extends AL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vg.get(this.auth._key());if(!e){try{const r=await FJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vg.set(this.auth._key(),e)}return this.bypassAuthState||Vg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FJ(t,e){const n=jJ(e),r=zJ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function BJ(t,e){Vg.set(t._key(),e)}function zJ(t){return na(t._redirectPersistence)}function jJ(t){return Lg(LJ,t.config.apiKey,t.name)}async function UJ(t,e,n=!1){if(ns(t.app))return Promise.reject(aa(t));const r=qu(t),i=kJ(r,e),o=await new VJ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $J=10*60*1e3;class GJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$J&&this.cachedEventUids.clear(),this.cachedEventUids.has(CC(e))}saveEventToCache(e){this.cachedEventUids.add(CC(e)),this.lastProcessedEventTime=Date.now()}}function CC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qJ(t,e={}){return Fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KJ=/^https?/;async function QJ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qJ(t);for(const n of e)try{if(YJ(n))return}catch{}Gs(t,"unauthorized-domain")}function YJ(t){const e=ob(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KJ.test(n))return!1;if(WJ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ=new Vp(3e4,6e4);function IC(){const t=xo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JJ(t){return new Promise((e,n)=>{var r,i,s;function o(){IC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IC(),n(bo(t,"network-request-failed"))},timeout:XJ.get()})}if(!((i=(r=xo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xo().gapi)===null||s===void 0)&&s.load)o();else{const a=GX("iframefcb");return xo()[a]=()=>{gapi.load?o():n(bo(t,"network-request-failed"))},cL(`${$X()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fg=null,e})}let Fg=null;function ZJ(t){return Fg=Fg||JJ(t),Fg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=new Vp(5e3,15e3),tZ="__/auth/iframe",nZ="emulator/auth/iframe",rZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sZ(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qE(e,nZ):`https://${t.config.authDomain}/${tZ}`,r={apiKey:e.apiKey,appName:t.name,v:Wh},i=iZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lp(r).slice(1)}`}async function oZ(t){const e=await ZJ(t),n=xo().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:sZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rZ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bo(t,"network-request-failed"),a=xo().setTimeout(()=>{s(o)},eZ.get());function l(){xo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lZ=500,uZ=600,cZ="_blank",hZ="http://localhost";class RC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fZ(t,e,n,r=lZ,i=uZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},aZ),{width:r.toString(),height:i.toString(),top:s,left:o}),u=$r().toLowerCase();n&&(a=rL(u)?cZ:n),tL(u)&&(e=e||hZ,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(NX(u)&&a!=="_self")return dZ(e||"",a),new RC(null);const h=window.open(e||"",a,c);Ge(h,t,"popup-blocked");try{h.focus()}catch{}return new RC(h)}function dZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ="__/auth/handler",mZ="emulator/auth/handler",gZ=encodeURIComponent("fac");async function kC(t,e,n,r,i,s){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wh,eventId:i};if(e instanceof dL){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nY(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Bp){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${gZ}=${encodeURIComponent(l)}`:"";return`${yZ(t)}?${Lp(a).slice(1)}${u}`}function yZ({config:t}){return t.emulator?qE(t,mZ):`https://${t.authDomain}/${pZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="webStorageSupport";class vZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_L,this._completeRedirectFn=UJ,this._overrideRedirectResult=BJ}async _openPopup(e,n,r,i){var s;va((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await kC(e,n,r,ob(),i);return fZ(e,o,XE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kC(e,n,r,ob(),i);return bJ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(va(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oZ(e),r=new GJ(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(X1,{type:X1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[X1];o!==void 0&&n(!!o),Gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lL()||nL()||KE()}}const wZ=vZ;var MC="@firebase/auth",OC="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xZ(t){vh(new Nu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uL(t)},u=new zX(r,i,s,l);return YX(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vh(new Nu("auth-internal",e=>{const n=qu(e.getProvider("auth").getImmediate());return(r=>new _Z(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ml(MC,OC,bZ(t)),ml(MC,OC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=5*60,SZ=z5("authIdTokenMaxAge")||EZ;let NC=null;const AZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SZ)return;const i=n==null?void 0:n.token;NC!==i&&(NC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PZ(t=G5()){const e=$E(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QX(t,{popupRedirectResolver:wZ,persistence:[RJ,vJ,_L]}),r=z5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=AZ(s.toString());pJ(n,o,()=>o(n.currentUser)),dJ(n,a=>o(a))}}const i=F5("auth");return i&&XX(n,`http://${i}`),n}function TZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=bo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",TZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xZ("Browser");var CZ="firebase",IZ="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ml(CZ,IZ,"app");var DC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,TL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function L(){}L.prototype=R.prototype,D.D=R.prototype,D.prototype=new L,D.prototype.constructor=D,D.C=function(z,G,W){for(var E=Array(arguments.length-2),g=2;g<arguments.length;g++)E[g-2]=arguments[g];return R.prototype[G].apply(z,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,R,L){L||(L=0);var z=Array(16);if(typeof R=="string")for(var G=0;16>G;++G)z[G]=R.charCodeAt(L++)|R.charCodeAt(L++)<<8|R.charCodeAt(L++)<<16|R.charCodeAt(L++)<<24;else for(G=0;16>G;++G)z[G]=R[L++]|R[L++]<<8|R[L++]<<16|R[L++]<<24;R=D.g[0],L=D.g[1],G=D.g[2];var W=D.g[3],E=R+(W^L&(G^W))+z[0]+3614090360&4294967295;R=L+(E<<7&4294967295|E>>>25),E=W+(G^R&(L^G))+z[1]+3905402710&4294967295,W=R+(E<<12&4294967295|E>>>20),E=G+(L^W&(R^L))+z[2]+606105819&4294967295,G=W+(E<<17&4294967295|E>>>15),E=L+(R^G&(W^R))+z[3]+3250441966&4294967295,L=G+(E<<22&4294967295|E>>>10),E=R+(W^L&(G^W))+z[4]+4118548399&4294967295,R=L+(E<<7&4294967295|E>>>25),E=W+(G^R&(L^G))+z[5]+1200080426&4294967295,W=R+(E<<12&4294967295|E>>>20),E=G+(L^W&(R^L))+z[6]+2821735955&4294967295,G=W+(E<<17&4294967295|E>>>15),E=L+(R^G&(W^R))+z[7]+4249261313&4294967295,L=G+(E<<22&4294967295|E>>>10),E=R+(W^L&(G^W))+z[8]+1770035416&4294967295,R=L+(E<<7&4294967295|E>>>25),E=W+(G^R&(L^G))+z[9]+2336552879&4294967295,W=R+(E<<12&4294967295|E>>>20),E=G+(L^W&(R^L))+z[10]+4294925233&4294967295,G=W+(E<<17&4294967295|E>>>15),E=L+(R^G&(W^R))+z[11]+2304563134&4294967295,L=G+(E<<22&4294967295|E>>>10),E=R+(W^L&(G^W))+z[12]+1804603682&4294967295,R=L+(E<<7&4294967295|E>>>25),E=W+(G^R&(L^G))+z[13]+4254626195&4294967295,W=R+(E<<12&4294967295|E>>>20),E=G+(L^W&(R^L))+z[14]+2792965006&4294967295,G=W+(E<<17&4294967295|E>>>15),E=L+(R^G&(W^R))+z[15]+1236535329&4294967295,L=G+(E<<22&4294967295|E>>>10),E=R+(G^W&(L^G))+z[1]+4129170786&4294967295,R=L+(E<<5&4294967295|E>>>27),E=W+(L^G&(R^L))+z[6]+3225465664&4294967295,W=R+(E<<9&4294967295|E>>>23),E=G+(R^L&(W^R))+z[11]+643717713&4294967295,G=W+(E<<14&4294967295|E>>>18),E=L+(W^R&(G^W))+z[0]+3921069994&4294967295,L=G+(E<<20&4294967295|E>>>12),E=R+(G^W&(L^G))+z[5]+3593408605&4294967295,R=L+(E<<5&4294967295|E>>>27),E=W+(L^G&(R^L))+z[10]+38016083&4294967295,W=R+(E<<9&4294967295|E>>>23),E=G+(R^L&(W^R))+z[15]+3634488961&4294967295,G=W+(E<<14&4294967295|E>>>18),E=L+(W^R&(G^W))+z[4]+3889429448&4294967295,L=G+(E<<20&4294967295|E>>>12),E=R+(G^W&(L^G))+z[9]+568446438&4294967295,R=L+(E<<5&4294967295|E>>>27),E=W+(L^G&(R^L))+z[14]+3275163606&4294967295,W=R+(E<<9&4294967295|E>>>23),E=G+(R^L&(W^R))+z[3]+4107603335&4294967295,G=W+(E<<14&4294967295|E>>>18),E=L+(W^R&(G^W))+z[8]+1163531501&4294967295,L=G+(E<<20&4294967295|E>>>12),E=R+(G^W&(L^G))+z[13]+2850285829&4294967295,R=L+(E<<5&4294967295|E>>>27),E=W+(L^G&(R^L))+z[2]+4243563512&4294967295,W=R+(E<<9&4294967295|E>>>23),E=G+(R^L&(W^R))+z[7]+1735328473&4294967295,G=W+(E<<14&4294967295|E>>>18),E=L+(W^R&(G^W))+z[12]+2368359562&4294967295,L=G+(E<<20&4294967295|E>>>12),E=R+(L^G^W)+z[5]+4294588738&4294967295,R=L+(E<<4&4294967295|E>>>28),E=W+(R^L^G)+z[8]+2272392833&4294967295,W=R+(E<<11&4294967295|E>>>21),E=G+(W^R^L)+z[11]+1839030562&4294967295,G=W+(E<<16&4294967295|E>>>16),E=L+(G^W^R)+z[14]+4259657740&4294967295,L=G+(E<<23&4294967295|E>>>9),E=R+(L^G^W)+z[1]+2763975236&4294967295,R=L+(E<<4&4294967295|E>>>28),E=W+(R^L^G)+z[4]+1272893353&4294967295,W=R+(E<<11&4294967295|E>>>21),E=G+(W^R^L)+z[7]+4139469664&4294967295,G=W+(E<<16&4294967295|E>>>16),E=L+(G^W^R)+z[10]+3200236656&4294967295,L=G+(E<<23&4294967295|E>>>9),E=R+(L^G^W)+z[13]+681279174&4294967295,R=L+(E<<4&4294967295|E>>>28),E=W+(R^L^G)+z[0]+3936430074&4294967295,W=R+(E<<11&4294967295|E>>>21),E=G+(W^R^L)+z[3]+3572445317&4294967295,G=W+(E<<16&4294967295|E>>>16),E=L+(G^W^R)+z[6]+76029189&4294967295,L=G+(E<<23&4294967295|E>>>9),E=R+(L^G^W)+z[9]+3654602809&4294967295,R=L+(E<<4&4294967295|E>>>28),E=W+(R^L^G)+z[12]+3873151461&4294967295,W=R+(E<<11&4294967295|E>>>21),E=G+(W^R^L)+z[15]+530742520&4294967295,G=W+(E<<16&4294967295|E>>>16),E=L+(G^W^R)+z[2]+3299628645&4294967295,L=G+(E<<23&4294967295|E>>>9),E=R+(G^(L|~W))+z[0]+4096336452&4294967295,R=L+(E<<6&4294967295|E>>>26),E=W+(L^(R|~G))+z[7]+1126891415&4294967295,W=R+(E<<10&4294967295|E>>>22),E=G+(R^(W|~L))+z[14]+2878612391&4294967295,G=W+(E<<15&4294967295|E>>>17),E=L+(W^(G|~R))+z[5]+4237533241&4294967295,L=G+(E<<21&4294967295|E>>>11),E=R+(G^(L|~W))+z[12]+1700485571&4294967295,R=L+(E<<6&4294967295|E>>>26),E=W+(L^(R|~G))+z[3]+2399980690&4294967295,W=R+(E<<10&4294967295|E>>>22),E=G+(R^(W|~L))+z[10]+4293915773&4294967295,G=W+(E<<15&4294967295|E>>>17),E=L+(W^(G|~R))+z[1]+2240044497&4294967295,L=G+(E<<21&4294967295|E>>>11),E=R+(G^(L|~W))+z[8]+1873313359&4294967295,R=L+(E<<6&4294967295|E>>>26),E=W+(L^(R|~G))+z[15]+4264355552&4294967295,W=R+(E<<10&4294967295|E>>>22),E=G+(R^(W|~L))+z[6]+2734768916&4294967295,G=W+(E<<15&4294967295|E>>>17),E=L+(W^(G|~R))+z[13]+1309151649&4294967295,L=G+(E<<21&4294967295|E>>>11),E=R+(G^(L|~W))+z[4]+4149444226&4294967295,R=L+(E<<6&4294967295|E>>>26),E=W+(L^(R|~G))+z[11]+3174756917&4294967295,W=R+(E<<10&4294967295|E>>>22),E=G+(R^(W|~L))+z[2]+718787259&4294967295,G=W+(E<<15&4294967295|E>>>17),E=L+(W^(G|~R))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(G+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+G&4294967295,D.g[3]=D.g[3]+W&4294967295}r.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var L=R-this.blockSize,z=this.B,G=this.h,W=0;W<R;){if(G==0)for(;W<=L;)i(this,D,W),W+=this.blockSize;if(typeof D=="string"){for(;W<R;)if(z[G++]=D.charCodeAt(W++),G==this.blockSize){i(this,z),G=0;break}}else for(;W<R;)if(z[G++]=D[W++],G==this.blockSize){i(this,z),G=0;break}}this.h=G,this.o+=R},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var L=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=L&255,L/=256;for(this.u(D),D=Array(16),R=L=0;4>R;++R)for(var z=0;32>z;z+=8)D[L++]=this.g[R]>>>z&255;return D};function s(D,R){var L=a;return Object.prototype.hasOwnProperty.call(L,D)?L[D]:L[D]=R(D)}function o(D,R){this.h=R;for(var L=[],z=!0,G=D.length-1;0<=G;G--){var W=D[G]|0;z&&W==R||(L[G]=W,z=!1)}this.g=L}var a={};function l(D){return-128<=D&&128>D?s(D,function(R){return new o([R|0],0>R?-1:0)}):new o([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return x(u(-D));for(var R=[],L=1,z=0;D>=L;z++)R[z]=D/L|0,L*=4294967296;return new o(R,0)}function c(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return x(c(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=u(Math.pow(R,8)),z=h,G=0;G<D.length;G+=8){var W=Math.min(8,D.length-G),E=parseInt(D.substring(G,G+W),R);8>W?(W=u(Math.pow(R,W)),z=z.j(W).add(u(E))):(z=z.j(L),z=z.add(u(E)))}return z}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();for(var D=0,R=1,L=0;L<this.g.length;L++){var z=this.i(L);D+=(0<=z?z:4294967296+z)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(m(this))return"0";if(w(this))return"-"+x(this).toString(D);for(var R=u(Math.pow(D,6)),L=this,z="";;){var G=M(L,R).g;L=v(L,G.j(R));var W=((0<L.g.length?L.g[0]:L.h)>>>0).toString(D);if(L=G,m(L))return W+z;for(;6>W.length;)W="0"+W;z=W+z}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function m(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function w(D){return D.h==-1}t.l=function(D){return D=v(this,D),w(D)?-1:m(D)?0:1};function x(D){for(var R=D.g.length,L=[],z=0;z<R;z++)L[z]=~D.g[z];return new o(L,~D.h).add(f)}t.abs=function(){return w(this)?x(this):this},t.add=function(D){for(var R=Math.max(this.g.length,D.g.length),L=[],z=0,G=0;G<=R;G++){var W=z+(this.i(G)&65535)+(D.i(G)&65535),E=(W>>>16)+(this.i(G)>>>16)+(D.i(G)>>>16);z=E>>>16,W&=65535,E&=65535,L[G]=E<<16|W}return new o(L,L[L.length-1]&-2147483648?-1:0)};function v(D,R){return D.add(x(R))}t.j=function(D){if(m(this)||m(D))return h;if(w(this))return w(D)?x(this).j(x(D)):x(x(this).j(D));if(w(D))return x(this.j(x(D)));if(0>this.l(p)&&0>D.l(p))return u(this.m()*D.m());for(var R=this.g.length+D.g.length,L=[],z=0;z<2*R;z++)L[z]=0;for(z=0;z<this.g.length;z++)for(var G=0;G<D.g.length;G++){var W=this.i(z)>>>16,E=this.i(z)&65535,g=D.i(G)>>>16,T=D.i(G)&65535;L[2*z+2*G]+=E*T,S(L,2*z+2*G),L[2*z+2*G+1]+=W*T,S(L,2*z+2*G+1),L[2*z+2*G+1]+=E*g,S(L,2*z+2*G+1),L[2*z+2*G+2]+=W*g,S(L,2*z+2*G+2)}for(z=0;z<R;z++)L[z]=L[2*z+1]<<16|L[2*z];for(z=R;z<2*R;z++)L[z]=0;return new o(L,0)};function S(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function A(D,R){this.g=D,this.h=R}function M(D,R){if(m(R))throw Error("division by zero");if(m(D))return new A(h,h);if(w(D))return R=M(x(D),R),new A(x(R.g),x(R.h));if(w(R))return R=M(D,x(R)),new A(x(R.g),R.h);if(30<D.g.length){if(w(D)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var L=f,z=R;0>=z.l(D);)L=U(L),z=U(z);var G=N(L,1),W=N(z,1);for(z=N(z,2),L=N(L,2);!m(z);){var E=W.add(z);0>=E.l(D)&&(G=G.add(L),W=E),z=N(z,1),L=N(L,1)}return R=v(D,G.j(R)),new A(G,R)}for(G=h;0<=D.l(R);){for(L=Math.max(1,Math.floor(D.m()/R.m())),z=Math.ceil(Math.log(L)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),W=u(L),E=W.j(R);w(E)||0<E.l(D);)L-=z,W=u(L),E=W.j(R);m(W)&&(W=f),G=G.add(W),D=v(D,E)}return new A(G,D)}t.A=function(D){return M(this,D).h},t.and=function(D){for(var R=Math.max(this.g.length,D.g.length),L=[],z=0;z<R;z++)L[z]=this.i(z)&D.i(z);return new o(L,this.h&D.h)},t.or=function(D){for(var R=Math.max(this.g.length,D.g.length),L=[],z=0;z<R;z++)L[z]=this.i(z)|D.i(z);return new o(L,this.h|D.h)},t.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),L=[],z=0;z<R;z++)L[z]=this.i(z)^D.i(z);return new o(L,this.h^D.h)};function U(D){for(var R=D.g.length+1,L=[],z=0;z<R;z++)L[z]=D.i(z)<<1|D.i(z-1)>>>31;return new o(L,D.h)}function N(D,R){var L=R>>5;R%=32;for(var z=D.g.length-L,G=[],W=0;W<z;W++)G[W]=0<R?D.i(W+L)>>>R|D.i(W+L+1)<<32-R:D.i(W+L);return new o(G,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,gl=o}).apply(typeof DC<"u"?DC:typeof self<"u"?self:typeof window<"u"?window:{});var Bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CL,qf,IL,Bg,cb,RL,kL,ML;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,P){return d==Array.prototype||d==Object.prototype||(d[y]=P.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bm=="object"&&Bm];for(var y=0;y<d.length;++y){var P=d[y];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var P=r;d=d.split(".");for(var F=0;F<d.length-1;F++){var Y=d[F];if(!(Y in P))break e;P=P[Y]}d=d[d.length-1],F=P[d],y=y(F),y!=F&&y!=null&&e(P,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var P=0,F=!1,Y={next:function(){if(!F&&P<d.length){var ee=P++;return{value:y(ee,d[ee]),done:!1}}return F=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function c(d,y,P){return d.call.apply(d.bind,arguments)}function h(d,y,P){if(!d)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,F),d.apply(y,Y)}}return function(){return d.apply(y,arguments)}}function f(d,y,P){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,y){var P=Array.prototype.slice.call(arguments,1);return function(){var F=P.slice();return F.push.apply(F,arguments),d.apply(this,F)}}function m(d,y){function P(){}P.prototype=y.prototype,d.aa=y.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(F,Y,ee){for(var Ee=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)Ee[Jt-2]=arguments[Jt];return y.prototype[Y].apply(F,Ee)}}function w(d){const y=d.length;if(0<y){const P=Array(y);for(let F=0;F<y;F++)P[F]=d[F];return P}return[]}function x(d,y){for(let P=1;P<arguments.length;P++){const F=arguments[P];if(l(F)){const Y=d.length||0,ee=F.length||0;d.length=Y+ee;for(let Ee=0;Ee<ee;Ee++)d[Y+Ee]=F[Ee]}else d.push(F)}}class v{constructor(y,P){this.i=y,this.j=P,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function S(d){return/^[\s\xa0]*$/.test(d)}function A(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function M(d){return M[" "](d),d}M[" "]=function(){};var U=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function N(d,y,P){for(const F in d)y.call(P,d[F],F,d)}function D(d,y){for(const P in d)y.call(void 0,d[P],P,d)}function R(d){const y={};for(const P in d)y[P]=d[P];return y}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(d,y){let P,F;for(let Y=1;Y<arguments.length;Y++){F=arguments[Y];for(P in F)d[P]=F[P];for(let ee=0;ee<L.length;ee++)P=L[ee],Object.prototype.hasOwnProperty.call(F,P)&&(d[P]=F[P])}}function G(d){var y=1;d=d.split(":");const P=[];for(;0<y&&d.length;)P.push(d.shift()),y--;return d.length&&P.push(d.join(":")),P}function W(d){a.setTimeout(()=>{throw d},0)}function E(){var d=$;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class g{constructor(){this.h=this.g=null}add(y,P){const F=T.get();F.set(y,P),this.h?this.h.next=F:this.g=F,this.h=F}}var T=new v(()=>new k,d=>d.reset());class k{constructor(){this.next=this.g=this.h=null}set(y,P){this.h=y,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let V,O=!1,$=new g,q=()=>{const d=a.Promise.resolve(void 0);V=()=>{d.then(B)}};var B=()=>{for(var d;d=E();){try{d.h.call(d.g)}catch(P){W(P)}var y=T;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}O=!1};function _(){this.s=this.s,this.C=this.C}_.prototype.s=!1,_.prototype.ma=function(){this.s||(this.s=!0,this.N())},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};a.addEventListener("test",P,y),a.removeEventListener("test",P,y)}catch{}return d}();function I(d,y){if(j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,F=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(U){e:{try{M(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else P=="mouseover"?y=d.fromElement:P=="mouseout"&&(y=d.toElement);this.relatedTarget=y,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Q[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&I.aa.h.call(this)}}m(I,j);var Q={2:"touch",3:"pen",4:"mouse"};I.prototype.h=function(){I.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),ie=0;function le(d,y,P,F,Y){this.listener=d,this.proxy=null,this.src=y,this.type=P,this.capture=!!F,this.ha=Y,this.key=++ie,this.da=this.fa=!1}function pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,y,P,F,Y){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var Ee=nt(d,y,F,Y);return-1<Ee?(y=d[Ee],P||(y.fa=!1)):(y=new le(y,this.src,ee,!!F,Y),y.fa=P,d.push(y)),y};function he(d,y){var P=y.type;if(P in d.g){var F=d.g[P],Y=Array.prototype.indexOf.call(F,y,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call(F,Y,1),ee&&(pe(y),d.g[P].length==0&&(delete d.g[P],d.h--))}}function nt(d,y,P,F){for(var Y=0;Y<d.length;++Y){var ee=d[Y];if(!ee.da&&ee.listener==y&&ee.capture==!!P&&ee.ha==F)return Y}return-1}var me="closure_lm_"+(1e6*Math.random()|0),_e={};function $n(d,y,P,F,Y){if(F&&F.once)return Pr(d,y,P,F,Y);if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)$n(d,y[ee],P,F,Y);return null}return P=Ce(P),d&&d[ne]?d.K(y,P,u(F)?!!F.capture:!!F,Y):rt(d,y,P,!1,F,Y)}function rt(d,y,P,F,Y,ee){if(!y)throw Error("Invalid event type");var Ee=u(Y)?!!Y.capture:!!Y,Jt=et(d);if(Jt||(d[me]=Jt=new ce(d)),P=Jt.add(y,P,F,Ee,ee),P.proxy)return P;if(F=It(),P.proxy=F,F.src=d,F.listener=P,d.addEventListener)ue||(Y=Ee),Y===void 0&&(Y=!1),d.addEventListener(y.toString(),F,Y);else if(d.attachEvent)d.attachEvent(yn(y.toString()),F);else if(d.addListener&&d.removeListener)d.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return P}function It(){function d(P){return y.call(d.src,d.listener,P)}const y=lt;return d}function Pr(d,y,P,F,Y){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)Pr(d,y[ee],P,F,Y);return null}return P=Ce(P),d&&d[ne]?d.L(y,P,u(F)?!!F.capture:!!F,Y):rt(d,y,P,!0,F,Y)}function St(d,y,P,F,Y){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)St(d,y[ee],P,F,Y);else F=u(F)?!!F.capture:!!F,P=Ce(P),d&&d[ne]?(d=d.i,y=String(y).toString(),y in d.g&&(ee=d.g[y],P=nt(ee,P,F,Y),-1<P&&(pe(ee[P]),Array.prototype.splice.call(ee,P,1),ee.length==0&&(delete d.g[y],d.h--)))):d&&(d=et(d))&&(y=d.g[y.toString()],d=-1,y&&(d=nt(y,P,F,Y)),(P=-1<d?y[d]:null)&&bt(P))}function bt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ne])he(y.i,d);else{var P=d.type,F=d.proxy;y.removeEventListener?y.removeEventListener(P,F,d.capture):y.detachEvent?y.detachEvent(yn(P),F):y.addListener&&y.removeListener&&y.removeListener(F),(P=et(y))?(he(P,d),P.h==0&&(P.src=null,y[me]=null)):pe(d)}}}function yn(d){return d in _e?_e[d]:_e[d]="on"+d}function lt(d,y){if(d.da)d=!0;else{y=new I(y,this);var P=d.listener,F=d.ha||d.src;d.fa&&bt(d),d=P.call(F,y)}return d}function et(d){return d=d[me],d instanceof ce?d:null}var Mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ce(d){return typeof d=="function"?d:(d[Mn]||(d[Mn]=function(y){return d.handleEvent(y)}),d[Mn])}function Le(){_.call(this),this.i=new ce(this),this.M=this,this.F=null}m(Le,_),Le.prototype[ne]=!0,Le.prototype.removeEventListener=function(d,y,P,F){St(this,d,y,P,F)};function Bt(d,y){var P,F=d.F;if(F)for(P=[];F;F=F.F)P.push(F);if(d=d.M,F=y.type||y,typeof y=="string")y=new j(y,d);else if(y instanceof j)y.target=y.target||d;else{var Y=y;y=new j(F,d),z(y,Y)}if(Y=!0,P)for(var ee=P.length-1;0<=ee;ee--){var Ee=y.g=P[ee];Y=ft(Ee,F,!0,y)&&Y}if(Ee=y.g=d,Y=ft(Ee,F,!0,y)&&Y,Y=ft(Ee,F,!1,y)&&Y,P)for(ee=0;ee<P.length;ee++)Ee=y.g=P[ee],Y=ft(Ee,F,!1,y)&&Y}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var P=d.g[y],F=0;F<P.length;F++)pe(P[F]);delete d.g[y],d.h--}}this.F=null},Le.prototype.K=function(d,y,P,F){return this.i.add(String(d),y,!1,P,F)},Le.prototype.L=function(d,y,P,F){return this.i.add(String(d),y,!0,P,F)};function ft(d,y,P,F){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,ee=0;ee<y.length;++ee){var Ee=y[ee];if(Ee&&!Ee.da&&Ee.capture==P){var Jt=Ee.listener,cr=Ee.ha||Ee.src;Ee.fa&&he(d.i,Ee),Y=Jt.call(cr,F)!==!1&&Y}}return Y&&!F.defaultPrevented}function At(d,y,P){if(typeof d=="function")P&&(d=f(d,P));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function vn(d){d.g=At(()=>{d.g=null,d.i&&(d.i=!1,vn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Ae extends _{constructor(y,P){super(),this.m=y,this.l=P,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(d){_.call(this),this.h=d,this.g={}}m(Ve,_);var un=[];function gt(d){N(d.g,function(y,P){this.g.hasOwnProperty(P)&&bt(y)},d),d.g={}}Ve.prototype.N=function(){Ve.aa.N.call(this),gt(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pt=a.JSON.stringify,ni=a.JSON.parse,$t=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Rt(){}Rt.prototype.h=null;function ji(d){return d.h||(d.h=d.i())}function zt(){}var kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){j.call(this,"d")}m(ri,j);function Tt(){j.call(this,"c")}m(Tt,j);var ut={},Ui=null;function Nt(){return Ui=Ui||new Le}ut.La="serverreachability";function H(d){j.call(this,ut.La,d)}m(H,j);function K(d){const y=Nt();Bt(y,new H(y))}ut.STAT_EVENT="statevent";function X(d,y){j.call(this,ut.STAT_EVENT,d),this.stat=y}m(X,j);function te(d){const y=Nt();Bt(y,new X(y,d))}ut.Ma="timingevent";function we(d,y){j.call(this,ut.Ma,d),this.size=y}m(we,j);function ge(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function Te(d,y,P,F,Y,ee){d.info(function(){if(d.g)if(ee)for(var Ee="",Jt=ee.split("&"),cr=0;cr<Jt.length;cr++){var Dt=Jt[cr].split("=");if(1<Dt.length){var Cr=Dt[0];Dt=Dt[1];var Ir=Cr.split("_");Ee=2<=Ir.length&&Ir[1]=="type"?Ee+(Cr+"="+Dt+"&"):Ee+(Cr+"=redacted&")}}else Ee=null;else Ee=ee;return"XMLHTTP REQ ("+F+") [attempt "+Y+"]: "+y+`
`+P+`
`+Ee})}function be(d,y,P,F,Y,ee,Ee){d.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+Y+"]: "+y+`
`+P+`
`+ee+" "+Ee})}function ye(d,y,P,F){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+xe(d,P)+(F?" "+F:"")})}function je(d,y){d.info(function(){return"TIMEOUT: "+y})}Se.prototype.info=function(){};function xe(d,y){if(!d.g)return y;if(!y)return null;try{var P=JSON.parse(y);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var F=P[d];if(!(2>F.length)){var Y=F[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var Ee=1;Ee<Y.length;Ee++)Y[Ee]=""}}}}return Pt(P)}catch{return y}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$e;function We(){}m(We,Rt),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},$e=new We;function jt(d,y,P,F){this.j=d,this.i=y,this.l=P,this.R=F||1,this.U=new Ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xe}function Xe(){this.i=null,this.g="",this.h=!1}var ur={},On={};function Zn(d,y,P){d.L=1,d.v=tm(zo(y)),d.m=P,d.P=!0,Gn(d,null)}function Gn(d,y){d.F=Date.now(),Gi(d),d.A=zo(d.v);var P=d.A,F=d.R;Array.isArray(F)||(F=[String(F)]),q2(P.i,"t",F),d.C=0,P=d.j.J,d.h=new Xe,d.g=cA(d.j,P?y:null,!d.m),0<d.O&&(d.M=new Ae(f(d.Y,d,d.g),d.O)),y=d.U,P=d.g,F=d.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(un[0]=Y.toString()),Y=un);for(var ee=0;ee<Y.length;ee++){var Ee=$n(P,Y[ee],F||y.handleEvent,!1,y.h||y);if(!Ee)break;y.g[Ee.key]=Ee}y=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),K(),Te(d.i,d.u,d.A,d.l,d.R,d.m)}jt.prototype.ca=function(d){d=d.target;const y=this.M;y&&jo(d)==3?y.j():this.Y(d)},jt.prototype.Y=function(d){try{if(d==this.g)e:{const Ir=jo(this.g);var y=this.g.Ba();const Zu=this.g.Z();if(!(3>Ir)&&(Ir!=3||this.g&&(this.h.h||this.g.oa()||Z2(this.g)))){this.J||Ir!=4||y==7||(y==8||0>=Zu?K(3):K(2)),Hi(this);var P=this.g.Z();this.X=P;t:if($i(this)){var F=Z2(this.g);d="";var Y=F.length,ee=jo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),ct(this);var Ee="";break t}this.h.i=new a.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,d+=this.h.i.decode(F[y],{stream:!(ee&&y==Y-1)});F.length=0,this.h.g+=d,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=P==200,be(this.i,this.u,this.A,this.l,this.R,Ir,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Jt,cr=this.g;if((Jt=cr.g?cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Jt)){var Dt=Jt;break t}}Dt=null}if(P=Dt)ye(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tr(this,P);else{this.o=!1,this.s=3,te(12),on(this),ct(this);break e}}if(this.P){P=!0;let ys;for(;!this.J&&this.C<Ee.length;)if(ys=gs(this,Ee),ys==On){Ir==4&&(this.s=4,te(14),P=!1),ye(this.i,this.l,null,"[Incomplete Response]");break}else if(ys==ur){this.s=4,te(15),ye(this.i,this.l,Ee,"[Invalid Chunk]"),P=!1;break}else ye(this.i,this.l,ys,null),Tr(this,ys);if($i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ir!=4||Ee.length!=0||this.h.h||(this.s=1,te(16),P=!1),this.o=this.o&&P,!P)ye(this.i,this.l,Ee,"[Invalid Chunked Response]"),on(this),ct(this);else if(0<Ee.length&&!this.W){this.W=!0;var Cr=this.j;Cr.g==this&&Cr.ba&&!Cr.M&&(Cr.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),$v(Cr),Cr.M=!0,te(11))}}else ye(this.i,this.l,Ee,null),Tr(this,Ee);Ir==4&&on(this),this.o&&!this.J&&(Ir==4?oA(this.j,this):(this.o=!1,Gi(this)))}else aF(this.g),P==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),on(this),ct(this)}}}catch{}finally{}};function $i(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function gs(d,y){var P=d.C,F=y.indexOf(`
`,P);return F==-1?On:(P=Number(y.substring(P,F)),isNaN(P)?ur:(F+=1,F+P>y.length?On:(y=y.slice(F,F+P),d.C=F+P,y)))}jt.prototype.cancel=function(){this.J=!0,on(this)};function Gi(d){d.S=Date.now()+d.I,ii(d,d.I)}function ii(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ge(f(d.ba,d),y)}function Hi(d){d.B&&(a.clearTimeout(d.B),d.B=null)}jt.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(je(this.i,this.A),this.L!=2&&(K(),te(17)),on(this),this.s=2,ct(this)):ii(this,this.S-d)};function ct(d){d.j.G==0||d.J||oA(d.j,d)}function on(d){Hi(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,gt(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Tr(d,y){try{var P=d.j;if(P.G!=0&&(P.g==d||Zs(P.h,d))){if(!d.K&&Zs(P.h,d)&&P.G==3){try{var F=P.Da.g.parse(y)}catch{F=null}if(Array.isArray(F)&&F.length==3){var Y=F;if(Y[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)am(P),sm(P);else break e;Uv(P),te(18)}}else P.za=Y[1],0<P.za-P.T&&37500>Y[2]&&P.F&&P.v==0&&!P.C&&(P.C=ge(f(P.Za,P),6e3));if(1>=bi(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else $l(P,11)}else if((d.K||P.g==d)&&am(P),!S(y))for(Y=P.Da.g.parse(y),y=0;y<Y.length;y++){let Dt=Y[y];if(P.T=Dt[0],Dt=Dt[1],P.G==2)if(Dt[0]=="c"){P.K=Dt[1],P.ia=Dt[2];const Cr=Dt[3];Cr!=null&&(P.la=Cr,P.j.info("VER="+P.la));const Ir=Dt[4];Ir!=null&&(P.Aa=Ir,P.j.info("SVER="+P.Aa));const Zu=Dt[5];Zu!=null&&typeof Zu=="number"&&0<Zu&&(F=1.5*Zu,P.L=F,P.j.info("backChannelRequestTimeoutMs_="+F)),F=P;const ys=d.g;if(ys){const um=ys.g?ys.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(um){var ee=F.h;ee.g||um.indexOf("spdy")==-1&&um.indexOf("quic")==-1&&um.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(sf(ee,ee.h),ee.h=null))}if(F.D){const Gv=ys.g?ys.g.getResponseHeader("X-HTTP-Session-Id"):null;Gv&&(F.ya=Gv,en(F.I,F.D,Gv))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),F=P;var Ee=d;if(F.qa=uA(F,F.J?F.ia:null,F.W),Ee.K){F2(F.h,Ee);var Jt=Ee,cr=F.L;cr&&(Jt.I=cr),Jt.B&&(Hi(Jt),Gi(Jt)),F.g=Ee}else iA(F);0<P.i.length&&om(P)}else Dt[0]!="stop"&&Dt[0]!="close"||$l(P,7);else P.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?$l(P,7):jv(P):Dt[0]!="noop"&&P.l&&P.l.ta(Dt),P.v=0)}}K(4)}catch{}}var Xs=class{constructor(d,y){this.g=d,this.map=y}};function Js(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function bi(d){return d.h?1:d.g?d.g.size:0}function Zs(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function sf(d,y){d.g?d.g.add(y):d.h=y}function F2(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Js.prototype.cancel=function(){if(this.i=B2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function B2(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const P of d.g.values())y=y.concat(P.D);return y}return w(d.i)}function q8(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],P=d.length,F=0;F<P;F++)y.push(d[F]);return y}y=[],P=0;for(F in d)y[P++]=d[F];return y}function W8(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var P=0;P<d;P++)y.push(P);return y}y=[],P=0;for(const F in d)y[P++]=F;return y}}}function z2(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var P=W8(d),F=q8(d),Y=F.length,ee=0;ee<Y;ee++)y.call(void 0,F[ee],P&&P[ee],d)}var j2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K8(d,y){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var F=d[P].indexOf("="),Y=null;if(0<=F){var ee=d[P].substring(0,F);Y=d[P].substring(F+1)}else ee=d[P];y(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ul(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ul){this.h=d.h,Zp(this,d.j),this.o=d.o,this.g=d.g,em(this,d.s),this.l=d.l;var y=d.i,P=new lf;P.i=y.i,y.g&&(P.g=new Map(y.g),P.h=y.h),U2(this,P),this.m=d.m}else d&&(y=String(d).match(j2))?(this.h=!1,Zp(this,y[1]||"",!0),this.o=of(y[2]||""),this.g=of(y[3]||"",!0),em(this,y[4]),this.l=of(y[5]||"",!0),U2(this,y[6]||"",!0),this.m=of(y[7]||"")):(this.h=!1,this.i=new lf(null,this.h))}Ul.prototype.toString=function(){var d=[],y=this.j;y&&d.push(af(y,$2,!0),":");var P=this.g;return(P||y=="file")&&(d.push("//"),(y=this.o)&&d.push(af(y,$2,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(af(P,P.charAt(0)=="/"?X8:Y8,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",af(P,Z8)),d.join("")};function zo(d){return new Ul(d)}function Zp(d,y,P){d.j=P?of(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function em(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function U2(d,y,P){y instanceof lf?(d.i=y,eF(d.i,d.h)):(P||(y=af(y,J8)),d.i=new lf(y,d.h))}function en(d,y,P){d.i.set(y,P)}function tm(d){return en(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function of(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function af(d,y,P){return typeof d=="string"?(d=encodeURI(d).replace(y,Q8),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Q8(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var $2=/[#\/\?@]/g,Y8=/[#\?:]/g,X8=/[#\?]/g,J8=/[#\?@]/g,Z8=/#/g;function lf(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Ia(d){d.g||(d.g=new Map,d.h=0,d.i&&K8(d.i,function(y,P){d.add(decodeURIComponent(y.replace(/\+/g," ")),P)}))}t=lf.prototype,t.add=function(d,y){Ia(this),this.i=null,d=Xu(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(y),this.h+=1,this};function G2(d,y){Ia(d),y=Xu(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function H2(d,y){return Ia(d),y=Xu(d,y),d.g.has(y)}t.forEach=function(d,y){Ia(this),this.g.forEach(function(P,F){P.forEach(function(Y){d.call(y,Y,F,this)},this)},this)},t.na=function(){Ia(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),P=[];for(let F=0;F<y.length;F++){const Y=d[F];for(let ee=0;ee<Y.length;ee++)P.push(y[F])}return P},t.V=function(d){Ia(this);let y=[];if(typeof d=="string")H2(this,d)&&(y=y.concat(this.g.get(Xu(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)y=y.concat(d[P])}return y},t.set=function(d,y){return Ia(this),this.i=null,d=Xu(this,d),H2(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function q2(d,y,P){G2(d,y),0<P.length&&(d.i=null,d.g.set(Xu(d,y),w(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var P=0;P<y.length;P++){var F=y[P];const ee=encodeURIComponent(String(F)),Ee=this.V(F);for(F=0;F<Ee.length;F++){var Y=ee;Ee[F]!==""&&(Y+="="+encodeURIComponent(String(Ee[F]))),d.push(Y)}}return this.i=d.join("&")};function Xu(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function eF(d,y){y&&!d.j&&(Ia(d),d.i=null,d.g.forEach(function(P,F){var Y=F.toLowerCase();F!=Y&&(G2(this,F),q2(this,Y,P))},d)),d.j=y}function tF(d,y){const P=new Se;if(a.Image){const F=new Image;F.onload=p(Ra,P,"TestLoadImage: loaded",!0,y,F),F.onerror=p(Ra,P,"TestLoadImage: error",!1,y,F),F.onabort=p(Ra,P,"TestLoadImage: abort",!1,y,F),F.ontimeout=p(Ra,P,"TestLoadImage: timeout",!1,y,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=d}else y(!1)}function nF(d,y){const P=new Se,F=new AbortController,Y=setTimeout(()=>{F.abort(),Ra(P,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:F.signal}).then(ee=>{clearTimeout(Y),ee.ok?Ra(P,"TestPingServer: ok",!0,y):Ra(P,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),Ra(P,"TestPingServer: error",!1,y)})}function Ra(d,y,P,F,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),F(P)}catch{}}function rF(){this.g=new $t}function iF(d,y,P){const F=P||"";try{z2(d,function(Y,ee){let Ee=Y;u(Y)&&(Ee=Pt(Y)),y.push(F+ee+"="+encodeURIComponent(Ee))})}catch(Y){throw y.push(F+"type="+encodeURIComponent("_badmap")),Y}}function nm(d){this.l=d.Ub||null,this.j=d.eb||!1}m(nm,Rt),nm.prototype.g=function(){return new rm(this.l,this.j)},nm.prototype.i=function(d){return function(){return d}}({});function rm(d,y){Le.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(rm,Le),t=rm.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,cf(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uf(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;W2(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function W2(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?uf(this):cf(this),this.readyState==3&&W2(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,uf(this))},t.Qa=function(d){this.g&&(this.response=d,uf(this))},t.ga=function(){this.g&&uf(this)};function uf(d){d.readyState=4,d.l=null,d.j=null,d.v=null,cf(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var P=y.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=y.next();return d.join(`\r
`)};function cf(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(rm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function K2(d){let y="";return N(d,function(P,F){y+=F,y+=":",y+=P,y+=`\r
`}),y}function zv(d,y,P){e:{for(F in P){var F=!1;break e}F=!0}F||(P=K2(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):en(d,y,P))}function wn(d){Le.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(wn,Le);var sF=/^https?$/i,oF=["POST","PUT"];t=wn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,P,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$e.g(),this.v=this.o?ji(this.o):ji($e),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(ee){Q2(this,ee);return}if(d=P||"",P=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var Y in F)P.set(Y,F[Y]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ee of F.keys())P.set(ee,F.get(ee));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(P.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oF,y,void 0))||F||Y||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,Ee]of P)this.g.setRequestHeader(ee,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{J2(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){Q2(this,ee)}};function Q2(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Y2(d),im(d)}function Y2(d){d.A||(d.A=!0,Bt(d,"complete"),Bt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Bt(this,"complete"),Bt(this,"abort"),im(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),im(this,!0)),wn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?X2(this):this.bb())},t.bb=function(){X2(this)};function X2(d){if(d.h&&typeof o<"u"&&(!d.v[1]||jo(d)!=4||d.Z()!=2)){if(d.u&&jo(d)==4)At(d.Ea,0,d);else if(Bt(d,"readystatechange"),jo(d)==4){d.h=!1;try{const Ee=d.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var P;if(!(P=y)){var F;if(F=Ee===0){var Y=String(d.D).match(j2)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),F=!sF.test(Y?Y.toLowerCase():"")}P=F}if(P)Bt(d,"complete"),Bt(d,"success");else{d.m=6;try{var ee=2<jo(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",Y2(d)}}finally{im(d)}}}}function im(d,y){if(d.g){J2(d);const P=d.g,F=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Bt(d,"ready");try{P.onreadystatechange=F}catch{}}}function J2(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function jo(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<jo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),ni(y)}};function Z2(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function aF(d){const y={};d=(d.g&&2<=jo(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<d.length;F++){if(S(d[F]))continue;var P=G(d[F]);const Y=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ee=y[Y]||[];y[Y]=ee,ee.push(P)}D(y,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hf(d,y,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||y}function eA(d){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hf("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hf("baseRetryDelayMs",5e3,d),this.cb=hf("retryDelaySeedMs",1e4,d),this.Wa=hf("forwardChannelMaxRetries",2,d),this.wa=hf("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Js(d&&d.concurrentRequestLimit),this.Da=new rF,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eA.prototype,t.la=8,t.G=1,t.connect=function(d,y,P,F){te(0),this.W=d,this.H=y||{},P&&F!==void 0&&(this.H.OSID=P,this.H.OAID=F),this.F=this.X,this.I=uA(this,null,this.W),om(this)};function jv(d){if(tA(d),d.G==3){var y=d.U++,P=zo(d.I);if(en(P,"SID",d.K),en(P,"RID",y),en(P,"TYPE","terminate"),ff(d,P),y=new jt(d,d.j,y),y.L=2,y.v=tm(zo(P)),P=!1,a.navigator&&a.navigator.sendBeacon)try{P=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!P&&a.Image&&(new Image().src=y.v,P=!0),P||(y.g=cA(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Gi(y)}lA(d)}function sm(d){d.g&&($v(d),d.g.cancel(),d.g=null)}function tA(d){sm(d),d.u&&(a.clearTimeout(d.u),d.u=null),am(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function om(d){if(!Xt(d.h)&&!d.s){d.s=!0;var y=d.Ga;V||q(),O||(V(),O=!0),$.add(y,d),d.B=0}}function lF(d,y){return bi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ge(f(d.Ga,d,y),aA(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Y=new jt(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=R(ee),z(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var y=0,P=0;P<this.i.length;P++){t:{var F=this.i[P];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(y+=F,4096<y){y=P;break e}if(y===4096||P===this.i.length-1){y=P+1;break e}}y=1e3}else y=1e3;y=rA(this,Y,y),P=zo(this.I),en(P,"RID",d),en(P,"CVER",22),this.D&&en(P,"X-HTTP-Session-Id",this.D),ff(this,P),ee&&(this.O?y="headers="+encodeURIComponent(String(K2(ee)))+"&"+y:this.m&&zv(P,this.m,ee)),sf(this.h,Y),this.Ua&&en(P,"TYPE","init"),this.P?(en(P,"$req",y),en(P,"SID","null"),Y.T=!0,Zn(Y,P,null)):Zn(Y,P,y),this.G=2}}else this.G==3&&(d?nA(this,d):this.i.length==0||Xt(this.h)||nA(this))};function nA(d,y){var P;y?P=y.l:P=d.U++;const F=zo(d.I);en(F,"SID",d.K),en(F,"RID",P),en(F,"AID",d.T),ff(d,F),d.m&&d.o&&zv(F,d.m,d.o),P=new jt(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),y&&(d.i=y.D.concat(d.i)),y=rA(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),sf(d.h,P),Zn(P,F,y)}function ff(d,y){d.H&&N(d.H,function(P,F){en(y,F,P)}),d.l&&z2({},function(P,F){en(y,F,P)})}function rA(d,y,P){P=Math.min(d.i.length,P);var F=d.l?f(d.l.Na,d.l,d):null;e:{var Y=d.i;let ee=-1;for(;;){const Ee=["count="+P];ee==-1?0<P?(ee=Y[0].g,Ee.push("ofs="+ee)):ee=0:Ee.push("ofs="+ee);let Jt=!0;for(let cr=0;cr<P;cr++){let Dt=Y[cr].g;const Cr=Y[cr].map;if(Dt-=ee,0>Dt)ee=Math.max(0,Y[cr].g-100),Jt=!1;else try{iF(Cr,Ee,"req"+Dt+"_")}catch{F&&F(Cr)}}if(Jt){F=Ee.join("&");break e}}}return d=d.i.splice(0,P),y.D=d,F}function iA(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;V||q(),O||(V(),O=!0),$.add(y,d),d.v=0}}function Uv(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ge(f(d.Fa,d),aA(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,sA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ge(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),sm(this),sA(this))};function $v(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function sA(d){d.g=new jt(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=zo(d.qa);en(y,"RID","rpc"),en(y,"SID",d.K),en(y,"AID",d.T),en(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&en(y,"TO",d.ja),en(y,"TYPE","xmlhttp"),ff(d,y),d.m&&d.o&&zv(y,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=tm(zo(y)),P.m=null,P.P=!0,Gn(P,d)}t.Za=function(){this.C!=null&&(this.C=null,sm(this),Uv(this),te(19))};function am(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function oA(d,y){var P=null;if(d.g==y){am(d),$v(d),d.g=null;var F=2}else if(Zs(d.h,y))P=y.D,F2(d.h,y),F=1;else return;if(d.G!=0){if(y.o)if(F==1){P=y.m?y.m.length:0,y=Date.now()-y.F;var Y=d.B;F=Nt(),Bt(F,new we(F,P)),om(d)}else iA(d);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(F==1&&lF(d,y)||F==2&&Uv(d)))switch(P&&0<P.length&&(y=d.h,y.i=y.i.concat(P)),Y){case 1:$l(d,5);break;case 4:$l(d,10);break;case 3:$l(d,6);break;default:$l(d,2)}}}function aA(d,y){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*y}function $l(d,y){if(d.j.info("Error code "+y),y==2){var P=f(d.fb,d),F=d.Xa;const Y=!F;F=new Ul(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zp(F,"https"),tm(F),Y?tF(F.toString(),P):nF(F.toString(),P)}else te(2);d.G=0,d.l&&d.l.sa(y),lA(d),tA(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function lA(d){if(d.G=0,d.ka=[],d.l){const y=B2(d.h);(y.length!=0||d.i.length!=0)&&(x(d.ka,y),x(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function uA(d,y,P){var F=P instanceof Ul?zo(P):new Ul(P);if(F.g!="")y&&(F.g=y+"."+F.g),em(F,F.s);else{var Y=a.location;F=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new Ul(null);F&&Zp(ee,F),y&&(ee.g=y),Y&&em(ee,Y),P&&(ee.l=P),F=ee}return P=d.D,y=d.ya,P&&y&&en(F,P,y),en(F,"VER",d.la),ff(d,F),F}function cA(d,y,P){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new wn(new nm({eb:P})):new wn(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hA(){}t=hA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lm(){}lm.prototype.g=function(d,y){return new xi(d,y)};function xi(d,y){Le.call(this),this.g=new eA(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!S(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ju(this)}m(xi,Le),xi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xi.prototype.close=function(){jv(this.g)},xi.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=Pt(d),d=P);y.i.push(new Xs(y.Ya++,d)),y.G==3&&om(y)},xi.prototype.N=function(){this.g.l=null,delete this.j,jv(this.g),delete this.g,xi.aa.N.call(this)};function fA(d){ri.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const P in y){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}m(fA,ri);function dA(){Tt.call(this),this.status=1}m(dA,Tt);function Ju(d){this.g=d}m(Ju,hA),Ju.prototype.ua=function(){Bt(this.g,"a")},Ju.prototype.ta=function(d){Bt(this.g,new fA(d))},Ju.prototype.sa=function(d){Bt(this.g,new dA)},Ju.prototype.ra=function(){Bt(this.g,"b")},lm.prototype.createWebChannel=lm.prototype.g,xi.prototype.send=xi.prototype.o,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,ML=function(){return new lm},kL=function(){return Nt()},RL=ut,cb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Bg=Ie,dt.COMPLETE="complete",IL=dt,zt.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",Le.prototype.listen=Le.prototype.K,qf=zt,wn.prototype.listenOnce=wn.prototype.L,wn.prototype.getLastError=wn.prototype.Ka,wn.prototype.getLastErrorCode=wn.prototype.Ba,wn.prototype.getStatus=wn.prototype.Z,wn.prototype.getResponseJson=wn.prototype.Oa,wn.prototype.getResponseText=wn.prototype.oa,wn.prototype.send=wn.prototype.ea,wn.prototype.setWithCredentials=wn.prototype.Ha,CL=wn}).apply(typeof Bm<"u"?Bm:typeof self<"u"?self:typeof window<"u"?window:{});const LC="@firebase/firestore",VC="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new jE("@firebase/firestore");function cc(){return Vu.logLevel}function ke(t,...e){if(Vu.logLevel<=vt.DEBUG){const n=e.map(ZE);Vu.debug(`Firestore (${Qh}): ${t}`,...n)}}function wa(t,...e){if(Vu.logLevel<=vt.ERROR){const n=e.map(ZE);Vu.error(`Firestore (${Qh}): ${t}`,...n)}}function wh(t,...e){if(Vu.logLevel<=vt.WARN){const n=e.map(ZE);Vu.warn(`Firestore (${Qh}): ${t}`,...n)}}function ZE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+t;throw wa(e),new Error(e)}function Ht(t,e){t||qe()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nr.UNAUTHENTICATED))}shutdown(){}}class kZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MZ{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ht(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new la;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new la,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new la)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string"),new OL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Nr(e)}}class OZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class NZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OZ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DZ{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ns(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ht(this.o===void 0);const r=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new FC(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ht(typeof n.token=="string"),this.R=n.token,new FC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=LZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function hb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return it(r,i);{const s=NL(),o=VZ(s.encode(BC(t,n)),s.encode(BC(e,n)));return o!==0?o:it(r,i)}}n+=r>65535?2:1}return it(t.length,e.length)}function BC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function VZ(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return it(t[n],e[n]);return it(t.length,e.length)}function _h(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=-62135596800,jC=1e6;class Yn{static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jC);return new Yn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zC)throw new Me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jC}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Yn(0,0))}static max(){return new Ye(new Yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="__name__";class oo{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=oo.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return it(e.length,n.length)}static compareSegments(e,n){const r=oo.isNumericId(e),i=oo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?oo.extractNumericId(e).compare(oo.extractNumericId(n)):hb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gl.fromString(e.substring(4,e.length-2))}}class nn extends oo{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const FZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends oo{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return FZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UC}static keyField(){return new gr([UC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(nn.fromString(e))}static fromName(e){return new Be(nn.fromString(e).popFirst(5))}static empty(){return new Be(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new nn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function BZ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new Yn(n+1,0):new Yn(n,r));return new xl(i,Be.empty(),e)}function zZ(t){return new xl(t.readTime,t.key,tp)}class xl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xl(Ye.min(),Be.empty(),tp)}static max(){return new xl(Ye.max(),Be.empty(),tp)}}function jZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $Z{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==UZ)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function GZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fv.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=-1;function dv(t){return t==null}function X0(t){return t===0&&1/t==-1/0}function HZ(t){return typeof t=="number"&&Number.isInteger(t)&&!X0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="";function qZ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$C(e)),e=WZ(t.get(n),e);return $C(e)}function WZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case LL:n+="";break;default:n+=s}}return n}function $C(t){return t+LL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zm(this.root,e,this.comparator,!0)}}class zm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=s??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HC(this.data.getIterator())}getIteratorFrom(e){return new HC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class HC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Ms([])}unionWith(e){let n=new Xn(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ms(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _h(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FL("Invalid base64 string: "+s):s}}(e);return new Er(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const KZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function El(t){if(Ht(!!t),typeof t=="string"){let e=0;const n=KZ.exec(t);if(Ht(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(t.seconds),nanos:Pn(t.nanos)}}function Pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sl(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="server_timestamp",zL="__type__",jL="__previous_value__",UL="__local_write_time__";function tS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zL])===null||n===void 0?void 0:n.stringValue)===BL}function pv(t){const e=t.mapValue.fields[jL];return tS(e)?pv(e):e}function np(t){const e=El(t.mapValue.fields[UL].timestampValue);return new Yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const J0="(default)";class rp{constructor(e,n){this.projectId=e,this.database=n||J0}static empty(){return new rp("","")}get isDefaultDatabase(){return this.database===J0}isEqual(e){return e instanceof rp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="__type__",GL="__max__",jm={mapValue:{fields:{__type__:{stringValue:GL}}}},HL="__vector__",Z0="value";function Al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tS(t)?4:XZ(t)?9007199254740991:YZ(t)?10:11:qe()}function No(t,e){if(t===e)return!0;const n=Al(t);if(n!==Al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return np(t).isEqual(np(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=El(i.timestampValue),a=El(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Sl(i.bytesValue).isEqual(Sl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Pn(i.geoPointValue.latitude)===Pn(s.geoPointValue.latitude)&&Pn(i.geoPointValue.longitude)===Pn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Pn(i.integerValue)===Pn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Pn(i.doubleValue),a=Pn(s.doubleValue);return o===a?X0(o)===X0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _h(t.arrayValue.values||[],e.arrayValue.values||[],No);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(GC(o)!==GC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!No(o[l],a[l])))return!1;return!0}(t,e);default:return qe()}}function ip(t,e){return(t.values||[]).find(n=>No(n,e))!==void 0}function bh(t,e){if(t===e)return 0;const n=Al(t),r=Al(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Pn(s.integerValue||s.doubleValue),l=Pn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qC(t.timestampValue,e.timestampValue);case 4:return qC(np(t),np(e));case 5:return hb(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Sl(s),l=Sl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=it(a[u],l[u]);if(c!==0)return c}return it(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=it(Pn(s.latitude),Pn(o.latitude));return a!==0?a:it(Pn(s.longitude),Pn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h[Z0])===null||a===void 0?void 0:a.arrayValue,m=(l=f[Z0])===null||l===void 0?void 0:l.arrayValue,w=it(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:WC(p,m)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===jm.mapValue&&o===jm.mapValue)return 0;if(s===jm.mapValue)return 1;if(o===jm.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=hb(l[h],c[h]);if(f!==0)return f;const p=bh(a[l[h]],u[c[h]]);if(p!==0)return p}return it(l.length,c.length)}(t.mapValue,e.mapValue);default:throw qe()}}function qC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=El(t),r=El(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function WC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=bh(n[i],r[i]);if(s)return s}return it(n.length,r.length)}function xh(t){return fb(t)}function fb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=El(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fb(n.fields[o])}`;return i+"}"}(t.mapValue):qe()}function zg(t){switch(Al(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pv(t);return e?16+zg(e):16;case 5:return 2*t.stringValue.length;case 6:return Sl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+zg(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Wu(r.fields,(s,o)=>{i+=s.length+zg(o)}),i}(t.mapValue);default:throw qe()}}function KC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function db(t){return!!t&&"integerValue"in t}function nS(t){return!!t&&"arrayValue"in t}function QC(t){return!!t&&"nullValue"in t}function YC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jg(t){return!!t&&"mapValue"in t}function YZ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$L])===null||n===void 0?void 0:n.stringValue)===HL}function hd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hd(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rs(hd(this.value))}}function qL(t){const e=[];return Wu(t.fields,(n,r)=>{const i=new gr([n]);if(jg(r)){const s=qL(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Fr(e,0,Ye.min(),Ye.min(),Ye.min(),rs.empty(),0)}static newFoundDocument(e,n,r,i){return new Fr(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new Fr(e,2,n,Ye.min(),Ye.min(),rs.empty(),0)}static newUnknownDocument(e,n){return new Fr(e,3,n,Ye.min(),Ye.min(),rs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.position=e,this.inclusive=n}}function XC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),n.key):r=bh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!No(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n="asc"){this.field=e,this.dir=n}}function JZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{}class zn extends WL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eee(e,n,r):n==="array-contains"?new ree(e,r):n==="in"?new iee(e,r):n==="not-in"?new see(e,r):n==="array-contains-any"?new oee(e,r):new zn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tee(e,r):new nee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bh(n,this.value)):n!==null&&Al(this.value)===Al(n)&&this.matchesComparison(bh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hs extends WL{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Hs(e,n)}matches(e){return KL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function KL(t){return t.op==="and"}function QL(t){return ZZ(t)&&KL(t)}function ZZ(t){for(const e of t.filters)if(e instanceof Hs)return!1;return!0}function pb(t){if(t instanceof zn)return t.field.canonicalString()+t.op.toString()+xh(t.value);if(QL(t))return t.filters.map(e=>pb(e)).join(",");{const e=t.filters.map(n=>pb(n)).join(",");return`${t.op}(${e})`}}function YL(t,e){return t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.field.isEqual(i.field)&&No(r.value,i.value)}(t,e):t instanceof Hs?function(r,i){return i instanceof Hs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&YL(o,i.filters[a]),!0):!1}(t,e):void qe()}function XL(t){return t instanceof zn?function(n){return`${n.field.canonicalString()} ${n.op} ${xh(n.value)}`}(t):t instanceof Hs?function(n){return n.op.toString()+" {"+n.getFilters().map(XL).join(" ,")+"}"}(t):"Filter"}class eee extends zn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class tee extends zn{constructor(e,n){super(e,"in",n),this.keys=JL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nee extends zn{constructor(e,n){super(e,"not-in",n),this.keys=JL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class ree extends zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nS(n)&&ip(n.arrayValue,this.value)}}class iee extends zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ip(this.value.arrayValue,n)}}class see extends zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ip(this.value.arrayValue,n)}}class oee extends zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ip(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function ZC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aee(t,e,n,r,i,s,o)}function rS(t){const e=Ze(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),dv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xh(r)).join(",")),e.le=n}return e.le}function iS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JC(t.startAt,e.startAt)&&JC(t.endAt,e.endAt)}function mb(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lee(t,e,n,r,i,s,o,a){return new Jh(t,e,n,r,i,s,o,a)}function mv(t){return new Jh(t)}function eI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZL(t){return t.collectionGroup!==null}function fd(t){const e=Ze(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xn(gr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new sp(s,r))}),n.has(gr.keyField().canonicalString())||e.he.push(new sp(gr.keyField(),r))}return e.he}function Eo(t){const e=Ze(t);return e.Pe||(e.Pe=uee(e,fd(t))),e.Pe}function uee(t,e){if(t.limitType==="F")return ZC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sp(i.field,s)});const n=t.endAt?new ey(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ey(t.startAt.position,t.startAt.inclusive):null;return ZC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gb(t,e){const n=t.filters.concat([e]);return new Jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yb(t,e,n){return new Jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gv(t,e){return iS(Eo(t),Eo(e))&&t.limitType===e.limitType}function eV(t){return`${rS(Eo(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XL(i)).join(", ")}]`),dv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xh(i)).join(",")),`Target(${r})`}(Eo(t))}; limitType=${t.limitType})`}function yv(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Be.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of fd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=XC(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,fd(r),i)||r.endAt&&!function(o,a,l){const u=XC(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,fd(r),i))}(t,e)}function cee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tV(t){return(e,n)=>{let r=!1;for(const i of fd(t)){const s=hee(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hee(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?bh(l,u):qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return VL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee=new gn(Be.comparator);function _a(){return fee}const nV=new gn(Be.comparator);function Wf(...t){let e=nV;for(const n of t)e=e.insert(n.key,n);return e}function rV(t){let e=nV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fu(){return dd()}function iV(){return dd()}function dd(){return new Ku(t=>t.toString(),(t,e)=>t.isEqual(e))}const dee=new gn(Be.comparator),pee=new Xn(Be.comparator);function wt(...t){let e=pee;for(const n of t)e=e.add(n);return e}const mee=new Xn(it);function gee(){return mee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X0(e)?"-0":e}}function sV(t){return{integerValue:""+t}}function yee(t,e){return HZ(e)?sV(e):sS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this._=void 0}}function vee(t,e,n){return t instanceof op?function(i,s){const o={fields:{[zL]:{stringValue:BL},[UL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tS(s)&&(s=pv(s)),s&&(o.fields[jL]=s),{mapValue:o}}(n,e):t instanceof ap?aV(t,e):t instanceof lp?lV(t,e):function(i,s){const o=oV(i,s),a=tI(o)+tI(i.Ie);return db(o)&&db(i.Ie)?sV(a):sS(i.serializer,a)}(t,e)}function wee(t,e,n){return t instanceof ap?aV(t,e):t instanceof lp?lV(t,e):n}function oV(t,e){return t instanceof ty?function(r){return db(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class op extends vv{}class ap extends vv{constructor(e){super(),this.elements=e}}function aV(t,e){const n=uV(e);for(const r of t.elements)n.some(i=>No(i,r))||n.push(r);return{arrayValue:{values:n}}}class lp extends vv{constructor(e){super(),this.elements=e}}function lV(t,e){let n=uV(e);for(const r of t.elements)n=n.filter(i=>!No(i,r));return{arrayValue:{values:n}}}class ty extends vv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function tI(t){return Pn(t.integerValue||t.doubleValue)}function uV(t){return nS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e,n){this.field=e,this.transform=n}}function bee(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ap&&i instanceof ap||r instanceof lp&&i instanceof lp?_h(r.elements,i.elements,No):r instanceof ty&&i instanceof ty?No(r.Ie,i.Ie):r instanceof op&&i instanceof op}(t.transform,e.transform)}class xee{constructor(e,n){this.version=e,this.transformResults=n}}class Bs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bs}static exists(e){return new Bs(void 0,e)}static updateTime(e){return new Bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ug(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wv{}function cV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oS(t.key,Bs.none()):new jp(t.key,t.data,Bs.none());{const n=t.data,r=rs.empty();let i=new Xn(gr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qu(t.key,r,new Ms(i.toArray()),Bs.none())}}function Eee(t,e,n){t instanceof jp?function(i,s,o){const a=i.value.clone(),l=rI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qu?function(i,s,o){if(!Ug(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=rI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(hV(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pd(t,e,n,r){return t instanceof jp?function(s,o,a,l){if(!Ug(s.precondition,o))return a;const u=s.value.clone(),c=iI(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qu?function(s,o,a,l){if(!Ug(s.precondition,o))return a;const u=iI(s.fieldTransforms,l,o),c=o.data;return c.setAll(hV(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ug(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function See(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oV(r.transform,i||null);s!=null&&(n===null&&(n=rs.empty()),n.set(r.field,s))}return n||null}function nI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_h(r,i,(s,o)=>bee(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jp extends wv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qu extends wv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rI(t,e,n){const r=new Map;Ht(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wee(o,a,n[i]))}return r}function iI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vee(s,o,e))}return r}class oS extends wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aee extends wv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Eee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=cV(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wt())}isEqual(e){return this.batchId===e.batchId&&_h(this.mutations,e.mutations,(n,r)=>nI(n,r))&&_h(this.baseMutations,e.baseMutations,(n,r)=>nI(n,r))}}class aS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ht(e.mutations.length===r.length);let i=function(){return dee}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new aS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,Ct;function Iee(t){switch(t){case se.OK:return qe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return qe()}}function fV(t){if(t===void 0)return wa("GRPC error has no .code"),se.UNKNOWN;switch(t){case Nn.OK:return se.OK;case Nn.CANCELLED:return se.CANCELLED;case Nn.UNKNOWN:return se.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return se.INTERNAL;case Nn.UNAVAILABLE:return se.UNAVAILABLE;case Nn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Nn.NOT_FOUND:return se.NOT_FOUND;case Nn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Nn.ABORTED:return se.ABORTED;case Nn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Nn.DATA_LOSS:return se.DATA_LOSS;default:return qe()}}(Ct=Nn||(Nn={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=new gl([4294967295,4294967295],0);function sI(t){const e=NL().encode(t),n=new TL;return n.update(e),new Uint8Array(n.digest())}function oI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gl([n,r],0),new gl([i,s],0)]}class lS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kf(`Invalid padding: ${n}`);if(r<0)throw new Kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kf(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=gl.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(gl.fromNumber(r)));return i.compare(Ree)===1&&(i=new gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=sI(e),[r,i]=oI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new lS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=sI(e),[r,i]=oI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Up.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _v(Ye.min(),i,new gn(it),_a(),wt())}}class Up{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Up(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class dV{constructor(e,n){this.targetId=e,this.ge=n}}class pV{constructor(e,n,r=Er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aI{constructor(){this.pe=0,this.ye=lI(),this.we=Er.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=wt(),n=wt(),r=wt();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new Up(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=lI()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kee{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_a(),this.$e=Um(),this.Ue=Um(),this.Ke=new gn(it)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(mb(s))if(r===0){const o=new Be(s.path);this.ze(n,o,Fr.newNoDocument(o,Ye.min()))}else Ht(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Sl(r).toUint8Array()}catch(l){if(l instanceof FL)return wh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lS(o,i,s)}catch(l){return wh(l instanceof Kf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&mb(a.target)){const l=new Be(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Fr.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=wt();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new _v(e,n,this.Ke,this.Qe,r);return this.Qe=_a(),this.$e=Um(),this.Ue=Um(),this.Ke=new gn(it),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new aI,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Xn(it),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xn(it),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new aI),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Um(){return new gn(Be.comparator)}function lI(){return new gn(Be.comparator)}const Mee=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Oee=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Nee=(()=>({and:"AND",or:"OR"}))();class Dee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vb(t,e){return t.useProto3Json||dv(e)?e:{value:e}}function ny(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lee(t,e){return ny(t,e.toTimestamp())}function So(t){return Ht(!!t),Ye.fromTimestamp(function(n){const r=El(n);return new Yn(r.seconds,r.nanos)}(t))}function uS(t,e){return wb(t,e).canonicalString()}function wb(t,e){const n=function(i){return new nn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gV(t){const e=nn.fromString(t);return Ht(bV(e)),e}function _b(t,e){return uS(t.databaseId,e.path)}function J1(t,e){const n=gV(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(vV(n))}function yV(t,e){return uS(t.databaseId,e)}function Vee(t){const e=gV(t);return e.length===4?nn.emptyPath():vV(e)}function bb(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vV(t){return Ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uI(t,e,n){return{name:_b(t,e),fields:n.value.mapValue.fields}}function Fee(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ht(c===void 0||typeof c=="string"),Er.fromBase64String(c||"")):(Ht(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Er.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?se.UNKNOWN:fV(u.code);return new Me(c,u.message||"")}(o);n=new pV(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=J1(t,r.document.name),s=So(r.document.updateTime),o=r.document.createTime?So(r.document.createTime):Ye.min(),a=new rs({mapValue:{fields:r.document.fields}}),l=Fr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new $g(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=J1(t,r.document),s=r.readTime?So(r.readTime):Ye.min(),o=Fr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $g([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=J1(t,r.document),s=r.removedTargetIds||[];n=new $g([],s,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Cee(i,s),a=r.targetId;n=new dV(a,o)}}return n}function Bee(t,e){let n;if(e instanceof jp)n={update:uI(t,e.key,e.value)};else if(e instanceof oS)n={delete:_b(t,e.key)};else if(e instanceof Qu)n={update:uI(t,e.key,e.data),updateMask:Kee(e.fieldMask)};else{if(!(e instanceof Aee))return qe();n={verify:_b(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof op)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ap)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ty)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Lee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:qe()}(t,e.precondition)),n}function zee(t,e){return t&&t.length>0?(Ht(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?So(i.updateTime):So(s);return o.isEqual(Ye.min())&&(o=So(s)),new xee(o,i.transformResults||[])}(n,e))):[]}function jee(t,e){return{documents:[yV(t,e.path)]}}function Uee(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yV(t,i);const s=function(u){if(u.length!==0)return _V(Hs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:fc(f.field),direction:Hee(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=vb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function $ee(t){let e=Vee(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ht(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=wV(h);return f instanceof Hs&&QL(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new sp(dc(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,dv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new ey(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new ey(p,f)}(n.endAt)),lee(e,i,o,s,a,"F",l,u)}function Gee(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wV(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dc(n.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dc(n.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=dc(n.unaryFilter.field);return zn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=dc(n.unaryFilter.field);return zn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):t.fieldFilter!==void 0?function(n){return zn.create(dc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hs.create(n.compositeFilter.filters.map(r=>wV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(n.compositeFilter.op))}(t):qe()}function Hee(t){return Mee[t]}function qee(t){return Oee[t]}function Wee(t){return Nee[t]}function fc(t){return{fieldPath:t.canonicalString()}}function dc(t){return gr.fromServerFormat(t.fieldPath)}function _V(t){return t instanceof zn?function(n){if(n.op==="=="){if(YC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if(QC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if(QC(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:qee(n.op),value:n.value}}}(t):t instanceof Hs?function(n){const r=n.getFilters().map(i=>_V(i));return r.length===1?r[0]:{compositeFilter:{op:Wee(n.op),filters:r}}}(t):qe()}function Kee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r,i,s=Ye.min(),o=Ye.min(),a=Er.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e){this.Tt=e}}function Yee(t){const e=$ee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(){this.Tn=new Jee}addToCollectionParentIndex(e,n){return this.Tn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(xl.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(xl.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class Jee{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xn(nn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xV=41943040;class ai{static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(xV,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Eh(0)}static Kn(){return new Eh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="LruGarbageCollector",Zee=1048576;function fI([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class ete{constructor(e){this.Hn=e,this.buffer=new Xn(fI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tte{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(hI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xh(n)?ke(hI,"Ignoring IndexedDB error during garbage collection: ",n):await Yh(n)}await this.er(3e5)})}}class nte{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(fv.ae);const r=new ete(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(cI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cI):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),cc()<=vt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function rte(t,e){return new nte(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(){this.changes=new Ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pd(r.mutation,i,Ms.empty(),Yn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,wt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=wt()){const i=fu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,wt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=_a();const o=dd(),a=function(){return dd()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qu)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),pd(c.mutation,u,c.mutation.getFieldMask(),Yn.now())):o.set(u.key,Ms.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new ste(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dd();let i=new gn((o,a)=>o-a),s=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ms.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||wt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=iV();c.forEach(f=>{if(!s.has(f)){const p=cV(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):oe.resolve(fu());let a=tp,l=s;return o.next(u=>oe.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?oe.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,wt())).next(c=>({batchId:a,changes:rV(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let i=Wf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wf();return this.indexManager.getCollectionParents(e,s).next(a=>oe.forEach(a,l=>{const u=function(h,f){return new Jh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Fr.newInvalidDocument(c)))});let a=Wf();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&pd(c.mutation,u,Ms.empty(),Yn.now()),yv(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return oe.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:So(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:Yee(i.bundledQuery),readTime:So(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(){this.overlays=new gn(Be.comparator),this.Rr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fu();return oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=fu(),s=n.length+1,o=new Be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=fu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=fu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return oe.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Tee(n,r));let s=this.Rr.get(n);s===void 0&&(s=wt(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.Vr=new Xn(tr.mr),this.gr=new Xn(tr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new tr(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new tr(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Be(new nn([])),r=new tr(n,e),i=new tr(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Be(new nn([])),r=new tr(n,e),i=new tr(n,e+1);let s=wt();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tr(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tr{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Be.comparator(e.key,n.key)||it(e.Cr,n.Cr)}static pr(e,n){return it(e.Cr,n.Cr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xn(tr.mr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Pee(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new tr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,n){return oe.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?eS:this.Fr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tr(n,0),i=new tr(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(it);return n.forEach(i=>{const s=new tr(i,0),o=new tr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),oe.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Be.isDocumentKey(s)||(s=s.child(""));const o=new tr(new Be(s),0);let a=new Xn(it);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},o),oe.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ht(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return oe.forEach(n.mutations,i=>{const s=new tr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new tr(n,0),i=this.Mr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e){this.kr=e,this.docs=function(){return new gn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Fr.newInvalidDocument(n))}getEntries(e,n){let r=_a();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fr.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_a();const o=n.path,a=new Be(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||jZ(zZ(c),r)<=0||(i.has(c.key)||yv(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){qe()}qr(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fte(this)}getSize(e){return oe.resolve(this.size)}}class fte extends ite{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e){this.persistence=e,this.Qr=new Ku(n=>rS(n),iS),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.$r=0,this.Ur=new cS,this.targetCount=0,this.Kr=Eh.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),oe.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Eh(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.zn(n),oe.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new fv(0),this.zr=!1,this.zr=!0,this.jr=new ute,this.referenceDelegate=e(this),this.Hr=new dte(this),this.indexManager=new Xee,this.remoteDocumentCache=function(i){return new hte(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Qee(n),this.Yr=new ate(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lte,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new cte(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new pte(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return oe.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class pte extends $Z{constructor(e){super(),this.currentSequenceNumber=e}}class hS{constructor(e){this.persistence=e,this.ti=new cS,this.ni=null}static ri(e){return new hS(e)}get ii(){if(this.ni)return this.ni;throw qe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),oe.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.ii,r=>{const i=Be.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,Ye.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return oe.or([()=>oe.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ry{constructor(e,n){this.persistence=e,this.oi=new Ku(r=>qZ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=rte(this,n)}static ri(e,n){return new ry(e,n)}Zr(){}Xr(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return oe.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?oe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Ye.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),oe.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zg(e.data.value)),n}ar(e,n,r){return oe.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=wt(),i=wt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return YQ()?8:GZ($r())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new mte;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(cc()<=vt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),oe.resolve()):(cc()<=vt.DEBUG&&ke("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(cc()<=vt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Eo(n))):oe.resolve())}rs(e,n){if(eI(n))return oe.resolve(null);let r=Eo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yb(n,null,"F"),r=Eo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=wt(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,yb(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,i){return eI(n)||i.isEqual(Ye.min())?oe.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?oe.resolve(null):(cc()<=vt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.hs(e,o,n,BZ(i,tp)).next(a=>a))})}cs(e,n){let r=new Xn(tV(e));return n.forEach((i,s)=>{yv(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return cc()<=vt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",hc(n)),this.ns.getDocumentsMatchingQuery(e,n,xl.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="LocalStore",yte=3e8;class vte{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new gn(it),this.Is=new Ku(s=>rS(s),iS),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ote(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function wte(t,e,n,r){return new vte(t,e,n,r)}async function SV(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=wt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function _te(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=oe.resolve();return f.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(w=>{const x=u.docVersions.get(m);Ht(x!==null),w.version.compareTo(x)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=wt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AV(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function bte(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Hr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Er.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(w,x,v){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=yte?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,c)&&a.push(n.Hr.updateTargetData(s,p))});let l=_a(),u=wt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(xte(s,o,e.documentUpdates).next(c=>{l=c.Vs,u=c.fs})),!r.isEqual(Ye.min())){const c=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ts=i,s))}function xte(t,e,n){let r=wt(),i=wt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_a();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ke(dS,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function Ete(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=eS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ste(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new tl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function xb(t,e,n){const r=Ze(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xh(o))throw o;ke(dS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function dI(t,e,n){const r=Ze(t);let i=Ye.min(),s=wt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=Ze(l),f=h.Is.get(c);return f!==void 0?oe.resolve(h.Ts.get(f)):h.Hr.getTargetData(u,c)}(r,o,Eo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:Ye.min(),n?s:wt())).next(a=>(Ate(r,cee(e),a),{documents:a,gs:s})))}function Ate(t,e,n){let r=t.Es.get(e)||Ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class pI{constructor(){this.activeTargetIds=gee()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pte{constructor(){this.ho=new pI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new pI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="ConnectivityMonitor";class gI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(mI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(mI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m=null;function Eb(){return $m===null?$m=function(){return 268435456+Math.round(2147483648*Math.random())}():$m++,"0x"+$m.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="RestConnection",Cte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ite{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===J0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=Eb(),a=this.bo(e,n.toUriEncodedString());ke(Z1,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(u=>(ke(Z1,`Received RPC '${e}' ${o}: `,u),u),u=>{throw wh(Z1,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=Cte[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="WebChannelConnection";class kte extends Ite{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Eb();return new Promise((o,a)=>{const l=new CL;l.setWithCredentials(!0),l.listenOnce(IL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bg.NO_ERROR:const c=l.getResponseJson();ke(Mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Bg.TIMEOUT:ke(Mr,`RPC '${e}' ${s} timed out`),a(new Me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Bg.HTTP_ERROR:const h=l.getStatus();if(ke(Mr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(v)>=0?v:se.UNKNOWN}(p.status);a(new Me(m,p.message))}else a(new Me(se.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Me(se.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{ke(Mr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ke(Mr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const i=Eb(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ML(),a=kL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ke(Mr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const m=new Rte({Fo:x=>{p?ke(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(ke(Mr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ke(Mr,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Mo:()=>h.close()}),w=(x,v,S)=>{x.listen(v,A=>{try{S(A)}catch(M){setTimeout(()=>{throw M},0)}})};return w(h,qf.EventType.OPEN,()=>{p||(ke(Mr,`RPC '${e}' stream ${i} transport opened.`),m.Qo())}),w(h,qf.EventType.CLOSE,()=>{p||(p=!0,ke(Mr,`RPC '${e}' stream ${i} transport closed`),m.Uo())}),w(h,qf.EventType.ERROR,x=>{p||(p=!0,wh(Mr,`RPC '${e}' stream ${i} transport errored:`,x),m.Uo(new Me(se.UNAVAILABLE,"The operation could not be completed")))}),w(h,qf.EventType.MESSAGE,x=>{var v;if(!p){const S=x.data[0];Ht(!!S);const A=S,M=(A==null?void 0:A.error)||((v=A[0])===null||v===void 0?void 0:v.error);if(M){ke(Mr,`RPC '${e}' stream ${i} received error:`,M);const U=M.status;let N=function(L){const z=Nn[L];if(z!==void 0)return fV(z)}(U),D=M.message;N===void 0&&(N=se.INTERNAL,D="Unknown error status: "+U+" with message "+M.message),p=!0,m.Uo(new Me(N,D)),h.close()}else ke(Mr,`RPC '${e}' stream ${i} received:`,S),m.Ko(S)}}),w(a,RL.STAT_EVENT,x=>{x.stat===cb.PROXY?ke(Mr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===cb.NOPROXY&&ke(Mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.$o()},0),m}}function ew(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t){return new Dee(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="PersistentStream";class TV{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PV(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(wa(n.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Me(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(yI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ke(yI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mte extends TV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Fee(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ye.min():o.readTime?So(o.readTime):Ye.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=bb(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=mb(l)?{documents:jee(s,l)}:{query:Uee(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mV(s,o.resumeToken);const u=vb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ye.min())>0){a.readTime=ny(s,o.snapshotVersion.toTimestamp());const u=vb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Gee(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=bb(this.serializer),n.removeTarget=e,this.I_(n)}}class Ote extends TV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=zee(e.writeResults,e.commitTime),r=So(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=bb(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Bee(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{}class Dte extends Nte{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Me(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,wb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(se.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,wb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(se.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Lte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(wa(n),this.N_=!1):ke("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="RemoteStore";class Vte{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Yu(this)&&(ke(Fu,"Restarting streams for network reachability change."),await async function(l){const u=Ze(l);u.W_.add(4),await $p(u),u.j_.set("Unknown"),u.W_.delete(4),await xv(u)}(this))})}),this.j_=new Lte(r,i)}}async function xv(t){if(Yu(t))for(const e of t.G_)await e(!0)}async function $p(t){for(const e of t.G_)await e(!1)}function CV(t,e){const n=Ze(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),yS(n)?gS(n):Zh(n).c_()&&mS(n,e))}function pS(t,e){const n=Ze(t),r=Zh(n);n.K_.delete(e),r.c_()&&IV(n,e),n.K_.size===0&&(r.c_()?r.P_():Yu(n)&&n.j_.set("Unknown"))}function mS(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zh(t).y_(e)}function IV(t,e){t.H_.Ne(e),Zh(t).w_(e)}function gS(t){t.H_=new kee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Zh(t).start(),t.j_.B_()}function yS(t){return Yu(t)&&!Zh(t).u_()&&t.K_.size>0}function Yu(t){return Ze(t).W_.size===0}function RV(t){t.H_=void 0}async function Fte(t){t.j_.set("Online")}async function Bte(t){t.K_.forEach((e,n)=>{mS(t,e)})}async function zte(t,e){RV(t),yS(t)?(t.j_.q_(e),gS(t)):t.j_.set("Unknown")}async function jte(t,e,n){if(t.j_.set("Online"),e instanceof pV&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){ke(Fu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await iy(t,r)}else if(e instanceof $g?t.H_.We(e):e instanceof dV?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ye.min()))try{const r=await AV(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.K_.get(u);c&&s.K_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.K_.get(l);if(!c)return;s.K_.set(l,c.withResumeToken(Er.EMPTY_BYTE_STRING,c.snapshotVersion)),IV(s,l);const h=new tl(c.target,l,u,c.sequenceNumber);mS(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ke(Fu,"Failed to raise snapshot:",r),await iy(t,r)}}async function iy(t,e,n){if(!Xh(e))throw e;t.W_.add(1),await $p(t),t.j_.set("Offline"),n||(n=()=>AV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(Fu,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await xv(t)})}function kV(t,e){return e().catch(n=>iy(t,n,e))}async function Ev(t){const e=Ze(t),n=Pl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:eS;for(;Ute(e);)try{const i=await Ete(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,$te(e,i)}catch(i){await iy(e,i)}MV(e)&&OV(e)}function Ute(t){return Yu(t)&&t.U_.length<10}function $te(t,e){t.U_.push(e);const n=Pl(t);n.c_()&&n.S_&&n.b_(e.mutations)}function MV(t){return Yu(t)&&!Pl(t).u_()&&t.U_.length>0}function OV(t){Pl(t).start()}async function Gte(t){Pl(t).C_()}async function Hte(t){const e=Pl(t);for(const n of t.U_)e.b_(n.mutations)}async function qte(t,e,n){const r=t.U_.shift(),i=aS.from(r,e,n);await kV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ev(t)}async function Wte(t,e){e&&Pl(t).S_&&await async function(r,i){if(function(o){return Iee(o)&&o!==se.ABORTED}(i.code)){const s=r.U_.shift();Pl(r).h_(),await kV(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ev(r)}}(t,e),MV(t)&&OV(t)}async function vI(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),ke(Fu,"RemoteStore received new credentials");const r=Yu(n);n.W_.add(3),await $p(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await xv(n)}async function Kte(t,e){const n=Ze(t);e?(n.W_.delete(2),await xv(n)):e||(n.W_.add(2),await $p(n),n.j_.set("Unknown"))}function Zh(t){return t.J_||(t.J_=function(n,r,i){const s=Ze(n);return s.M_(),new Mte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:Fte.bind(null,t),No:Bte.bind(null,t),Lo:zte.bind(null,t),p_:jte.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),yS(t)?gS(t):t.j_.set("Unknown")):(await t.J_.stop(),RV(t))})),t.J_}function Pl(t){return t.Y_||(t.Y_=function(n,r,i){const s=Ze(n);return s.M_(),new Ote(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Gte.bind(null,t),Lo:Wte.bind(null,t),D_:Hte.bind(null,t),v_:qte.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Ev(t)):(await t.Y_.stop(),t.U_.length>0&&(ke(Fu,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new vS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wS(t,e){if(wa("AsyncQueue",`${e}: ${t}`),Xh(t))return new Me(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{static emptySet(e){return new eh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Wf(),this.sortedSet=new gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Z_=new gn(Be.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):qe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sh{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sh(e,n,eh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Yte{constructor(){this.queries=_I(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Ze(n),s=i.queries;i.queries=_I(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Me(se.ABORTED,"Firestore shutting down"))}}function _I(){return new Ku(t=>eV(t),gv)}async function _S(t,e){const n=Ze(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new Qte,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=wS(o,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&xS(n)}async function bS(t,e){const n=Ze(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xte(t,e){const n=Ze(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&xS(n)}function Jte(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function xS(t){t.ia.forEach(e=>{e.next()})}var Sb,bI;(bI=Sb||(Sb={}))._a="default",bI.Cache="cache";class ES{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.key=e}}class DV{constructor(e){this.key=e}}class Zte{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=wt(),this.mutatedKeys=wt(),this.ya=tV(e),this.wa=new eh(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new wI,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=yv(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?m!==w&&(r.track({type:3,doc:p}),x=!0):this.va(f,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ya(p,l)>0||u&&this.ya(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),x=!0):f&&!p&&(r.track({type:1,doc:f}),x=!0,(l||u)&&(a=!0)),x&&(p?(o=o.add(p),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((c,h)=>function(p,m){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return w(p)-w(m)}(c.type,h.type)||this.ya(c.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new Sh(this.query,e.wa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new wI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=wt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new DV(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new NV(r))}),n}Oa(e){this.fa=e.gs,this.pa=wt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Sh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const SS="SyncEngine";class ene{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tne{constructor(e){this.key=e,this.Ba=!1}}class nne{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ku(a=>eV(a),gv),this.qa=new Map,this.Qa=new Set,this.$a=new gn(Be.comparator),this.Ua=new Map,this.Ka=new cS,this.Wa={},this.Ga=new Map,this.za=Eh.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function rne(t,e,n=!0){const r=jV(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await LV(r,e,n,!0),i}async function ine(t,e){const n=jV(t);await LV(n,e,!0,!1)}async function LV(t,e,n,r){const i=await Ste(t.localStore,Eo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await sne(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&CV(t.remoteStore,i),a}async function sne(t,e,n,r,i){t.Ha=(h,f,p)=>async function(w,x,v,S){let A=x.view.ba(v);A.ls&&(A=await dI(w.localStore,x.query,!1).then(({documents:D})=>x.view.ba(D,A)));const M=S&&S.targetChanges.get(x.targetId),U=S&&S.targetMismatches.get(x.targetId)!=null,N=x.view.applyChanges(A,w.isPrimaryClient,M,U);return EI(w,x.targetId,N.Ma),N.snapshot}(t,h,f,p);const s=await dI(t.localStore,e,!0),o=new Zte(e,s.gs),a=o.ba(s.documents),l=Up.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);EI(t,n,u.Ma);const c=new ene(e,n,o);return t.ka.set(e,c),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function one(t,e,n){const r=Ze(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!gv(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pS(r.remoteStore,i.targetId),Ab(r,i.targetId)}).catch(Yh)):(Ab(r,i.targetId),await xb(r.localStore,i.targetId,!0))}async function ane(t,e){const n=Ze(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pS(n.remoteStore,r.targetId))}async function lne(t,e,n){const r=mne(t);try{const i=await function(o,a){const l=Ze(o),u=Yn.now(),c=a.reduce((p,m)=>p.add(m.key),wt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=_a(),w=wt();return l.ds.getEntries(p,c).next(x=>{m=x,m.forEach((v,S)=>{S.isValidDocument()||(w=w.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{h=x;const v=[];for(const S of a){const A=See(S,h.get(S.key).overlayedDocument);A!=null&&v.push(new Qu(S.key,A,qL(A.value.mapValue),Bs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(x=>{f=x;const v=x.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(p,x.batchId,v)})}).then(()=>({batchId:f.batchId,changes:rV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new gn(it)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Gp(r,i.changes),await Ev(r.remoteStore)}catch(i){const s=wS(i,"Failed to persist write");n.reject(s)}}async function VV(t,e){const n=Ze(t);try{const r=await bte(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&(Ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Ht(o.Ba):i.removedDocuments.size>0&&(Ht(o.Ba),o.Ba=!1))}),await Gp(n,r,e)}catch(r){await Yh(r)}}function xI(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ze(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.ta)f.sa(a)&&(u=!0)}),u&&xS(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function une(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new gn(Be.comparator);o=o.insert(s,Fr.newNoDocument(s,Ye.min()));const a=wt().add(s),l=new _v(Ye.min(),new Map,new gn(it),o,a);await VV(r,l),r.$a=r.$a.remove(s),r.Ua.delete(e),AS(r)}else await xb(r.localStore,e,!1).then(()=>Ab(r,e,n)).catch(Yh)}async function cne(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await _te(n.localStore,e);BV(n,r,null),FV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gp(n,i)}catch(i){await Yh(i)}}async function hne(t,e,n){const r=Ze(t);try{const i=await function(o,a){const l=Ze(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ht(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);BV(r,e,n),FV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gp(r,i)}catch(i){await Yh(i)}}function FV(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function BV(t,e,n){const r=Ze(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Ab(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||zV(t,r)})}function zV(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(pS(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),AS(t))}function EI(t,e,n){for(const r of n)r instanceof NV?(t.Ka.addReference(r.key,e),fne(t,r)):r instanceof DV?(ke(SS,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||zV(t,r.key)):qe()}function fne(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ke(SS,"New document in limbo: "+n),t.Qa.add(r),AS(t))}function AS(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Be(nn.fromString(e)),r=t.za.next();t.Ua.set(r,new tne(n)),t.$a=t.$a.insert(n,r),CV(t.remoteStore,new tl(Eo(mv(n.path)),r,"TargetPurposeLimboResolution",fv.ae))}}async function Gp(t,e,n){const r=Ze(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=fS.Yi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,u){const c=Ze(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>oe.forEach(u,f=>oe.forEach(f.Hi,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>oe.forEach(f.Ji,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Xh(h))throw h;ke(dS,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.Ts.get(f),m=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(m);c.Ts=c.Ts.insert(f,w)}}}(r.localStore,s))}async function dne(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){ke(SS,"User change. New user:",e.toKey());const r=await SV(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Me(se.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gp(n,r.Rs)}}function pne(t,e){const n=Ze(t),r=n.Ua.get(e);if(r&&r.Ba)return wt().add(r.key);{let i=wt();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function jV(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=une.bind(null,e),e.La.p_=Xte.bind(null,e.eventManager),e.La.Ja=Jte.bind(null,e.eventManager),e}function mne(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hne.bind(null,e),e}class sy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bv(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return wte(this.persistence,new gte,e.initialUser,this.serializer)}Xa(e){return new EV(hS.ri,this.serializer)}Za(e){return new Pte}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sy.provider={build:()=>new sy};class gne extends sy{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ht(this.persistence.referenceDelegate instanceof ry);const r=this.persistence.referenceDelegate.garbageCollector;return new tte(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new EV(r=>ry.ri(r,n),this.serializer)}}class Pb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dne.bind(null,this.syncEngine),await Kte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yte}()}createDatastore(e){const n=bv(e.databaseInfo.databaseId),r=function(s){return new kte(s)}(e.databaseInfo);return function(s,o,a,l){return new Dte(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Vte(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xI(this.syncEngine,n,0),function(){return gI.D()?new gI:new Tte}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new nne(i,s,o,a,l,u);return c&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ze(i);ke(Fu,"RemoteStore shutting down."),s.W_.add(5),await $p(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pb.provider={build:()=>new Pb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="FirestoreClient";class yne{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nr.UNAUTHENTICATED,this.clientId=DL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ke(Tl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ke(Tl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tw(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Tl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vne(t);ke(Tl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vI(e.remoteStore,i)),t._onlineComponents=e}async function vne(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Tl,"Using user provided OfflineComponentProvider");try{await tw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wh("Error using user provided cache. Falling back to memory cache: "+n),await tw(t,new sy)}}else ke(Tl,"Using default OfflineComponentProvider"),await tw(t,new gne(void 0));return t._offlineComponents}async function UV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Tl,"Using user provided OnlineComponentProvider"),await SI(t,t._uninitializedComponentsProvider._online)):(ke(Tl,"Using default OnlineComponentProvider"),await SI(t,new Pb))),t._onlineComponents}function wne(t){return UV(t).then(e=>e.syncEngine)}async function oy(t){const e=await UV(t),n=e.eventManager;return n.onListen=rne.bind(null,e.syncEngine),n.onUnlisten=one.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ine.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ane.bind(null,e.syncEngine),n}function _ne(t,e,n={}){const r=new la;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new PS({next:f=>{c.su(),o.enqueueAndForget(()=>bS(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new ES(mv(a.path),c,{includeMetadataChanges:!0,Ta:!0});return _S(s,h)}(await oy(t),t.asyncQueue,e,n,r)),r.promise}function bne(t,e,n={}){const r=new la;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new PS({next:f=>{c.su(),o.enqueueAndForget(()=>bS(s,h)),f.fromCache&&l.source==="server"?u.reject(new Me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new ES(a,c,{includeMetadataChanges:!0,Ta:!0});return _S(s,h)}(await oy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t,e,n){if(!n)throw new Me(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xne(t,e,n,r){if(e===!0&&r===!0)throw new Me(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PI(t){if(!Be.isDocumentKey(t))throw new Me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TI(t){if(Be.isDocumentKey(t))throw new Me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function as(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sv(t);throw new Me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="firestore.googleapis.com",CI=!0;class II{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HV,this.ssl=CI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:CI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zee)throw new Me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xne("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$V((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Av{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new II({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new II(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RZ;switch(r.type){case"firstParty":return new NZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AI.get(n);r&&(ke("ComponentProvider","Removing Datastore"),AI.delete(n),r.terminate())}(this),Promise.resolve()}}function Ene(t,e,n,r={}){var i;const s=(t=as(t,Av))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==HV&&s.host!==a&&wh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Ou(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Nr.MOCK_USER;else{u=$Q(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Nr(h)}t._authCredentials=new kZ(new OL(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bl(this.firestore,e,this._query)}}class Yr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class yl extends Bl{constructor(e,n,r){super(e,n,mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new Be(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Ah(t,e,...n){if(t=Jr(t),GV("collection","path",e),t instanceof Av){const r=nn.fromString(e,...n);return TI(r),new yl(t,null,r)}{if(!(t instanceof Yr||t instanceof yl))throw new Me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return TI(r),new yl(t.firestore,null,r)}}function zl(t,e,...n){if(t=Jr(t),arguments.length===1&&(e=DL.newId()),GV("doc","path",e),t instanceof Av){const r=nn.fromString(e,...n);return PI(r),new Yr(t,null,new Be(r))}{if(!(t instanceof Yr||t instanceof yl))throw new Me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return PI(r),new Yr(t.firestore,t instanceof yl?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="AsyncQueue";class kI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PV(this,"async_queue_retry"),this.Su=()=>{const r=ew();r&&ke(RI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=ew();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ew();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new la;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xh(e))throw e;ke(RI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=vS.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&qe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function MI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Cl extends Av{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kI(e),this._firestoreClient=void 0,await e}}}function Sne(t,e){const n=typeof t=="object"?t:G5(),r=typeof t=="string"?t:e||J0,i=$E(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jQ("firestore");s&&Ene(i,...s)}return i}function Pv(t){if(t._terminated)throw new Me(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ane(t),t._firestoreClient}function Ane(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new QZ(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,$V(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new yne(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ph(Er.fromBase64String(e))}catch(n){throw new Me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ph(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pne=/^__.*__$/;class Tne{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qu(e,this.data,this.fieldMask,n,this.fieldTransforms):new jp(e,this.data,n,this.fieldTransforms)}}function qV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class kS{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ay(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qV(this.Lu)&&Pne.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Cne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bv(e)}ju(e,n,r,i=!1){return new kS({Lu:e,methodName:n,zu:r,path:gr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MS(t){const e=t._freezeSettings(),n=bv(t._databaseId);return new Cne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WV(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);YV("Data must be an object, but it was:",o,r);const a=KV(r,o);let l,u;if(s.merge)l=new Ms(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Rne(e,h,n);if(!o.contains(f))throw new Me(se.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Mne(c,f)||c.push(f)}l=new Ms(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new Tne(new rs(a),l,u)}class OS extends CS{_toFieldTransform(e){return new _ee(e.path,new op)}isEqual(e){return e instanceof OS}}function Ine(t,e,n,r=!1){return NS(n,t.ju(r?4:3,e))}function NS(t,e){if(QV(t=Jr(t)))return YV("Unsupported field value:",e,t),KV(t,e);if(t instanceof CS)return function(r,i){if(!qV(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=NS(a,i.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Jr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yee(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Yn.fromDate(r);return{timestampValue:ny(i.serializer,s)}}if(r instanceof Yn){const s=new Yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ny(i.serializer,s)}}if(r instanceof IS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ph)return{bytesValue:mV(i.serializer,r._byteString)};if(r instanceof Yr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof RS)return function(o,a){return{mapValue:{fields:{[$L]:{stringValue:HL},[Z0]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return sS(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Sv(r)}`)}(t,e)}function KV(t,e){const n={};return VL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wu(t,(r,i)=>{const s=NS(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yn||t instanceof IS||t instanceof Ph||t instanceof Yr||t instanceof CS||t instanceof RS)}function YV(t,e,n){if(!QV(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sv(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Rne(t,e,n){if((e=Jr(e))instanceof TS)return e._internalPath;if(typeof e=="string")return XV(t,e);throw ay("Field path arguments must be of type string or ",t,!1,void 0,n)}const kne=new RegExp("[~\\*/\\[\\]]");function XV(t,e,n){if(e.search(kne)>=0)throw ay(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new TS(...e.split("."))._internalPath}catch{throw ay(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ay(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Me(se.INVALID_ARGUMENT,a+t+l)}function Mne(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new One(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class One extends JV{data(){return super.data()}}function Tv(t,e){return typeof e=="string"?XV(t,e):e instanceof TS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DS{}class e6 extends DS{}function t6(t,e,...n){let r=[];e instanceof DS&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof LS).length,a=s.filter(l=>l instanceof Cv).length;if(o>1||o>0&&a>0)throw new Me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cv extends e6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cv(e,n,r)}_apply(e){const n=this._parse(e);return r6(e._query,n),new Bl(e.firestore,e.converter,gb(e._query,n))}_parse(e){const n=MS(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){NI(h,c);const m=[];for(const w of h)m.push(OI(l,s,w));f={arrayValue:{values:m}}}else f=OI(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||NI(h,c),f=Ine(a,o,h,c==="in"||c==="not-in");return zn.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function n6(t,e,n){const r=e,i=Tv("where",t);return Cv._create(i,r,n)}class LS extends DS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new LS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)r6(o,l),o=gb(o,l)}(e._query,n),new Bl(e.firestore,e.converter,gb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class VS extends e6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new VS(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Me(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Me(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sp(s,o)}(e._query,this._field,this._direction);return new Bl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Jh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Nne(t,e="asc"){const n=e,r=Tv("orderBy",t);return VS._create(r,n)}function OI(t,e,n){if(typeof(n=Jr(n))=="string"){if(n==="")throw new Me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZL(e)&&n.indexOf("/")!==-1)throw new Me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nn.fromString(n));if(!Be.isDocumentKey(r))throw new Me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KC(t,new Be(r))}if(n instanceof Yr)return KC(t,n._key);throw new Me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sv(n)}.`)}function NI(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r6(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Dne{convertValue(e,n="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Z0].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Pn(o.doubleValue));return new RS(s)}convertGeoPoint(e){return new IS(Pn(e.latitude),Pn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(np(e));default:return null}}convertTimestamp(e){const n=El(e);return new Yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);Ht(bV(r));const i=new rp(r.get(1),r.get(3)),s=new Be(r.popFirst(5));return i.isEqual(n)||wa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class s6 extends JV{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gg extends s6{data(e={}){return super.data(e)}}class o6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gg(this._firestore,this._userDataWriter,r.key,r,new Qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Gg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Lne(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){t=as(t,Yr);const e=as(t.firestore,Cl);return _ne(Pv(e),t._key).then(n=>l6(e,t,n))}class FS extends Dne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ph(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,n)}}function BS(t){t=as(t,Bl);const e=as(t.firestore,Cl),n=Pv(e),r=new FS(e);return ZV(t._query),bne(n,t._query).then(i=>new o6(e,r,t,i))}function Vne(t,e,n){t=as(t,Yr);const r=as(t.firestore,Cl),i=i6(t.converter,e,n);return zS(r,[WV(MS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bs.none())])}function Tb(t){return zS(as(t.firestore,Cl),[new oS(t._key,Bs.none())])}function a6(t,e){const n=as(t.firestore,Cl),r=zl(t),i=i6(t.converter,e);return zS(n,[WV(MS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Bs.exists(!1))]).then(()=>r)}function Fne(t,...e){var n,r,i;t=Jr(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||MI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(MI(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Yr)u=as(t.firestore,Cl),c=mv(t._key.path),l={next:h=>{e[o]&&e[o](l6(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=as(t,Bl);u=as(h.firestore,Cl),c=h._query;const f=new FS(u);l={next:p=>{e[o]&&e[o](new o6(u,f,h,p))},error:e[o+1],complete:e[o+2]},ZV(t._query)}return function(f,p,m,w){const x=new PS(w),v=new ES(p,x,m);return f.asyncQueue.enqueueAndForget(async()=>_S(await oy(f),v)),()=>{x.su(),f.asyncQueue.enqueueAndForget(async()=>bS(await oy(f),v))}}(Pv(u),c,a,l)}function zS(t,e){return function(r,i){const s=new la;return r.asyncQueue.enqueueAndForget(async()=>lne(await wne(r),i,s)),s.promise}(Pv(t),e)}function l6(t,e,n){const r=n.docs.get(e._key),i=new FS(t);return new s6(t,i,e._key,r,new Qf(n.hasPendingWrites,n.fromCache),e.converter)}function u6(){return new OS("serverTimestamp")}(function(e,n=!0){(function(i){Qh=i})(Wh),vh(new Nu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Cl(new MZ(r.getProvider("auth-internal")),new DZ(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rp(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ml(LC,VC,e),ml(LC,VC,"esm2017")})();const Bne={apiKey:"AIzaSyBnwwG4C6qHMSHYLh1T1H9d20cC0ALgafI",authDomain:"cripto-facil.firebaseapp.com",projectId:"cripto-facil",storageBucket:"cripto-facil.firebasestorage.app",messagingSenderId:"168895192690",appId:"1:168895192690:web:50fc1e7ec6eeb5a44aeceb"},c6=$5(Bne),Ri=PZ(c6),Di=Sne(c6),zne=async(t,e)=>{try{return(await hJ(Ri,t,e)).user}catch(n){throw n}},jne=async(t,e)=>{try{return(await fJ(Ri,t,e)).user}catch(n){throw n}};function Une(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(""),o=ds(),a=async()=>{try{await jne(t,n),o("/homcompra")}catch{s("Usuario no registrado")}};return b.jsx(b.Fragment,{children:b.jsxs(Fs,{className:"d-flex justify-content-center align-items-center position-relative",style:{minHeight:"100vh",zIndex:1,overflow:"hidden"},children:[b.jsxs("div",{className:"background-animated",children:[b.jsx("div",{className:"wave"}),b.jsx("div",{className:"wave"}),b.jsx("div",{className:"wave"})]}),b.jsxs("div",{className:"logo-wrapper text-center",children:[b.jsx("img",{src:zE,alt:"Logo",className:"logo-animated rounded"}),b.jsx("h2",{className:"mt-4 text-white fw-bolder fst-italic cri-list",children:"Cripto Listo"})]}),b.jsx(xt,{style:{width:"400px",padding:"20px",zIndex:2},className:"glass-card",children:b.jsxs(xt.Body,{children:[b.jsx("h2",{className:"text-center text-white",children:"Login"}),i&&b.jsx(Gd,{variant:"danger",children:i}),b.jsxs(Ke,{children:[b.jsxs(Ke.Group,{children:[b.jsx(Ke.Label,{className:"text-white",children:"Email"}),b.jsx(Ke.Control,{type:"email",value:t,onChange:l=>e(l.target.value)})]}),b.jsxs(Ke.Group,{className:"mt-2",children:[b.jsx(Ke.Label,{className:"text-white",children:"Contrasea"}),b.jsx(Ke.Control,{type:"password",value:n,onChange:l=>r(l.target.value)})]}),b.jsx(ir,{variant:"primary",className:"mt-3 w-100",onClick:a,children:"Iniciar sesin"}),b.jsx(ir,{variant:"success",className:"mt-3 w-100",onClick:()=>o("/register"),children:"Registrarse"})]})]})})]})})}function $ne(){const[t,e]=C.useState({email:"",password:"",confirmPassword:"",name:"",alias:"",birthDate:""}),[n,r]=C.useState(""),i=ds(),s=a=>{const{name:l,value:u}=a.target;e(c=>({...c,[l]:u}))},o=async a=>{if(a.preventDefault(),t.password!==t.confirmPassword){r("Las contraseas no coinciden");return}if(!t.email||!t.password||!t.name||!t.birthDate||!t.alias){r("Todos los campos son obligatorios");return}try{const u=await zne(t.email,t.password);await Vne(zl(Di,"users",u.uid),{name:t.name,alias:t.alias,email:t.email,birthDate:t.birthDate,createdAt:new Date}),i("/homcompra")}catch{r("Este usuario esta registrado")}};return b.jsxs(Fs,{className:"d-flex justify-content-center align-items-center position-relative",style:{minHeight:"100vh",zIndex:1,overflow:"hidden"},children:[b.jsxs("div",{className:"background-animated",children:[b.jsx("div",{className:"wave"}),b.jsx("div",{className:"wave"}),b.jsx("div",{className:"wave"})]}),b.jsx(xt,{style:{width:"500px",zIndex:2},className:"glass-card",children:b.jsxs(xt.Body,{children:[b.jsx("h2",{className:"text-center text-white",children:"Registro"}),n&&b.jsx(Gd,{variant:"danger",children:n}),b.jsxs(Ke,{onSubmit:o,children:[b.jsxs(Ke.Group,{className:"mb-3 text-white",children:[b.jsx(Ke.Label,{children:"Nombre completo*"}),b.jsx(Ke.Control,{type:"text",name:"name",value:t.name,onChange:s,required:!0})]}),b.jsxs(Ke.Group,{className:"mb-3 text-white",children:[b.jsx(Ke.Label,{children:"Alias*"}),b.jsx(Ke.Control,{type:"text",name:"alias",value:t.alias,onChange:s,required:!0})]}),b.jsxs(Ke.Group,{className:"mb-3 text-white",children:[b.jsx(Ke.Label,{children:"Email*"}),b.jsx(Ke.Control,{type:"email",name:"email",value:t.email,onChange:s,required:!0})]}),b.jsxs(Ke.Group,{className:"mb-3 text-white",children:[b.jsx(Ke.Label,{children:"Contrasea*"}),b.jsx(Ke.Control,{type:"password",name:"password",value:t.password,onChange:s,required:!0})]}),b.jsxs(Ke.Group,{className:"mb-3 text-white",children:[b.jsx(Ke.Label,{children:"Confirmar contrasea*"}),b.jsx(Ke.Control,{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:s,required:!0})]}),b.jsxs(Ke.Group,{className:"mb-3 text-white",children:[b.jsx(Ke.Label,{children:"Fecha de nacimiento*"}),b.jsx(Ke.Control,{type:"date",name:"birthDate",value:t.birthDate,onChange:s,required:!0})]}),b.jsx(ir,{variant:"success",type:"submit",className:"w-100 mt-3",children:"Registrarse"}),b.jsx(ir,{variant:"secondary",type:"submit",className:"w-100 mt-3",onClick:()=>i(-1),children:"Volver"})]})]})})]})}const Gne=({onProductAdded:t})=>{const[e,n]=C.useState({name:"",price:"",description:"",imageUrl:"",walletAddress:"",walletType:""}),[r,i]=C.useState("");C.useEffect(()=>{(async()=>{if(Ri.currentUser){const l=await Iv(zl(Di,"users",Ri.currentUser.uid));l.exists()&&i(l.data().alias)}})()},[]);const s=a=>{const{name:l,value:u}=a.target;n(c=>({...c,[l]:u}))},o=async a=>{a.preventDefault();try{if(!e.name||!e.price||!e.description||!e.imageUrl||!e.walletAddress||!e.walletType){alert("Por favor completa todos los campos");return}const l=await a6(Ah(Di,"products"),{name:e.name,price:e.price,description:e.description,imageUrl:e.imageUrl,walletAddress:e.walletAddress,walletType:e.walletType,createdAt:u6(),userId:Ri.currentUser.uid,userAlias:r});t(),n({name:"",price:"",description:"",imageUrl:"",walletAddress:"",walletType:""})}catch(l){console.error("Error adding document: ",l)}};return b.jsx(xt,{className:"mb-4",children:b.jsxs(xt.Body,{children:[b.jsx(xt.Title,{children:"Agregar nuevo producto"}),b.jsxs(Ke,{onSubmit:o,children:[b.jsxs(Ke.Group,{className:"mb-3",children:[b.jsx(Ke.Label,{children:"Nombre del Producto"}),b.jsx(Ke.Control,{type:"text",name:"name",value:e.name||"",onChange:s,required:!0})]}),b.jsxs(Ke.Group,{className:"mb-3",children:[b.jsx(Ke.Label,{children:"Precio (USDT)"}),b.jsx(Ke.Control,{type:"number",name:"price",value:e.price||"",onChange:s,required:!0})]}),b.jsxs(Ke.Group,{className:"mb-3",children:[b.jsx(Ke.Label,{children:"Descripcin"}),b.jsx(Ke.Control,{as:"textarea",rows:3,name:"description",value:e.description||"",onChange:s,required:!0})]}),b.jsxs(Ke.Group,{className:"mb-3",children:[b.jsx(Ke.Label,{children:"URL de la Imagen"}),b.jsx(Ke.Control,{type:"url",name:"imageUrl",value:e.imageUrl||"",onChange:s,required:!0,placeholder:"https://ejemplo.com/imagen.jpg"})]}),b.jsx(xt,{className:"mb-3",children:b.jsxs(xt.Body,{children:[b.jsx(xt.Title,{children:"Informacin de Billetera"}),b.jsxs(Ke.Group,{className:"mb-3",children:[b.jsx(Ke.Label,{children:"Tipo de Billetera"}),b.jsxs(Ke.Select,{name:"walletType",value:e.walletType||"",onChange:s,required:!0,children:[b.jsx("option",{value:"",children:"Seleccione una opcin"}),b.jsx("option",{value:"trust",children:"Trust Wallet"}),b.jsx("option",{value:"metamask",children:"MetaMask"})]})]}),b.jsxs(Ke.Group,{className:"mb-3",children:[b.jsx(Ke.Label,{children:"Direccin de la Billetera"}),b.jsx(Ke.Control,{type:"text",name:"walletAddress",value:e.walletAddress||"",onChange:s,required:!0,placeholder:"0x..."})]})]})}),b.jsx(ir,{variant:"primary",type:"submit",children:"Publicar"})]})]})})};function Hne(t){return Gu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m16 464 480-208L16 48v160l320 48-320 48z"},child:[]}]})(t)}const h6=({productId:t})=>{const[e,n]=C.useState([]),[r,i]=C.useState(""),[s,o]=C.useState(!0),[a,l]=C.useState(null),[u,c]=C.useState("");C.useEffect(()=>{(async()=>{if(Ri.currentUser)try{const p=await Iv(zl(Di,"users",Ri.currentUser.uid));p.exists()&&c(p.data().alias)}catch(p){console.error("Error fetching user alias:",p)}})()},[]),C.useEffect(()=>{if(!t)return;const f=t6(Ah(Di,"comments"),n6("productId","==",t),Nne("createdAt","asc")),p=Fne(f,m=>{const w=m.docs.map(x=>({id:x.id,...x.data()}));n(w),o(!1)},m=>{l("Error al cargar comentarios"),console.error("Error loading comments:",m),o(!1)});return()=>p()},[t]);const h=async f=>{if(f.preventDefault(),!!r.trim()){if(!Ri.currentUser){l("Debes iniciar sesin para comentar");return}try{await a6(Ah(Di,"comments"),{productId:t,text:r.trim(),userId:Ri.currentUser.uid,userAlias:u,createdAt:u6()}),i(""),l(null)}catch(p){l("Error al publicar comentario"),console.error("Error adding comment:",p)}}};return b.jsx(xt,{className:"shadow border-white",style:{backgroundColor:"#fafafa",height:"80vh"},children:b.jsxs(xt.Body,{children:[b.jsx(xt.Title,{children:"Comentarios sobre el producto"}),a&&b.jsx(Gd,{variant:"danger",children:a}),s?b.jsxs("div",{className:"text-center",children:[b.jsx(PE,{animation:"border",size:"sm"})," Cargando comentarios..."]}):b.jsxs(b.Fragment,{children:[b.jsx(od,{className:"mb-3",style:{height:"60vh",overflowY:"auto"},children:e.length===0?b.jsx(od.Item,{className:"text-muted",children:"No hay comentarios an. S el primero en opinar."}):e.map(f=>{var p;return b.jsxs(od.Item,{children:[b.jsxs("div",{className:"d-flex justify-content-between",children:[b.jsx("strong",{children:f.userAlias||"Annimo"}),b.jsx("small",{className:"text-muted",children:(p=f.createdAt)==null?void 0:p.toDate().toLocaleString()})]}),b.jsx("div",{children:f.text})]},f.id)})}),Ri.currentUser?b.jsx(Ke,{onSubmit:h,children:b.jsxs("div",{className:"d-flex gap-2",children:[b.jsx(Ke.Control,{as:"input",value:r,onChange:f=>i(f.target.value),placeholder:"Escribe tu comentario...",required:!0,onKeyDown:f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),h(f))}}),b.jsx(ir,{variant:"primary",type:"submit",children:b.jsx(Hne,{size:20})})]})}):b.jsx(Gd,{variant:"info",children:"Inicia sesin para dejar un comentario"})]})]})})},qne=({products:t,onDelete:e})=>{const[n,r]=C.useState(!1),[i,s]=C.useState(!1),[o,a]=C.useState(null),[l,u]=C.useState(null),c=t.filter(m=>{var w;return m.userId===((w=Ri.currentUser)==null?void 0:w.uid)}),h=m=>{u(m),r(!0)},f=m=>{a(m),s(!0)},p=async()=>{try{await Tb(zl(Di,"products",l));const m=Ah(Di,"comments"),w=t6(m,n6("productId","==",l)),v=(await BS(w)).docs.map(async S=>{await Tb(S.ref)});await Promise.all(v),e(l),r(!1)}catch(m){console.error("Error al eliminar producto y comentarios:",m)}};return b.jsxs(b.Fragment,{children:[b.jsx(xt,{className:"mb-4",children:b.jsxs(xt.Body,{children:[b.jsx(xt.Title,{children:"Productos Publicados"}),c.length===0?b.jsx("p",{children:"No has publicado ningn producto an."}):b.jsx(od,{variant:"flush",children:c.map(m=>{var w;return b.jsx(od.Item,{children:b.jsxs("div",{className:"d-flex",children:[m.imageUrl&&b.jsx("div",{className:"me-3",style:{width:"100px",height:"100px"},children:b.jsx(C$,{src:m.imageUrl,alt:m.name,thumbnail:!0,style:{width:"100%",height:"100%",objectFit:"cover"},onError:x=>{x.target.onerror=null,x.target.src="https://via.placeholder.com/100?text=Imagen+no+disponible"}})}),b.jsx("div",{className:"flex-grow-1",children:b.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[b.jsxs("div",{children:[b.jsx("h5",{children:m.name}),b.jsxs("p",{className:"mb-1",children:["Precio: ",m.price," USDT"]}),b.jsx("p",{className:"mb-1",children:m.description}),b.jsxs("small",{className:"text-muted",children:["Publicado el: ",new Date((w=m.createdAt)==null?void 0:w.toDate()).toLocaleDateString()]})]}),b.jsxs("div",{className:"d-flex flex-column gap-2",children:[b.jsx(ir,{variant:"danger",size:"sm",onClick:()=>h(m.id),children:"Eliminar"}),b.jsx(ir,{variant:"primary",size:"sm",onClick:()=>f(m),children:"Chat"})]})]})})]})},m.id)})})]})}),b.jsxs(Uo,{show:n,onHide:()=>r(!1),children:[b.jsx(Uo.Header,{closeButton:!0,children:b.jsx(Uo.Title,{children:"Confirmar eliminacin"})}),b.jsx(Uo.Body,{children:"Ests seguro que deseas eliminar este producto? Esta accin no se puede deshacer y tambin se eliminarn todos los comentarios asociados."}),b.jsxs(Uo.Footer,{children:[b.jsx(ir,{variant:"secondary",onClick:()=>r(!1),children:"Cancelar"}),b.jsx(ir,{variant:"danger",onClick:p,children:"Eliminar"})]})]}),b.jsxs(Uo,{show:i,onHide:()=>s(!1),size:"lg",dialogClassName:"modal-90vh",children:[b.jsx(Uo.Header,{closeButton:!0,children:b.jsxs(Uo.Title,{className:"text-success",children:[o==null?void 0:o.name," - ",o==null?void 0:o.price," USDT"]})}),b.jsx(Uo.Body,{style:{height:"calc(90vh - 120px)",padding:"0"},children:o&&b.jsx(h6,{productId:o.id})})]})]})},Wne=()=>{const[t,e]=C.useState([]),n=async()=>{const s=(await BS(Ah(Di,"products"))).docs.map(o=>({id:o.id,...o.data()}));e(s)},r=async i=>{try{await Tb(zl(Di,"products",i)),n()}catch(s){console.error("Error al eliminar producto: ",s)}};return C.useEffect(()=>{n()},[]),b.jsxs(b.Fragment,{children:[b.jsx(fl,{}),b.jsx(Fs,{className:"mt-4",children:b.jsxs(dh,{className:"justify-content-center",children:[b.jsx(Vs,{xs:12,md:6,lg:6,className:"mb-4",children:b.jsx(Gne,{onProductAdded:n})}),b.jsx(Vs,{xs:12,md:6,lg:6,className:"mb-4",children:b.jsx(qne,{products:t,onDelete:r})})]})})]})};function Kne({id:t,title:e,price:n,description:r,imageUrl:i}){const s=ds(),o=()=>{if(!t){console.error("ID no definido");return}s(`/detalleprod/${t}`)};return b.jsxs(xt,{style:{cursor:"pointer"},onClick:o,className:"border-white card-hoverx h-80 w-100",children:[b.jsx(xt.Img,{variant:"top",src:i,style:{height:"200px",objectFit:"cover"}}),b.jsxs(xt.Body,{children:[b.jsx(xt.Title,{className:"text-truncate",children:e}),b.jsxs(xt.Subtitle,{className:"text-success",children:[n," USDT"]})]})]})}const Qne=({images:t})=>{const[e,n]=C.useState(0);C.useEffect(()=>{const a=()=>{const l=window.scrollY;n(l)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const r=600,i=Math.max(1-2*e/r,0),o={transform:`scale(${Math.max(1-e/(2*r),.85)})`,opacity:i};return!t||t.length===0?null:b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"mural-container mb-4 fixed-top z-0",style:o,children:b.jsx(E1,{fade:!0,controls:!1,indicators:!0,interval:3e3,pause:!1,children:t.map((a,l)=>b.jsxs(E1.Item,{children:[b.jsx("img",{className:"d-block mural-img",src:a.url,alt:`Imagen ${l+1}`}),a.caption&&b.jsx(E1.Caption,{className:"mural-caption",children:b.jsx("h5",{children:a.caption})})]},l))})}),b.jsx("div",{className:"mural-space"})]})},Yne=()=>{const t=[{url:"https://wallpapersok.com/images/hd/5120x1440-game-horizon-zero-dawn-xx9iu2fea7jwr30z.jpg",caption:"Cripto Games"},{url:"https://wallpapersok.com/images/hd/5120x1440-game-xenoblade-chronicles-2-jx14c9g4vbnnt1v3.jpg",caption:"Ofertas del mes"},{url:"https://wallpapers.com/images/hd/open-world-game-1328-x-746-wallpaper-l7kf2dg2vm6yi7yp.jpg",caption:"Nuevos Lanzamientos"}],[e,n]=C.useState([]),r=async()=>{const s=(await BS(Ah(Di,"products"))).docs.map(o=>({id:o.id,...o.data()}));n(s)};return C.useEffect(()=>{r()},[]),b.jsxs(b.Fragment,{children:[b.jsx(fl,{}),b.jsx(Qne,{images:t}),b.jsx(Fs,{fluid:!0,className:"my-2 px-sm-3",children:b.jsxs(dh,{className:"justify-content-center",children:[" ",b.jsx(Vs,{xs:12,className:"mb-5",children:b.jsxs(dh,{className:"g-1 g-sm-2 g-lg-3",children:[" ",e.length>0?e.map(i=>b.jsx(Vs,{xs:6,sm:6,lg:4,xl:2,className:"d-flex",children:b.jsxs("div",{className:"w-100 h-100",children:[" ",b.jsx(Kne,{id:i.id,title:i.name,price:i.price,description:i.description,imageUrl:i.imageUrl,className:""},i.id)]})},i.id)):b.jsx(Vs,{xs:12,className:"text-center my-5 py-5",children:b.jsx("p",{className:"fs-4 text-muted",children:"No hay productos disponibles"})})]})})]})})]})},Xne=({product:t,formatoWalletAddress:e})=>{const n=ds();return b.jsx(b.Fragment,{children:b.jsx(xt,{className:"shadow border-white",style:{backgroundColor:"#fafafa"},children:b.jsxs(dh,{className:"g-0",children:[b.jsx(Vs,{md:6,children:b.jsx(xt.Img,{src:t.imageUrl,className:"img-fluid rounded",style:{height:"80vh",objectFit:"cover"},onError:r=>{r.target.onerror=null,r.target.src="https://via.placeholder.com/400x300?text=Imagen+no+disponible"}})}),b.jsx(Vs,{md:6,children:b.jsxs(xt.Body,{className:"h-100 d-flex flex-column p-4 rounded",style:{backgroundColor:"#fafafa"},children:[b.jsx(xt.Title,{className:"fs-2 mb-3",style:{color:"#2d3748",fontWeight:"500"},children:t.title}),b.jsxs(xt.Subtitle,{className:"mb-4",style:{color:"#0d9e5f",fontSize:"1.25rem",fontWeight:"500"},children:[t.price," USDT"]}),b.jsxs("div",{className:"mb-4",children:[b.jsxs(xt.Subtitle,{className:"mb-2",style:{color:"#4a5568"},children:[b.jsx("span",{style:{fontWeight:"500"},children:"Vendedor:"})," ",t.alias]}),b.jsxs(xt.Subtitle,{style:{color:"#4a5568"},children:[b.jsx("span",{style:{fontWeight:"500"},children:"Billetera:"}),b.jsx("span",{style:{fontFamily:"monospace",marginLeft:"4px"},children:e(t.billetera)})]})]}),b.jsx(xt.Text,{className:"mb-4",style:{color:"#4a5568",lineHeight:"1.6"},children:t.description}),b.jsxs("div",{className:"d-grid gap-2 mt-auto",children:[b.jsx(ir,{variant:"outline",size:"lg",className:"card-hoverxs border-white-50",onClick:()=>n("/paymeta",{state:{walletAddress:t.billetera,price:t.price}}),style:{color:"#2E1461",backgroundColor:"#eeeeee",padding:"10px"},children:"Pagar con Metamask"}),b.jsx(ir,{variant:"outline",size:"lg",className:"card-hoverxs border-white-50",onClick:()=>n("/paytrust",{state:{walletAddress:t.billetera,price:t.price}}),style:{color:"#14612E",backgroundColor:"#eeeeee",padding:"10px"},children:"Pagar con TrustWallet"}),b.jsx("div",{className:"py-1"}),b.jsx(ir,{variant:"outline",size:"lg",onClick:()=>n(-1),style:{color:"#ea5b18",backgroundColor:"transparent",borderColor:"#f7bda3",padding:"10px"},children:"Volver"})]})]})})]})})})},Jne=()=>{const{id:t}=Zz(),e=ds(),[n,r]=C.useState(null),[i,s]=C.useState(!0),[o,a]=C.useState(null);C.useEffect(()=>{(async()=>{try{if(!t){a("ID de producto no proporcionado");return}const c=zl(Di,"products",t),h=await Iv(c);if(h.exists()){const f=h.data();r({id:h.id,title:f.name||"Sin nombre",price:f.price||"0",description:f.description||"Sin descripcin",imageUrl:f.imageUrl||"No file",alias:f.userAlias||"No identificado",billetera:f.walletAddress})}else a("Producto no encontrado")}catch(c){console.error("Error fetching product:",c),a("Error al cargar el producto")}finally{s(!1)}})()},[t]);const l=u=>u?`${u.substring(0,6)}...${u.substring(u.length-4)}`:"Sin direccion de billetera";return i?b.jsxs(b.Fragment,{children:[b.jsx(fl,{}),b.jsxs(Fs,{className:"text-center my-5",children:[b.jsx(PE,{animation:"border",variant:"primary"}),b.jsx("p",{children:"Cargando producto..."})]})]}):o?b.jsxs(b.Fragment,{children:[b.jsx(fl,{}),b.jsx(Fs,{className:"text-center my-5",children:b.jsxs(xt,{className:"text-danger p-3",children:[b.jsx("h4",{children:o}),b.jsx(ir,{variant:"secondary",onClick:()=>e(-1),className:"mt-3",children:"Volver atrs"})]})})]}):b.jsxs(b.Fragment,{children:[b.jsx(fl,{}),b.jsx(Fs,{className:"my-3",children:b.jsxs(dh,{className:"justify-content-center",children:[b.jsx(Vs,{lg:8,children:b.jsx(Xne,{product:n,formatoWalletAddress:l})}),b.jsx(Vs,{lg:4,children:b.jsx(h6,{productId:n.id})})]})})]})},du="generated",up="pointerdown",Zne="pointerup",Cb="pointerleave",ere="pointerout",Bu="pointermove",cp="touchstart",DI="touchend",tre="touchmove",nre="touchcancel",rre="resize",ire="visibilitychange",ar="tsParticles - Error",st=100,tt=.5,Qt=1e3,Fn={x:0,y:0,z:0},Gm={a:1,b:0,c:0,d:1},Th="random",Hg="mid",sr=2,f6=Math.PI*sr,nw=60,sre=1,d6="true",LI="false",rw="canvas",VI=0,Xo=2,FI=4,ore=1,BI=1,zI=1,are=4,p6=1,qg=255,pu=360,Ib=100,Rb=100,jI=0,kb=0,lre=60,ure=0,ly=.25,UI=tt+ly,$I=0,cre=1,hre=0,fre=0,dre=1,jS=1,pre=1,GI=1,uy=0,m6=1,mre=0,gre=120,yre=0,vre=0,wre=1e4,_re=0,bre=1,hp=0,g6=1,xre=1,Ere=0,HI=1,Sre=0,Are=0,qI=-ly,WI=1.5,KI=0,Pre=1,Tre=0,Mb=0,Cre=0,y6=1,Ire=1,cy=1,Rre=500,QI=50,v6=0,Ob=1,w6=0,YI=1,kre=0,Gl=255,iw=3,sw=6,Mre=1,Ore=1,Nre=0,Dre=0,Lre=0,Vre=0;var pr;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(pr||(pr={}));function _6(t){return typeof t=="boolean"}function Zr(t){return typeof t=="string"}function Sr(t){return typeof t=="number"}function Rv(t){return typeof t=="function"}function nl(t){return typeof t=="object"&&t!==null}function Jn(t){return Array.isArray(t)}function J(t){return t==null}class Si{constructor(e,n,r){if(this._updateFromAngle=(i,s)=>{this.x=Math.cos(i)*s,this.y=Math.sin(i)*s},!Sr(e)&&e){this.x=e.x,this.y=e.y;const i=e;this.z=i.z?i.z:Fn.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=r??Fn.z;else throw new Error(`${ar} Vector3d not initialized correctly`)}static get origin(){return Si.create(Fn.x,Fn.y,Fn.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Si.create(e.x,e.y,e.z)}static create(e,n,r){return new Si(e,n,r)}add(e){return Si.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Si.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Si.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Xo+this.y**Xo}mult(e){return Si.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=hp&&this.multTo(p6/e)}rotate(e){return Si.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Fn.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:Fn.z}sub(e){return Si.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class at extends Si{constructor(e,n){super(e,n,Fn.z)}static get origin(){return at.create(Fn.x,Fn.y)}static clone(e){return at.create(e.x,e.y)}static create(e,n){return new at(e,n)}}let Fre=Math.random;const b6={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)};function Pe(){return vi(Fre(),0,1-Number.EPSILON)}function Bre(t){return b6.nextFrame(t)}function zre(t){b6.cancel(t)}function vi(t,e,n){return Math.min(Math.max(t,e),n)}function ow(t,e,n,r){return Math.floor((t*n+e*r)/(n+r))}function In(t){const e=Oi(t),n=0;let r=Ch(t);return e===r&&(r=n),Pe()*(e-r)+r}function re(t){return Sr(t)?t:In(t)}function Ch(t){return Sr(t)?t:t.min}function Oi(t){return Sr(t)?t:t.max}function Re(t,e){if(t===e||e===void 0&&Sr(t))return t;const n=Ch(t),r=Oi(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(r,e)}:Re(n,r)}function kn(t,e){const n=t.x-e.x,r=t.y-e.y,i=2;return{dx:n,dy:r,distance:Math.sqrt(n**i+r**i)}}function wr(t,e){return kn(t,e).distance}function zs(t){return t*Math.PI/180}function jre(t,e,n){if(Sr(t))return zs(t);switch(t){case pr.top:return-Math.PI*tt;case pr.topRight:return-Math.PI*ly;case pr.right:return ure;case pr.bottomRight:return Math.PI*ly;case pr.bottom:return Math.PI*tt;case pr.bottomLeft:return Math.PI*UI;case pr.left:return Math.PI;case pr.topLeft:return-Math.PI*UI;case pr.inside:return Math.atan2(n.y-e.y,n.x-e.x);case pr.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return Pe()*f6}}function Ure(t){const e=at.origin;return e.length=1,e.angle=t,e}function XI(t,e,n,r){return at.create(t.x*(n-r)/(n+r)+e.x*sr*r/(n+r),t.y)}function x6(t){var e,n;return{x:(((e=t.position)==null?void 0:e.x)??Pe()*st)*t.size.width/st,y:(((n=t.position)==null?void 0:n.y)??Pe()*st)*t.size.height/st}}function E6(t){var n,r;const e={x:((n=t.position)==null?void 0:n.x)!==void 0?re(t.position.x):void 0,y:((r=t.position)==null?void 0:r.y)!==void 0?re(t.position.y):void 0};return x6({size:t.size,position:e})}function $re(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Pe()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Pe()*t.size.height}}function Hp(t){return t?t.endsWith("%")?parseFloat(t)/st:parseFloat(t):1}var mu;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(mu||(mu={}));var qt;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(qt||(qt={}));var Do;(function(t){t.none="none",t.max="max",t.min="min"})(Do||(Do={}));var pt;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(pt||(pt={}));var qs;(function(t){t.precise="precise",t.percent="percent"})(qs||(qs={}));var Ao;(function(t){t.max="max",t.min="min",t.random="random"})(Ao||(Ao={}));const Gre={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ba(){return Gre}function Hre(t){const e=new Map;return(...n)=>{const r=JSON.stringify(n);if(e.has(r))return e.get(r);const i=t(...n);return e.set(r,i),i}}function JI(t){const e={bounced:!1},{pSide:n,pOtherSide:r,rectSide:i,rectOtherSide:s,velocity:o,factor:a}=t;return r.min<s.min||r.min>s.max||r.max<s.min||r.max>s.max||(n.max>=i.min&&n.max<=(i.max+i.min)*tt&&o>$I||n.min<=i.max&&n.min>(i.max+i.min)*tt&&o<$I)&&(e.velocity=o*-a,e.bounced=!0),e}function qre(t,e){const n=sn(e,r=>t.matches(r));return Jn(n)?n.some(r=>r):n}function zu(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Wre(){return!zu()&&typeof matchMedia<"u"}function US(t){if(Wre())return matchMedia(t)}function Kre(t){if(!(zu()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function Qre(t){if(!(zu()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Gt(t,e){return t===e||Jn(e)&&e.indexOf(t)>-1}async function Nb(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function S6(t){return Math.floor(Pe()*t.length)}function Lo(t,e,n=!0){return t[e!==void 0&&n?e%t.length:S6(t)]}function qp(t,e,n,r,i){return Yre(Wp(t,r??0),e,n,i)}function Yre(t,e,n,r){let i=!0;return(!r||r===pt.bottom)&&(i=t.top<e.height+n.x),i&&(!r||r===pt.left)&&(i=t.right>n.x),i&&(!r||r===pt.right)&&(i=t.left<e.width+n.y),i&&(!r||r===pt.top)&&(i=t.bottom>n.y),i}function Wp(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Kt(t,...e){for(const n of e){if(n==null)continue;if(!nl(n)){t=n;continue}const r=Array.isArray(n);r&&(nl(t)||!t||!Array.isArray(t))?t=[]:!r&&(nl(t)||!t||Array.isArray(t))&&(t={});for(const i in n){if(i==="__proto__")continue;const s=n,o=s[i],a=t;a[i]=nl(o)&&Array.isArray(o)?o.map(l=>Kt(a[i],l)):Kt(a[i],o)}}return t}function $S(t,e){return!!T6(e,n=>n.enable&&Gt(t,n.mode))}function GS(t,e,n){sn(e,r=>{const i=r.mode;r.enable&&Gt(t,i)&&Xre(r,n)})}function Xre(t,e){const n=t.selectors;sn(n,r=>{e(r,t)})}function A6(t,e){if(!(!e||!t))return T6(t,n=>qre(e,n.selectors))}function Db(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:at.create(re(t.options.bounce.horizontal.value),re(t.options.bounce.vertical.value))}}function P6(t,e){const{x:n,y:r}=t.velocity.sub(e.velocity),[i,s]=[t.position,e.position],{dx:o,dy:a}=kn(s,i),l=0;if(n*o+r*a<l)return;const u=-Math.atan2(a,o),c=t.mass,h=e.mass,f=t.velocity.rotate(u),p=e.velocity.rotate(u),m=XI(f,p,c,h),w=XI(p,f,c,h),x=m.rotate(-u),v=w.rotate(-u);t.velocity.x=x.x*t.factor.x,t.velocity.y=x.y*t.factor.y,e.velocity.x=v.x*e.factor.x,e.velocity.y=v.y*e.factor.y}function Jre(t,e){const n=t.getPosition(),r=t.getRadius(),i=Wp(n,r),s=t.options.bounce,o=JI({pSide:{min:i.left,max:i.right},pOtherSide:{min:i.top,max:i.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:re(s.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=JI({pSide:{min:i.top,max:i.bottom},pOtherSide:{min:i.left,max:i.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:re(s.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function sn(t,e){return Jn(t)?t.map((r,i)=>e(r,i)):e(t,0)}function jn(t,e,n){return Jn(t)?Lo(t,e,n):t}function T6(t,e){return Jn(t)?t.find((r,i)=>e(r,i)):e(t,0)?t:void 0}function C6(t,e){const n=t.value,r=t.animation,i={delayTime:re(r.delay)*Qt,enable:r.enable,value:re(t.value)*e,max:Oi(n)*e,min:Ch(n)*e,loops:0,maxLoops:re(r.count),time:0},s=1;if(r.enable){switch(i.decay=s-re(r.decay),r.mode){case mu.increase:i.status=qt.increasing;break;case mu.decrease:i.status=qt.decreasing;break;case mu.random:i.status=Pe()>=tt?qt.increasing:qt.decreasing;break}const o=r.mode===mu.auto;switch(r.startValue){case Ao.min:i.value=i.min,o&&(i.status=qt.increasing);break;case Ao.max:i.value=i.max,o&&(i.status=qt.decreasing);break;case Ao.random:default:i.value=In(i),o&&(i.status=Pe()>=tt?qt.increasing:qt.decreasing);break}}return i.initialValue=i.value,i}function I6(t,e){if(!(t.mode===qs.percent)){const{mode:i,...s}=t;return s}return"x"in t?{x:t.x/st*e.width,y:t.y/st*e.height}:{width:t.width/st*e.width,height:t.height/st*e.height}}function HS(t,e){return I6(t,e)}function ZI(t,e){return I6(t,e)}function Zre(t,e,n,r,i){switch(e){case Do.max:n>=i&&t.destroy();break;case Do.min:n<=r&&t.destroy();break}}function Ih(t,e,n,r,i){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const c=(e.velocity??0)*i.factor,h=e.min,f=e.max,p=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=i.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case qt.increasing:e.value>=f?(n?e.status=qt.decreasing:e.value-=f,e.loops||(e.loops=0),e.loops++):e.value+=c;break;case qt.decreasing:e.value<=h?(n?e.status=qt.increasing:e.value+=f,e.loops||(e.loops=0),e.loops++):e.value-=c}e.velocity&&p!==1&&(e.velocity*=p),Zre(t,r,e.value,h,f),t.destroyed||(e.value=vi(e.value,h,f))}}function eie(t){var n,r,i,s;const e=document.createElement("div").style;if(!t)return e;for(const o in t){const a=t[o];if(!Object.prototype.hasOwnProperty.call(t,o)||J(a))continue;const l=(n=t.getPropertyValue)==null?void 0:n.call(t,a);if(!l)continue;const u=(r=t.getPropertyPriority)==null?void 0:r.call(t,a);u?(s=e.setProperty)==null||s.call(e,a,l,u):(i=e.setProperty)==null||i.call(e,a,l)}return e}function tie(t){const e=document.createElement("div").style,n=10,r={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:t.toString(n),"z-index":t.toString(n),top:"0",left:"0"};for(const i in r){const s=r[i];e.setProperty(i,s)}return e}const nie=Hre(tie);var Qa;(function(t){t.darken="darken",t.enlighten="enlighten"})(Qa||(Qa={}));function R6(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function _r(t,e,n,r=!0){if(!e)return;const i=Zr(e)?{value:e}:e;if(Zr(i.value))return k6(t,i.value,n,r);if(Jn(i.value))return _r(t,{value:Lo(i.value,n,r)});for(const s of t.colorManagers.values()){const o=s.handleRangeColor(i);if(o)return o}}function k6(t,e,n,r=!0){if(!e)return;const i=Zr(e)?{value:e}:e;if(Zr(i.value))return i.value===Th?O6():iie(t,i.value);if(Jn(i.value))return k6(t,{value:Lo(i.value,n,r)});for(const s of t.colorManagers.values()){const o=s.handleColor(i);if(o)return o}}function Vo(t,e,n,r=!0){const i=_r(t,e,n,r);return i?M6(i):void 0}function M6(t){const e=t.r/qg,n=t.g/qg,r=t.b/qg,i=Math.max(e,n,r),s=Math.min(e,n,r),o={h:jI,l:(i+s)*tt,s:kb};return i!==s&&(o.s=o.l<tt?(i-s)/(i+s):(i-s)/(sr-i-s),o.h=e===i?(n-r)/(i-s):o.h=n===i?sr+(r-e)/(i-s):sr*sr+(e-n)/(i-s)),o.l*=Rb,o.s*=Ib,o.h*=lre,o.h<jI&&(o.h+=pu),o.h>=pu&&(o.h-=pu),o}function rie(t,e){var n;return(n=R6(t,e))==null?void 0:n.a}function iie(t,e){return R6(t,e)}function Rh(t){const e=(t.h%pu+pu)%pu,n=Math.max(kb,Math.min(Ib,t.s)),r=Math.max(kre,Math.min(Rb,t.l)),i=e/pu,s=n/Ib,o=r/Rb;if(n===kb){const m=Math.round(o*Gl);return{r:m,g:m,b:m}}const a=(m,w,x)=>{if(x<0&&x++,x>1&&x--,x*sw<1)return m+(w-m)*sw*x;if(x*sr<1)return w;if(x*iw<1*sr){const A=sr/iw;return m+(w-m)*(A-x)*sw}return m},l=o<tt?o*(Mre+s):o+s-o*s,u=sr*o-l,c=Ore/iw,h=Math.min(Gl,Gl*a(u,l,i+c)),f=Math.min(Gl,Gl*a(u,l,i)),p=Math.min(Gl,Gl*a(u,l,i-c));return{r:Math.round(h),g:Math.round(f),b:Math.round(p)}}function sie(t){const e=Rh(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function O6(t){const e=t??Nre,n=qg+Ob;return{b:Math.floor(In(Re(e,n))),g:Math.floor(In(Re(e,n))),r:Math.floor(In(Re(e,n)))}}function Xr(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??jS})`}function Il(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??jS})`}function qS(t,e,n,r){let i=t,s=e;return i.r===void 0&&(i=Rh(t)),s.r===void 0&&(s=Rh(e)),{b:ow(i.b,s.b,n,r),g:ow(i.g,s.g,n,r),r:ow(i.r,s.r,n,r)}}function Lb(t,e,n){if(n===Th)return O6();if(n===Hg){const r=t.getFillColor()??t.getStrokeColor(),i=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(r&&i&&e)return qS(r,i,t.getRadius(),e.getRadius());{const s=r??i;if(s)return Rh(s)}}else return n}function N6(t,e,n,r){const i=Zr(e)?e:e.value;return i===Th?r?_r(t,{value:i}):n?Th:Hg:i===Hg?Hg:_r(t,{value:i})}function eR(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function WS(t,e,n){const r={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(aw(r.h,e.h,n),aw(r.s,e.s,n),aw(r.l,e.l,n)),r}function aw(t,e,n){t.enable=e.enable,t.enable?(t.velocity=re(e.speed)/st*n,t.decay=g6-re(e.decay),t.status=qt.increasing,t.loops=Lre,t.maxLoops=re(e.count),t.time=Vre,t.delayTime=re(e.delay)*Qt,e.sync||(t.velocity*=Pe(),t.value*=Pe()),t.initialValue=t.value,t.offset=Re(e.offset)):t.velocity=Dre}function lw(t,e,n,r){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=r.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const c=t.offset?In(t.offset):0,h=(t.velocity??0)*r.factor+c*3.6,f=t.decay??1,p=Oi(e),m=Ch(e);if(!n||t.status===qt.increasing)t.value+=h,t.value>p&&(t.loops||(t.loops=0),t.loops++,n?t.status=qt.decreasing:t.value-=p);else{t.value-=h;const w=0;t.value<w&&(t.loops||(t.loops=0),t.loops++,t.status=qt.increasing)}t.velocity&&f!==1&&(t.velocity*=f),t.value=vi(t.value,m,p)}function KS(t,e){if(!t)return;const{h:n,s:r,l:i}=t,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&lw(n,s.h,!1,e),r&&lw(r,s.s,!0,e),i&&lw(i,s.l,!0,e)}function md(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function oie(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(Fn.x,Fn.y,e.width,e.height)}function aie(t,e,n,r){n&&(t.globalAlpha=r,t.drawImage(n,Fn.x,Fn.y,e.width,e.height),t.globalAlpha=1)}function uw(t,e){t.clearRect(Fn.x,Fn.y,e.width,e.height)}function lie(t){const{container:e,context:n,particle:r,delta:i,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:u,shadow:c,transform:h}=t,f=r.getPosition(),p=r.rotation+(r.pathRotation?r.velocity.angle:v6),m={sin:Math.sin(p),cos:Math.cos(p)},w=!!p,x={a:m.cos*(h.a??Gm.a),b:w?m.sin*(h.b??Ob):h.b??Gm.b,c:w?-m.sin*(h.c??Ob):h.c??Gm.c,d:m.cos*(h.d??Gm.d)};n.setTransform(x.a,x.b,x.c,x.d,f.x,f.y),o&&(n.globalCompositeOperation=a);const v=r.shadowColor;c.enable&&v&&(n.shadowBlur=c.blur,n.shadowColor=Xr(v),n.shadowOffsetX=c.offset.x,n.shadowOffsetY=c.offset.y),s.fill&&(n.fillStyle=s.fill);const S=r.strokeWidth??w6;n.lineWidth=S,s.stroke&&(n.strokeStyle=s.stroke);const A={container:e,context:n,particle:r,radius:l,opacity:u,delta:i,transformData:x,strokeWidth:S};cie(A),hie(A),uie(A),n.globalCompositeOperation="source-over",n.resetTransform()}function uie(t){const{container:e,context:n,particle:r,radius:i,opacity:s,delta:o,transformData:a}=t;if(!r.effect)return;const l=e.effectDrawers.get(r.effect);l&&l.draw({context:n,particle:r,radius:i,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function cie(t){const{container:e,context:n,particle:r,radius:i,opacity:s,delta:o,strokeWidth:a,transformData:l}=t;if(!r.shape)return;const u=e.shapeDrawers.get(r.shape);u&&(n.beginPath(),u.draw({context:n,particle:r,radius:i,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),r.shapeClose&&n.closePath(),a>w6&&n.stroke(),r.shapeFill&&n.fill())}function hie(t){const{container:e,context:n,particle:r,radius:i,opacity:s,delta:o,transformData:a}=t;if(!r.shape)return;const l=e.shapeDrawers.get(r.shape);l!=null&&l.afterDraw&&l.afterDraw({context:n,particle:r,radius:i,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function fie(t,e,n){e.draw&&e.draw(t,n)}function die(t,e,n,r){e.drawParticle&&e.drawParticle(t,n,r)}function pie(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===Qa.darken?-YI:YI)*n}}function mie(t,e,n){const r=e[n];r!==void 0&&(t[n]=(t[n]??cre)*r)}function tR(t,e,n=!1){if(!e)return;const r=t;if(!r)return;const i=r.style;if(!i)return;const s=new Set;for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.add(i[o]);for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.add(e[o]);for(const o of s){const a=e.getPropertyValue(o);a?i.setProperty(o,a,n?"important":""):i.removeProperty(o)}}class gie{constructor(e,n){this.container=e,this._applyPostDrawUpdaters=s=>{var o;for(const a of this._postDrawUpdaters)(o=a.afterDraw)==null||o.call(a,s)},this._applyPreDrawUpdaters=(s,o,a,l,u,c)=>{var h;for(const f of this._preDrawUpdaters){if(f.getColorStyles){const{fill:p,stroke:m}=f.getColorStyles(o,s,a,l);p&&(u.fill=p),m&&(u.stroke=m)}if(f.getTransformValues){const p=f.getTransformValues(o);for(const m in p)mie(c,p,m)}(h=f.beforeDraw)==null||h.call(f,o)}},this._applyResizePlugins=()=>{var s;for(const o of this._resizePlugins)(s=o.resize)==null||s.call(o)},this._getPluginParticleColors=s=>{let o,a;for(const l of this._colorPlugins)if(!o&&l.particleFillColor&&(o=Vo(this._engine,l.particleFillColor(s))),!a&&l.particleStrokeColor&&(a=Vo(this._engine,l.particleStrokeColor(s))),o&&a)break;return[o,a]},this._initCover=async()=>{const s=this.container.actualOptions,o=s.backgroundMask.cover,a=o.color;if(a){const l=_r(this._engine,a);if(l){const u={...l,a:o.opacity};this._coverColorStyle=Xr(u,u.a)}}else await new Promise((l,u)=>{if(!o.image)return;const c=document.createElement("img");c.addEventListener("load",()=>{this._coverImage={image:c,opacity:o.opacity},l()}),c.addEventListener("error",h=>{u(h.error)}),c.src=o.image})},this._initStyle=()=>{const s=this.element,o=this.container.actualOptions;if(s){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const a in o.style){if(!a||!o.style||!Object.prototype.hasOwnProperty.call(o.style,a))continue;const l=o.style[a];l&&s.style.setProperty(a,l,"important")}}},this._initTrail=async()=>{const s=this.container.actualOptions,o=s.particles.move.trail,a=o.fill;if(!o.enable)return;const l=p6/o.length;if(a.color){const u=_r(this._engine,a.color);if(!u)return;this._trailFill={color:{...u},opacity:l}}else await new Promise((u,c)=>{if(!a.image)return;const h=document.createElement("img");h.addEventListener("load",()=>{this._trailFill={image:h,opacity:l},u()}),h.addEventListener("error",f=>{c(f.error)}),h.src=a.image})},this._paintBase=s=>{this.draw(o=>oie(o,this.size,s))},this._paintImage=(s,o)=>{this.draw(a=>aie(a,this.size,s,o))},this._repairStyle=()=>{const s=this.element;s&&(this._safeMutationObserver(o=>o.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(o=>{!s||!(s instanceof Node)||o.observe(s,{attributes:!0})}))},this._resetOriginalStyle=()=>{const s=this.element,o=this._originalStyle;!s||!o||tR(s,o,!0)},this._safeMutationObserver=s=>{this._mutationObserver&&s(this._mutationObserver)},this._setFullScreenStyle=()=>{const s=this.element;s&&tR(s,nie(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=n,this._standardSize={height:0,width:0};const r=e.retina.pixelRatio,i=this._standardSize;this.size={height:i.height*r,width:i.width*r},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,r=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>fre&&r?r.color?this._paintBase(Xr(r.color,r.opacity)):r.image&&this._paintImage(r.image,r.opacity):e.clear&&this.draw(i=>{uw(i,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove(),this.element=void 0}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const r=e.getRadius();if(r<=hre)return;const i=e.getFillColor(),s=e.getStrokeColor()??i;let[o,a]=this._getPluginParticleColors(e);o||(o=i),a||(a=s),!(!o&&!a)&&this.draw(l=>{var M;const u=this.container,c=u.actualOptions,h=e.options.zIndex,f=dre-e.zIndexFactor,p=f**h.opacityRate,m=e.bubble.opacity??((M=e.opacity)==null?void 0:M.value)??jS,w=e.strokeOpacity??m,x=m*p,v=w*p,S={},A={fill:o?Il(o,x):void 0};A.stroke=a?Il(a,v):A.fill,this._applyPreDrawUpdaters(l,e,r,x,A,S),lie({container:u,context:l,particle:e,delta:n,colorStyles:A,backgroundMask:c.backgroundMask.enable,composite:c.backgroundMask.composite,radius:r*f**h.sizeRate,opacity:x,shadow:e.options.shadow,transform:S}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,r){this.draw(i=>die(i,e,n,r))}drawPlugin(e,n){this.draw(r=>fie(r,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=Qre(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){ba().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,r=this.element;if(!r)return;const i=r.style;if(i){if(n.color){const s=_r(this._engine,n.color);i.backgroundColor=s?Xr(s,n.opacity):""}else i.backgroundColor="";i.backgroundImage=n.image||"",i.backgroundPosition=n.position||"",i.backgroundRepeat=n.repeat||"",i.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&du in e.dataset?e.dataset[du]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=eie(this.element.style);const n=this._standardSize;n.height=e.offsetHeight,n.width=e.offsetWidth;const r=this.container.retina.pixelRatio,i=this.size;e.height=i.height=n.height*r,e.width=i.width=n.width*r,this._context=this.element.getContext("2d"),this._safeMutationObserver(s=>s.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(s=>{!this.element||!(this.element instanceof Node)||s.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(uw(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.canvas._standardSize,r={width:this.element.offsetWidth,height:this.element.offsetHeight},i=e.retina.pixelRatio,s={width:r.width*i,height:r.height*i};if(r.height===n.height&&r.width===n.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const o={...n};n.height=r.height,n.width=r.width;const a=this.size;return this.element.width=a.width=s.width,this.element.height=a.height=s.height,this.container.started&&e.particles.setResizeFactor({width:n.width/o.width,height:n.height/o.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>uw(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var th;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(th||(th={}));function Wi(t,e,n,r,i){if(r){let s={passive:!0};_6(i)?s.capture=i:i!==void 0&&(s=i),t.addEventListener(e,n,s)}else{const s=i;t.removeEventListener(e,n,s)}}class yie{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const r=this.container,i=r.actualOptions;if(this._canPush){const s=r.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=i.interactivity.events.onClick;sn(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),Rre)},this._handleThemeChange=n=>{const r=n,i=this.container,s=i.options,o=s.defaultThemes,a=r.matches?o.dark:o.light,l=s.themes.find(u=>u.name===a);l!=null&&l.default.auto&&i.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,r=n.actualOptions;this._mouseTouchFinish(),r.pauseOnBlur&&(document!=null&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{const r=this.container.canvas;await(r==null?void 0:r.windowResize())};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*Qt)},this._manageInteractivityListeners=(n,r)=>{const i=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,u=s.canvas.element;u&&(u.style.pointerEvents=l===u?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(Wi(a,Bu,i.mouseMove,r),Wi(a,cp,i.touchStart,r),Wi(a,tre,i.touchMove,r),o.interactivity.events.onClick.enable?(Wi(a,DI,i.touchEndClick,r),Wi(a,Zne,i.mouseUp,r),Wi(a,up,i.mouseDown,r)):Wi(a,DI,i.touchEnd,r),Wi(a,n,i.mouseLeave,r),Wi(a,nre,i.touchCancel,r))},this._manageListeners=n=>{const r=this._handlers,i=this.container,s=i.actualOptions,o=s.interactivity.detectsOn,a=i.canvas.element;let l=Cb;o===th.window?(i.interactivity.element=window,l=ere):o===th.parent&&a?i.interactivity.element=a.parentElement??a.parentNode:i.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&Wi(document,ire,r.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const r=this._handlers,i=US("(prefers-color-scheme: dark)");if(i){if(i.addEventListener!==void 0){Wi(i,"change",r.themeChange,n);return}i.addListener!==void 0&&(n?i.addListener(r.oldThemeChange):i.removeListener(r.oldThemeChange))}},this._manageResize=n=>{const r=this._handlers,i=this.container;if(!i.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){Wi(window,rre,r.resize,n);return}const o=i.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(a=>{a.find(u=>u.target===o)&&this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:r}=n;r.clicking=!0,r.downPosition=r.position},this._mouseTouchClick=n=>{const r=this.container,i=r.actualOptions,{mouse:s}=r.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!i.interactivity.events.onClick.enable)){for(const l of r.plugins.values())if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const r=n.mouse;delete r.position,delete r.clickPosition,delete r.downPosition,n.status=Cb,r.inside=!1,r.clicking=!1},this._mouseTouchMove=n=>{const r=this.container,i=r.actualOptions,s=r.interactivity,o=r.canvas.element;if(!(s!=null&&s.element))return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const u=n;if(s.element===window){if(o){const c=o.getBoundingClientRect();a={x:u.clientX-c.left,y:u.clientY-c.top}}}else if(i.interactivity.detectsOn===th.parent){const c=u.target,h=u.currentTarget;if(c&&h&&o){const f=c.getBoundingClientRect(),p=h.getBoundingClientRect(),m=o.getBoundingClientRect();a={x:u.offsetX+sr*f.left-(p.left+m.left),y:u.offsetY+sr*f.top-(p.top+m.top)}}else a={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===o&&(a={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=n.type!=="touchmove",o){const u=n,c=u.touches[u.touches.length-y6],h=o.getBoundingClientRect();a={x:c.clientX-(h.left??uy),y:c.clientY-(h.top??uy)}}const l=r.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=Bu},this._touchEnd=n=>{const r=n,i=Array.from(r.changedTouches);for(const s of i)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const r=n,i=Array.from(r.changedTouches);for(const s of i)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const r=n,i=Array.from(r.changedTouches);for(const s of i)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var qr;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(qr||(qr={}));class Ft{constructor(){this.value=""}static create(e,n){const r=new Ft;return r.load(e),n!==void 0&&(Zr(n)||Jn(n)?r.load({value:n}):r.load(n)),r}load(e){J(e)||J(e.value)||(this.value=e.value)}}class vie{constructor(){this.color=new Ft,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){J(e)||(e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class wie{constructor(){this.opacity=1}load(e){J(e)||(e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class _ie{constructor(){this.composite="destination-out",this.cover=new wie,this.enable=!1}load(e){if(!J(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,r=Zr(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:r})}e.enable!==void 0&&(this.enable=e.enable)}}}class bie{constructor(){this.enable=!0,this.zIndex=0}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class xie{constructor(){this.enable=!1,this.mode=[]}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var kh;(function(t){t.circle="circle",t.rectangle="rectangle"})(kh||(kh={}));class nR{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=kh.circle}load(e){J(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class Eie{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class Sie{constructor(){this.enable=!1,this.mode=[],this.parallax=new Eie}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class Aie{constructor(){this.delay=.5,this.enable=!0}load(e){J(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class Pie{constructor(){this.onClick=new xie,this.onDiv=new nR,this.onHover=new Sie,this.resize=new Aie}load(e){if(J(e))return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=sn(n,r=>{const i=new nR;return i.load(r),i})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class Tie{constructor(e,n){this._engine=e,this._container=n}load(e){if(J(e)||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const r of n)r.loadModeOptions&&r.loadModeOptions(this,e)}}class D6{constructor(e,n){this.detectsOn=th.window,this.events=new Pie,this.modes=new Tie(e,n)}load(e){if(J(e))return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class Cie{load(e){J(e)||(e.position&&(this.position={x:e.position.x??QI,y:e.position.y??QI,mode:e.position.mode??qs.percent}),e.options&&(this.options=Kt({},e.options)))}}var gu;(function(t){t.screen="screen",t.canvas="canvas"})(gu||(gu={}));class Iie{constructor(){this.maxWidth=1/0,this.options={},this.mode=gu.canvas}load(e){J(e)||(J(e.maxWidth)||(this.maxWidth=e.maxWidth),J(e.mode)||(e.mode===gu.screen?this.mode=gu.screen:this.mode=gu.canvas),J(e.options)||(this.options=Kt({},e.options)))}}var Ya;(function(t){t.any="any",t.dark="dark",t.light="light"})(Ya||(Ya={}));class Rie{constructor(){this.auto=!1,this.mode=Ya.any,this.value=!1}load(e){J(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class kie{constructor(){this.name="",this.default=new Rie}load(e){J(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Kt({},e.options)))}}class kv{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){J(e)||(e.count!==void 0&&(this.count=Re(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Re(e.speed)),e.decay!==void 0&&(this.decay=Re(e.decay)),e.delay!==void 0&&(this.delay=Re(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class QS extends kv{constructor(){super(),this.mode=mu.auto,this.startValue=Ao.random}load(e){super.load(e),!J(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class cw extends kv{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!J(e)&&e.offset!==void 0&&(this.offset=Re(e.offset))}}class Mie{constructor(){this.h=new cw,this.s=new cw,this.l=new cw}load(e){J(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Rl extends Ft{constructor(){super(),this.animation=new Mie}static create(e,n){const r=new Rl;return r.load(e),n!==void 0&&(Zr(n)||Jn(n)?r.load({value:n}):r.load(n)),r}load(e){if(super.load(e),J(e))return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var nh;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(nh||(nh={}));class Oie{constructor(){this.speed=2}load(e){J(e)||e.speed!==void 0&&(this.speed=e.speed)}}class Nie{constructor(){this.enable=!0,this.retries=0}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class zi{constructor(){this.value=0}load(e){J(e)||J(e.value)||(this.value=Re(e.value))}}class Die extends zi{constructor(){super(),this.animation=new kv}load(e){if(super.load(e),J(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class L6 extends Die{constructor(){super(),this.animation=new QS}load(e){super.load(e)}}class rR extends zi{constructor(){super(),this.value=1}}class V6{constructor(){this.horizontal=new rR,this.vertical=new rR}load(e){J(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Lie{constructor(){this.absorb=new Oie,this.bounce=new V6,this.enable=!1,this.maxSpeed=50,this.mode=nh.bounce,this.overlap=new Nie}load(e){J(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Re(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Vie{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(J(e))return;const n=e.options;if(n!==void 0)for(const r in n){const i=n[r];i&&(this.options[r]=Kt(this.options[r]??{},i))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Fie{constructor(){this.offset=0,this.value=90}load(e){J(e)||(e.offset!==void 0&&(this.offset=Re(e.offset)),e.value!==void 0&&(this.value=Re(e.value)))}}class Bie{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!J(e)&&(e.distance!==void 0&&(this.distance=Re(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const r=e.rotate.y;r!==void 0&&(this.rotate.y=r)}}}class zie{constructor(){this.x=50,this.y=50,this.mode=qs.percent,this.radius=0}load(e){J(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class jie{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){J(e)||(e.acceleration!==void 0&&(this.acceleration=Re(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Re(e.maxSpeed)))}}class Uie{constructor(){this.clamp=!0,this.delay=new zi,this.enable=!1,this.options={}}load(e){J(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Kt(this.options,e.options)))}}class $ie{load(e){J(e)||(e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Gie{constructor(){this.enable=!1,this.length=10,this.fill=new $ie}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Un;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Un||(Un={}));class Hie{constructor(){this.default=Un.out}load(e){J(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class qie{constructor(){this.acceleration=0,this.enable=!1}load(e){J(e)||(e.acceleration!==void 0&&(this.acceleration=Re(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Kt({},e.position)))}}class Wie{constructor(){this.angle=new Fie,this.attract=new Bie,this.center=new zie,this.decay=0,this.distance={},this.direction=pr.none,this.drift=0,this.enable=!1,this.gravity=new jie,this.path=new Uie,this.outModes=new Hie,this.random=!1,this.size=!1,this.speed=2,this.spin=new qie,this.straight=!1,this.trail=new Gie,this.vibrate=!1,this.warp=!1}load(e){if(J(e))return;this.angle.load(Sr(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Re(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Sr(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Re(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(nl(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Re(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Kie extends QS{constructor(){super(),this.destroy=Do.none,this.speed=2}load(e){super.load(e),!J(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Qie extends L6{constructor(){super(),this.animation=new Kie,this.value=1}load(e){if(J(e))return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class Yie{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(J(e))return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const r=e.height;r!==void 0&&(this.height=r)}}var fp;(function(t){t.delete="delete",t.wait="wait"})(fp||(fp={}));class Xie{constructor(){this.mode=fp.delete,this.value=0}load(e){J(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Jie{constructor(){this.density=new Yie,this.limit=new Xie,this.value=0}load(e){J(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class Zie{constructor(){this.blur=0,this.color=new Ft,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){J(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Ft.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class ese{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(J(e))return;const n=e.options;if(n!==void 0)for(const r in n){const i=n[r];i&&(this.options[r]=Kt(this.options[r]??{},i))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class tse extends QS{constructor(){super(),this.destroy=Do.none,this.speed=5}load(e){super.load(e),!J(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class nse extends L6{constructor(){super(),this.animation=new tse,this.value=3}load(e){if(super.load(e),J(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class iR{constructor(){this.width=0}load(e){J(e)||(e.color!==void 0&&(this.color=Rl.create(this.color,e.color)),e.width!==void 0&&(this.width=Re(e.width)),e.opacity!==void 0&&(this.opacity=Re(e.opacity)))}}class rse extends zi{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!J(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class ise{constructor(e,n){this._engine=e,this._container=n,this.bounce=new V6,this.collisions=new Lie,this.color=new Rl,this.color.value="#fff",this.effect=new Vie,this.groups={},this.move=new Wie,this.number=new Jie,this.opacity=new Qie,this.reduceDuplicates=!1,this.shadow=new Zie,this.shape=new ese,this.size=new nse,this.stroke=new iR,this.zIndex=new rse}load(e){if(J(e))return;if(e.groups!==void 0)for(const r of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,r))continue;const i=e.groups[r];i!==void 0&&(this.groups[r]=Kt(this.groups[r]??{},i))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Rl.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Kt({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=sn(n,r=>{const i=new iR;return i.load(r),i})),this._container){const r=this._engine.updaters.get(this._container);if(r)for(const s of r)s.loadOptions&&s.loadOptions(this,e);const i=this._engine.interactors.get(this._container);if(i)for(const s of i)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function F6(t,...e){for(const n of e)t.load(n)}function YS(t,e,...n){const r=new ise(t,e);return F6(r,...n),r}class sse{constructor(e,n){this._findDefaultTheme=r=>this.themes.find(i=>i.default.value&&i.default.mode===r)??this.themes.find(i=>i.default.value&&i.default.mode===Ya.any),this._importPreset=r=>{this.load(this._engine.getPreset(r))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new vie,this.backgroundMask=new _ie,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new bie,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new D6(e,n),this.manualParticles=[],this.particles=YS(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var o,a;if(J(e))return;e.preset!==void 0&&sn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=Re(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=Re(e.duration));const r=e.fpsLimit;r!==void 0&&(this.fpsLimit=r),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const i=e.fullScreen;_6(i)?this.fullScreen.enable=i:this.fullScreen.load(i),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const u=new Cie;return u.load(l),u})),this.particles.load(e.particles),this.style=Kt(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const u=new Iie;u.load(l),this.responsive.push(u)}if(this.responsive.sort((l,u)=>l.maxWidth-u.maxWidth),e.themes!==void 0)for(const l of e.themes){const u=this.themes.find(c=>c.name===l.name);if(u)u.load(l);else{const c=new kie;c.load(l),this.themes.push(c)}}this.defaultThemes.dark=(o=this._findDefaultTheme(Ya.dark))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme(Ya.light))==null?void 0:a.name}setResponsive(e,n,r){this.load(r);const i=this.responsive.find(s=>s.mode===gu.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(i==null?void 0:i.options),i==null?void 0:i.maxWidth}setTheme(e){if(e){const n=this.themes.find(r=>r.name===e);n&&this.load(n.options)}else{const n=US("(prefers-color-scheme: dark)"),r=n==null?void 0:n.matches,i=this._findDefaultTheme(r?Ya.dark:Ya.light);i&&this.load(i.options)}}}var Mh;(function(t){t.external="external",t.particles="particles"})(Mh||(Mh={}));class ose{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){var n;for(const r of this._externalInteractors)(n=r.handleClickMode)==null||n.call(r,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case Mh.external:this._externalInteractors.push(e);break;case Mh.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const r of this._externalInteractors)r.clear(e,n);for(const r of this._particleInteractors)r.isEnabled(e)&&r.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var js;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(js||(js={}));function ase(t,e,n,r){const i=e.options[t];if(i)return Kt({close:e.close,fill:e.fill},jn(i,n,r))}function lse(t,e,n,r){const i=e.options[t];if(i)return Kt({close:e.close,fill:e.fill},jn(i,n,r))}function sR(t){if(!Gt(t.outMode,t.checkModes))return;const e=t.radius*sr;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class use{constructor(e,n){this.container=n,this._calcPosition=(r,i,s,o=VI)=>{for(const m of r.plugins.values()){const w=m.particlePosition!==void 0?m.particlePosition(i,this):void 0;if(w)return Si.create(w.x,w.y,s)}const a=r.canvas.size,l=$re({size:a,position:i}),u=Si.create(l.x,l.y,s),c=this.getRadius(),h=this.options.move.outModes,f=m=>{sR({outMode:m,checkModes:[Un.bounce],coord:u.x,maxCoord:r.canvas.size.width,setCb:w=>u.x+=w,radius:c})},p=m=>{sR({outMode:m,checkModes:[Un.bounce],coord:u.y,maxCoord:r.canvas.size.height,setCb:w=>u.y+=w,radius:c})};return f(h.left??h.default),f(h.right??h.default),p(h.top??h.default),p(h.bottom??h.default),this._checkOverlap(u,o)?this._calcPosition(r,void 0,s,o+xre):u},this._calculateVelocity=()=>{const r=Ure(this.direction),i=r.copy(),s=this.options.move;if(s.direction===pr.inside||s.direction===pr.outside)return i;const o=zs(re(s.angle.value)),a=zs(re(s.angle.offset)),l={left:a-o*tt,right:a+o*tt};return s.straight||(i.angle+=In(Re(l.left,l.right))),s.random&&typeof s.speed=="number"&&(i.length*=Pe()),i},this._checkOverlap=(r,i=VI)=>{const s=this.options.collisions,o=this.getRadius();if(!s.enable)return!1;const a=s.overlap;if(a.enable)return!1;const l=a.retries;if(l>=Ere&&i>l)throw new Error(`${ar} particle is overlapping and can't be placed`);return!!this.container.particles.find(u=>wr(r,u.position)<o+u.getRadius())},this._getRollColor=r=>{if(!r||!this.roll||!this.backColor&&!this.roll.alter)return r;const i=this.roll.horizontal&&this.roll.vertical?sr*HI:HI,s=this.roll.horizontal?Math.PI*tt:hp;return Math.floor(((this.roll.angle??hp)+s)/(Math.PI/i))%sr?this.backColor?this.backColor:this.roll.alter?pie(r,this.roll.alter.type,this.roll.alter.value):r:r},this._initPosition=r=>{const i=this.container,s=re(this.options.zIndex.value);this.position=this._calcPosition(i,r,vi(s,Sre,i.zLayers)),this.initialPosition=this.position.copy();const o=i.canvas.size;switch(this.moveCenter={...HS(this.options.move.center,o),radius:this.options.move.center.radius??Are,mode:this.options.move.center.mode??qs.percent},this.direction=jre(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case pr.inside:this.outType=js.inside;break;case pr.outside:this.outType=js.outside;break}this.offset=at.origin},this._engine=e}destroy(e){var s,o,a;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,r=this.pathGenerator,i=n.shapeDrawers.get(this.shape);(s=i==null?void 0:i.particleDestroy)==null||s.call(i,this);for(const l of n.plugins.values())(o=l.particleDestroyed)==null||o.call(l,this,e);for(const l of n.particles.updaters)(a=l.particleDestroyed)==null||a.call(l,this,e);r==null||r.reset(this),this._engine.dispatchEvent(qr.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,r=n.canvas;for(const i of n.plugins.values())r.drawParticlePlugin(i,this,e);r.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??eR(this.color))}getMass(){return this.getRadius()**Xo*Math.PI*tt}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??eR(this.strokeColor))}init(e,n,r,i){var D,R,L,z,G,W;const s=this.container,o=this._engine;this.id=e,this.group=i,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=js.normal,this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,u=YS(this._engine,s,l.particles),{reduceDuplicates:c}=u,h=u.effect.type,f=u.shape.type;this.effect=jn(h,this.id,c),this.shape=jn(f,this.id,c);const p=u.effect,m=u.shape;if(r){if((D=r.effect)!=null&&D.type){const E=r.effect.type,g=jn(E,this.id,c);g&&(this.effect=g,p.load(r.effect))}if((R=r.shape)!=null&&R.type){const E=r.shape.type,g=jn(E,this.id,c);g&&(this.shape=g,m.load(r.shape))}}if(this.effect===Th){const E=[...this.container.effectDrawers.keys()];this.effect=E[Math.floor(Math.random()*E.length)]}if(this.shape===Th){const E=[...this.container.shapeDrawers.keys()];this.shape=E[Math.floor(Math.random()*E.length)]}this.effectData=ase(this.effect,p,this.id,c),this.shapeData=lse(this.shape,m,this.id,c),u.load(r);const w=this.effectData;w&&u.load(w.particles);const x=this.shapeData;x&&u.load(x.particles);const v=new D6(o,s);v.load(s.actualOptions.interactivity),v.load(u.interactivity),this.interactivity=v,this.effectFill=(w==null?void 0:w.fill)??u.effect.fill,this.effectClose=(w==null?void 0:w.close)??u.effect.close,this.shapeFill=(x==null?void 0:x.fill)??u.shape.fill,this.shapeClose=(x==null?void 0:x.close)??u.shape.close,this.options=u;const S=this.options.move.path;this.pathDelay=re(S.delay.value)*Qt,S.generator&&(this.pathGenerator=this._engine.getPathGenerator(S.generator),this.pathGenerator&&s.addPath(S.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=C6(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=g6-re(this.options.move.decay);const A=s.particles;A.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let M=s.effectDrawers.get(this.effect);M||(M=this._engine.getEffectDrawer(this.effect),M&&s.effectDrawers.set(this.effect,M)),M!=null&&M.loadEffect&&M.loadEffect(this);let U=s.shapeDrawers.get(this.shape);U||(U=this._engine.getShapeDrawer(this.shape),U&&s.shapeDrawers.set(this.shape,U)),U!=null&&U.loadShape&&U.loadShape(this);const N=U==null?void 0:U.getSidesCount;N&&(this.sides=N(this)),this.spawning=!1,this.shadowColor=_r(this._engine,this.options.shadow.color);for(const E of A.updaters)E.init(this);for(const E of A.movers)(L=E.init)==null||L.call(E,this);(z=M==null?void 0:M.particleInit)==null||z.call(M,s,this),(G=U==null?void 0:U.particleInit)==null||G.call(U,s,this);for(const E of s.plugins.values())(W=E.particleCreated)==null||W.call(E,this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,r=this.position;return r.x>=-e&&r.y>=-e&&r.y<=n.height+e&&r.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const n of this.container.particles.updaters)(e=n.reset)==null||e.call(n,this)}}class cse{constructor(e,n){this.position=e,this.particle=n}}var rh;(function(t){t.circle="circle",t.rectangle="rectangle"})(rh||(rh={}));class B6{constructor(e,n,r){this.position={x:e,y:n},this.type=r}}class jr extends B6{constructor(e,n,r){super(e,n,rh.circle),this.radius=r}contains(e){return wr(e,this.position)<=this.radius}intersects(e){const n=this.position,r=e.position,i={x:Math.abs(r.x-n.x),y:Math.abs(r.y-n.y)},s=this.radius;if(e instanceof jr||e.type===rh.circle){const o=e,a=s+o.radius,l=Math.sqrt(i.x**Xo+i.y**Xo);return a>l}else if(e instanceof Ws||e.type===rh.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(i.x-a,Xo)+Math.pow(i.y-l,Xo)<=s**Xo||i.x<=s+a&&i.y<=s+l||i.x<=a||i.y<=l}return!1}}class Ws extends B6{constructor(e,n,r,i){super(e,n,rh.rectangle),this.size={height:i,width:r}}contains(e){const n=this.size.width,r=this.size.height,i=this.position;return e.x>=i.x&&e.x<=i.x+n&&e.y>=i.y&&e.y<=i.y+r}intersects(e){if(e instanceof jr)return e.intersects(this);const n=this.size.width,r=this.size.height,i=this.position,s=e.position,o=e instanceof Ws?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<i.x+n&&s.x+a>i.x&&s.y<i.y+r&&s.y+l>i.y}}class hy{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:r,y:i}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<are;l++){const u=l%sr;this._subs.push(new hy(new Ws(r+s*tt*u,i+o*tt*(Math.round(l*tt)-u),s*tt,o*tt),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const r=[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&wr(e.position,i.position)>i.particle.getRadius()&&(!n||n(i.particle))||r.push(i.particle);if(this._divided)for(const i of this._subs)r.push(...i.query(e,n));return r}queryCircle(e,n,r){return this.query(new jr(e.x,e.y,n),r)}queryRectangle(e,n,r){return this.query(new Ws(e.x,e.y,n.width,n.height),r)}}const oR=t=>{const{height:e,width:n}=t;return new Ws(qI*n,qI*e,WI*n,WI*e)};let hse=class{constructor(e,n){this._addToPool=(...i)=>{this._pool.push(...i)},this._applyDensity=(i,s,o)=>{var p;const a=i.number;if(!((p=i.number.density)!=null&&p.enable)){o===void 0?this._limit=a.limit.value:a.limit&&this._groupLimits.set(o,a.limit.value);return}const l=this._initDensityFactor(a.density),u=a.value,c=a.limit.value>KI?a.limit.value:u,h=Math.min(u,c)*l+s,f=Math.min(this.count,this.filter(m=>m.group===o).length);o===void 0?this._limit=a.limit.value*l:this._groupLimits.set(o,a.limit.value*l),f<h?this.push(Math.abs(h-f),void 0,i,o):f>h&&this.removeQuantity(f-h,o)},this._initDensityFactor=i=>{const s=this._container;if(!s.canvas.element||!i.enable)return Ire;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(i.height*i.width*a**Xo)},this._pushParticle=(i,s,o,a)=>{try{let l=this._pool.pop();l||(l=new use(this._engine,this._container)),l.init(this._nextId,i,s,o);let u=!0;return a&&(u=a(l)),u?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(qr.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){ba().warning(`${ar} adding particle: ${l}`)}},this._removeParticle=(i,s,o)=>{const a=this._array[i];if(!a||a.group!==s)return!1;const l=this._zArray.indexOf(a);return this._array.splice(i,cy),this._zArray.splice(l,cy),a.destroy(o),this._engine.dispatchEvent(qr.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new ose(e,n),this._pluginsInitialized=!1;const r=n.canvas.size;this.quadTree=new hy(oR(r),FI),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(r=>this.addParticle(r.position?HS(r.position,e.canvas.size):void 0,r.options))}addParticle(e,n,r,i){const s=this._container.actualOptions.particles.number.limit.mode,o=r===void 0?this._limit:this._groupLimits.get(r)??this._limit,a=this.count;if(o>KI)switch(s){case fp.delete:{const l=a+Pre-o;l>Tre&&this.removeQuantity(l);break}case fp.wait:if(a>=o)return;break}return this._pushParticle(e,n,r,i)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,r=n.canvas;r.clear(),this.update(e);for(const i of n.plugins.values())r.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var i,s;const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let r=!1;for(const o of e.plugins.values())if(r=((i=o.particlesInitialization)==null?void 0:i.call(o))??r,r)break;if(this.addManualParticles(),!r){const o=n.particles,a=o.groups;for(const l in a){const u=a[l];for(let c=this.count,h=0;h<((s=u.number)==null?void 0:s.value)&&c<o.number.value;c++,h++)this.addParticle(void 0,u,l)}for(let l=this.count;l<o.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const n of e.pathGenerators.values())n.init(e)}push(e,n,r,i){for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,r,i)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,r){this.removeAt(this._array.indexOf(e),void 0,n,r)}removeAt(e,n=ore,r,i){if(e<Mb||e>this.count)return;let s=0;for(let o=e;s<n&&o<this.count;o++)this._removeParticle(o,r,i)&&(o--,s++)}removeQuantity(e,n){this.removeAt(Mb,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const r in n)this._applyDensity(n[r],Cre,r);this._applyDensity(e.particles,e.manualParticles.length)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var s,o;const n=this._container,r=new Set;this.quadTree=new hy(oR(n.canvas.size),FI);for(const a of n.pathGenerators.values())a.update();for(const a of n.plugins.values())(s=a.update)==null||s.call(a,e);const i=this._resizeFactor;for(const a of this._array){i&&!a.ignoresResizeRatio&&(a.position.x*=i.width,a.position.y*=i.height,a.initialPosition.x*=i.width,a.initialPosition.y*=i.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const l of this._container.plugins.values()){if(a.destroyed)break;(o=l.particleUpdate)==null||o.call(l,a,e)}for(const l of this.movers)l.isEnabled(a)&&l.move(a,e);if(a.destroyed){r.add(a);continue}this.quadTree.insert(new cse(a.getPosition(),a))}if(r.size){const a=l=>!r.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const l of r)this._engine.dispatchEvent(qr.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...r)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const l of this.updaters)l.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((l,u)=>u.position.z-l.position.z||l.id-u.id),this._lastZIndex=a[a.length-y6].position.z,this._needsSort=!1}}};class fse{constructor(e){this.container=e,this.pixelRatio=BI,this.reduceFactor=zI}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||zu()?BI:window.devicePixelRatio,this.reduceFactor=zI;const r=this.pixelRatio,i=e.canvas;if(i.element){const a=i.element;i.size.width=a.offsetWidth*r,i.size.height=a.offsetHeight*r}const s=n.particles,o=s.move;this.maxSpeed=re(o.gravity.maxSpeed)*r,this.sizeAnimationSpeed=re(s.size.animation.speed)*r}initParticle(e){const n=e.options,r=this.pixelRatio,i=n.move,s=i.distance,o=e.retina;o.moveDrift=re(i.drift)*r,o.moveSpeed=re(i.speed)*r,o.sizeAnimationSpeed=re(n.size.animation.speed)*r;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*r:void 0,a.vertical=s.vertical!==void 0?s.vertical*r:void 0,o.maxSpeed=re(i.gravity.maxSpeed)*r}}function _n(t){return t&&!t.destroyed}function dse(t,e=nw,n=!1){return{value:t,factor:n?nw/e:nw*t/Qt}}function ic(t,e,...n){const r=new sse(t,e);return F6(r,...n),r}class pse{constructor(e,n,r){this._intersectionManager=i=>{if(!(!_n(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of i)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=i=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&i<this._lastFrameTime+Qt/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=i);const s=dse(i-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=i,s.value>Qt){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){ba().error(`${ar} in animation loop`,s)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=r,this._initialSourceOptions=r,this.retina=new fse(this),this.canvas=new gie(this,this._engine),this.particles=new hse(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=ic(this._engine,this),this.actualOptions=ic(this._engine,this),this._eventListeners=new yie(this),this._intersectionObserver=Kre(i=>this._intersectionManager(i)),this._engine.dispatchEvent(qr.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&_n(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!_n(this))return;const n=this.interactivity.element;if(!n)return;const r=(h,f,p)=>{if(!_n(this))return;const m=this.retina.pixelRatio,w={x:f.x*m,y:f.y*m},x=this.particles.quadTree.queryCircle(w,p*m);e(h,x)},i=h=>{if(!_n(this))return;const f=h,p={x:f.offsetX||f.clientX,y:f.offsetY||f.clientY};r(h,p,pre)},s=()=>{_n(this)&&(u=!0,c=!1)},o=()=>{_n(this)&&(c=!0)},a=h=>{if(_n(this)){if(u&&!c){const f=h;let p=f.touches[f.touches.length-GI];if(!p&&(p=f.changedTouches[f.changedTouches.length-GI],!p))return;const m=this.canvas.element,w=m?m.getBoundingClientRect():void 0,x={x:p.clientX-(w?w.left:uy),y:p.clientY-(w?w.top:uy)};r(h,x,Math.max(p.radiusX,p.radiusY))}u=!1,c=!1}},l=()=>{_n(this)&&(u=!1,c=!1)};let u=!1,c=!1;this._clickHandlers.set("click",i),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",o),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",l);for(const[h,f]of this._clickHandlers)n.addEventListener(h,f)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,r=!1){return!_n(this)||!r&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(_n(this)){for(const[n,r]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(n,r);this._clickHandlers.clear()}}destroy(e=!0){var n,r;if(_n(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const i of this.effectDrawers.values())(n=i.destroy)==null||n.call(i,this);for(const i of this.shapeDrawers.values())(r=i.destroy)==null||r.call(i,this);for(const i of this.effectDrawers.keys())this.effectDrawers.delete(i);for(const i of this.shapeDrawers.keys())this.shapeDrawers.delete(i);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const i=this._engine.items,s=i.findIndex(o=>o===this);s>=mre&&i.splice(s,m6)}this._engine.dispatchEvent(qr.containerDestroyed,{container:this})}}draw(e){if(!_n(this))return;let n=e;const r=i=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(i)};this._drawAnimationFrame=Bre(i=>r(i))}async export(e,n={}){for(const r of this.plugins.values()){if(!r.export)continue;const i=await r.export(e,n);if(i.supported)return i.blob}ba().error(`${ar} - Export plugin with type ${e} not found`)}handleClickMode(e){var n;if(_n(this)){this.particles.handleClickMode(e);for(const r of this.plugins.values())(n=r.handleClickMode)==null||n.call(r,e)}}async init(){var u,c,h,f;if(!_n(this))return;const e=this._engine.getSupportedEffects();for(const p of e){const m=this._engine.getEffectDrawer(p);m&&this.effectDrawers.set(p,m)}const n=this._engine.getSupportedShapes();for(const p of n){const m=this._engine.getShapeDrawer(p);m&&this.shapeDrawers.set(p,m)}await this.particles.initPlugins(),this._options=ic(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ic(this._engine,this,this._options);const r=await this._engine.getAvailablePlugins(this);for(const[p,m]of r)this.plugins.set(p,m);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:i,duration:s,delay:o,fpsLimit:a,smooth:l}=this.actualOptions;this.zLayers=i,this._duration=re(s)*Qt,this._delay=re(o)*Qt,this._lifeTime=0,this.fpsLimit=a>yre?a:gre,this._smooth=l;for(const p of this.effectDrawers.values())await((u=p.init)==null?void 0:u.call(p,this));for(const p of this.shapeDrawers.values())await((c=p.init)==null?void 0:c.call(p,this));for(const p of this.plugins.values())await((h=p.init)==null?void 0:h.call(p));this._engine.dispatchEvent(qr.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const p of this.plugins.values())(f=p.particlesSetup)==null||f.call(p);this._engine.dispatchEvent(qr.particlesSetup,{container:this})}async loadTheme(e){_n(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(_n(this)&&(this._drawAnimationFrame!==void 0&&(zre(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const n of this.plugins.values())(e=n.pause)==null||e.call(n);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(qr.containerPaused,{container:this})}}play(e){if(!_n(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const r of this.plugins.values())r.play&&r.play();this._engine.dispatchEvent(qr.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(_n(this))return this.stop(),this.start()}async reset(e){if(_n(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=ic(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ic(this._engine,this,this._options),this.refresh()}async start(){!_n(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{var r;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const i of this.plugins.values())await((r=i.start)==null?void 0:r.call(i));this._engine.dispatchEvent(qr.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){var e;if(!(!_n(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const n of this.plugins.values())(e=n.stop)==null||e.call(n);for(const n of this.plugins.keys())this.plugins.delete(n);this._sourceOptions=this._options,this._engine.dispatchEvent(qr.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class mse{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let r=this._listeners.get(e);r||(r=[],this._listeners.set(e,r)),r.push(n)}dispatchEvent(e,n){const r=this._listeners.get(e);r==null||r.forEach(i=>i(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const r=this._listeners.get(e);if(!r)return;const i=r.length,s=r.indexOf(n);s<Mb||(i===cy?this._listeners.delete(e):r.splice(s,cy))}}async function hw(t,e,n,r=!1){let i=e.get(t);return(!i||r)&&(i=await Promise.all([...n.values()].map(s=>s(t))),e.set(t,i)),i}async function gse(t){const e=jn(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(ba().error(`${ar} ${n.status} while retrieving config file`),t.fallback)}const yse=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===rw)e=t,e.dataset[du]||(e.dataset[du]=LI);else{const r=t.getElementsByTagName(rw);r.length?(e=r[vre],e.dataset[du]=LI):(e=document.createElement(rw),e.dataset[du]=d6,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},vse=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[du]=d6,document.body.append(n),n)};class wse{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new mse,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,r]of this._configs)e[n]=r;return e}get items(){return this._domArray}get version(){return"3.8.1"}async addColorManager(e,n=!0){this.colorManagers.set(e.key,e),await this.refresh(n)}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(qr.configAdded,{data:{name:n,config:e}})}async addEasing(e,n,r=!0){this.getEasing(e)||(this.easingFunctions.set(e,n),await this.refresh(r))}async addEffect(e,n,r=!0){sn(e,i=>{this.getEffectDrawer(i)||this.effectDrawers.set(i,n)}),await this.refresh(r)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,r=!0){this._initializers.interactors.set(e,n),await this.refresh(r)}async addMover(e,n,r=!0){this._initializers.movers.set(e,n),await this.refresh(r)}async addParticleUpdater(e,n,r=!0){this._initializers.updaters.set(e,n),await this.refresh(r)}async addPathGenerator(e,n,r=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(r)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,r=!1,i=!0){(r||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(i)}async addShape(e,n=!0){for(const r of e.validTypes)this.getShapeDrawer(r)||this.shapeDrawers.set(r,e);await this.refresh(n)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const r of this.plugins)r.needsPlugin(e.actualOptions)&&n.set(r.id,await r.getPlugin(e));return n}getEasing(e){return this.easingFunctions.get(e)??(n=>n)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return hw(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return hw(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return hw(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,r=n[e];if(!r||r.destroyed){n.splice(e,m6);return}return r}async load(e){var f;const n=e.id??((f=e.element)==null?void 0:f.id)??`tsparticles${Math.floor(Pe()*wre)}`,{index:r,url:i}=e,s=i?await gse({fallback:e.options,url:i,index:r}):e.options,o=jn(s,r),{items:a}=this,l=a.findIndex(p=>p.id.description===n),u=new pse(this,n,o);if(l>=_re){const p=this.item(l),m=p?bre:hp;p&&!p.destroyed&&p.destroy(!1),a.splice(l,m,u)}else a.push(u);const c=vse(n,e.element),h=yse(c);return u.canvas.loadCanvas(h),await u.start(),u}loadOptions(e,n){this.plugins.forEach(r=>{var i;return(i=r.loadOptions)==null?void 0:i.call(r,e,n)})}loadParticlesOptions(e,n,...r){const i=this.updaters.get(e);i&&i.forEach(s=>{var o;return(o=s.loadOptions)==null?void 0:o.call(s,n,...r)})}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${ar} can only set click handlers after calling tsParticles.load()`);n.forEach(r=>r.addClickHandler(e))}}function _se(){const t=new wse;return t.init(),t}class wi{constructor(e){this.type=Mh.external,this.container=e}}class ef{constructor(e){this.type=Mh.particles,this.container=e}}var Cn;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Cn||(Cn={}));var fy;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(fy||(fy={}));var Ut;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(Ut||(Ut={}));const Mv=_se();zu()||(window.tsParticles=Mv);const bse=t=>{const e=t.id??"tsparticles";return C.useEffect(()=>{let n;return Mv.load({id:e,url:t.url,options:t.options}).then(r=>{var i;n=r,(i=t.particlesLoaded)==null||i.call(t,r)}),()=>{n==null||n.destroy()}},[e,t,t.url,t.options]),b.jsx("div",{id:e,className:t.className})};async function xse(t){await t(Mv)}const Ese=120,Sse=.5,Ase=100,Pse=3;class dy{static init(e){var s;const n=new dy,r=e.selector;if(!r)throw new Error("No selector provided");const i=document.querySelector(r);if(!i)throw new Error("No element found for selector");return Mv.load({element:i,id:r.replace(".","").replace("!",""),options:{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??Ese,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??Sse},number:{value:e.maxParticles??Ase},size:{value:{min:1,max:e.sizeVariations??Pse}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,u,c,h;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(u=o.options)==null?void 0:u.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(c=o.options)==null?void 0:c.speed},size:{value:(h=o.options)==null?void 0:h.sizeVariations}}}}})}}).then(o=>{n._container=o}),n}destroy(){const e=this._container;e==null||e.destroy()}pauseAnimation(){const e=this._container;e==null||e.pause()}resumeAnimation(){const e=this._container;e==null||e.play()}}const Tse=0,Cse=0,Ise=3,Rse={particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4,opacity:1,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1},kse=t=>{const e=(r,i)=>{const s=Kt(Rse,i);return t.load({id:r,options:{fullScreen:{enable:!1},detectRetina:s.retina_detect,smooth:!0,interactivity:{detectsOn:s.interactivity.detect_on,events:{onHover:{enable:s.interactivity.events.onhover.enable,mode:s.interactivity.events.onhover.mode},onClick:{enable:s.interactivity.events.onclick.enable,mode:s.interactivity.events.onclick.mode},resize:{enable:s.interactivity.events.resize}},modes:{grab:{distance:s.interactivity.modes.grab.distance,links:{opacity:s.interactivity.modes.grab.line_linked.opacity}},bubble:{distance:s.interactivity.modes.bubble.distance,size:s.interactivity.modes.bubble.size,duration:s.interactivity.modes.bubble.duration,opacity:s.interactivity.modes.bubble.opacity,speed:s.interactivity.modes.bubble.speed},repulse:{distance:s.interactivity.modes.repulse.distance,duration:s.interactivity.modes.repulse.duration},push:{quantity:s.interactivity.modes.push.particles_nb},remove:{quantity:s.interactivity.modes.remove.particles_nb}}},particles:{collisions:{enable:s.particles.move.bounce},number:{value:s.particles.number.value,density:{enable:s.particles.number.density.enable,width:s.particles.number.density.value_area}},color:{value:s.particles.color.value},stroke:{width:s.particles.shape.stroke.width,color:{value:s.particles.shape.stroke.color}},shape:{type:s.particles.shape.type,options:{polygon:{sides:s.particles.shape.polygon.nb_sides},image:{src:s.particles.shape.image.src,width:s.particles.shape.image.width,height:s.particles.shape.image.height}}},opacity:{value:s.particles.opacity.random?{min:s.particles.opacity.anim.enable?s.particles.opacity.anim.opacity_min:Tse,max:s.particles.opacity.value}:s.particles.opacity.value,animation:{enable:s.particles.opacity.anim.enable,speed:s.particles.opacity.anim.speed,sync:s.particles.opacity.anim.sync}},size:{value:s.particles.size.random?{min:s.particles.size.anim.enable?s.particles.size.anim.size_min:Cse,max:s.particles.size.value}:s.particles.size.value,animation:{enable:s.particles.size.anim.enable,speed:s.particles.size.anim.speed,sync:s.particles.size.anim.sync}},links:{enable:s.particles.line_linked.enable,distance:s.particles.line_linked.distance,color:s.particles.line_linked.color,opacity:s.particles.line_linked.opacity,width:s.particles.line_linked.width},move:{enable:s.particles.move.enable,speed:s.particles.move.speed/Ise,direction:s.particles.move.direction,random:s.particles.move.random,straight:s.particles.move.straight,outModes:s.particles.move.out_mode,attract:{enable:s.particles.move.attract.enable,rotate:{x:s.particles.move.attract.rotateX,y:s.particles.move.attract.rotateY}}}}}})};e.load=(r,i,s)=>{t.load({id:r,url:i}).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=r=>{t.setOnClickHandler(r)};const n=t.dom();return{particlesJS:e,pJSDom:n}},Mse=t=>{t.checkVersion("3.8.1");const{particlesJS:e,pJSDom:n}=kse(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=dy,{particlesJS:e,pJSDom:n,Particles:dy}},Ose=2,Nse=.5,Dse=.2,Lse=.5,Gr=.5,fw={x:0,y:0};function Vse(t){const{context:e,particle:n,radius:r}=t,i=r*Ose,s=n.heightFactor??Nse,o=n.headWidthFactor??Dse,a=n.bodyHeightFactor??Lse,l=i*s,u=i*o,c=l*a;e.moveTo(-i*Gr,fw.y),e.lineTo(-i*Gr,-c*Gr),e.lineTo(i*Gr-u,-c*Gr),e.lineTo(i*Gr-u,-l*Gr),e.lineTo(i*Gr+u,fw.y),e.lineTo(i*Gr-u,l*Gr),e.lineTo(i*Gr-u,c*Gr),e.lineTo(-i*Gr,c*Gr),e.lineTo(-i*Gr,fw.y)}const Fse=.5,Bse=.2,zse=.5;class jse{constructor(){this.validTypes=["arrow"]}draw(e){Vse(e)}particleInit(e,n){const r=n.shapeData;n.heightFactor=re((r==null?void 0:r.heightFactor)??Fse),n.headWidthFactor=re((r==null?void 0:r.headWidthFactor)??Bse),n.bodyHeightFactor=re((r==null?void 0:r.bodyHeightFactor)??zse)}}async function Use(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new jse,e)}const $se=3;class Gse{draw(e){const{context:n,radius:r}=e,i=r/$se;n.beginPath(),n.arc(i,-i,i,v6,f6,!1),n.closePath(),n.fillStyle="#fff9",n.fill()}}async function Hse(t,e=!0){t.checkVersion("3.8.1"),await t.addEffect("bubble",new Gse,e)}class qse{constructor(){this.color=!0,this.opacity=!1}load(e){J(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}const Wse=0;class Kse{constructor(){this.filter=e=>e.a>Wse,this.offset=4}load(e){if(!J(e)){if(e.filter!==void 0)if(Zr(e.filter)){if(Object.hasOwn(window,e.filter)){const n=window[e.filter];Rv(n)&&(this.filter=n)}}else this.filter=e.filter;e.offset!==void 0&&(this.offset=e.offset)}}}class Qse{constructor(){this.src=""}load(e){J(e)||e.src!==void 0&&(this.src=e.src)}}class Yse{constructor(){this.family="sans-serif",this.size=100}load(e){J(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class Xse{constructor(){this.separator=`
`,this.spacing=10}load(e){J(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class Jse{constructor(){this.color="#000000",this.font=new Yse,this.lines=new Xse,this.text=""}load(e){J(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}class Zse{constructor(){this.enable=!1,this.override=new qse,this.pixels=new Kse,this.position={x:50,y:50},this.scale=1}load(e){J(e)||(e.element!==void 0&&e.element instanceof HTMLCanvasElement&&(this.element=e.element),e.enable!==void 0&&(this.enable=e.enable),e.image&&(this.image||(this.image=new Qse),this.image.load(e.image)),this.pixels.load(e.pixels),e.position&&(this.position={x:e.position.x??this.position.x,y:e.position.y??this.position.y}),this.override.load(e.override),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.text&&(this.text||(this.text=new Jse),this.text.load(e.text)))}}const aR=.5,ra={x:0,y:0},eoe=0;function toe(t,e,n,r,i,s){const{height:o,width:a}=e,l=o*a,u=ioe(soe(l)),c=Math.min(l,t.actualOptions.particles.number.value),h=t.canvas.size;let f=0;const p={x:h.width*n.x/st-a*r*aR,y:h.height*n.y/st-o*r*aR};for(;f<c&&u.length;){const w=u.pop()??0,x={x:w%a,y:Math.floor(w/a)},v=e.pixels[x.y][x.x];if(!s(v))continue;const A={x:x.x*r+p.x,y:x.y*r+p.y},M={};i.color&&(M.color={value:v}),i.opacity&&(M.opacity={value:v.a}),t.particles.addParticle(A,M),f++}}function XS(t,e,n,r=!0){const i=t.getImageData(ra.x,ra.y,e.width,e.height).data;r&&t.clearRect(ra.x,ra.y,e.width,e.height);const s=[];for(let o=0;o<i.length;o+=n){const a=o/n,l={x:a%e.width,y:Math.floor(a/e.width)};s[l.y]||(s[l.y]=[]);const u={r:0,g:1,b:2,a:3},c=255;s[l.y][l.x]={r:i[o+u.r],g:i[o+u.g],b:i[o+u.b],a:i[o+u.a]/c}}return{pixels:s,width:Math.min(...s.map(o=>o.length)),height:s.length}}function noe(t,e){const n=new Image;n.crossOrigin="Anonymous";const r=new Promise((i,s)=>{n.onerror=s,n.onload=()=>{const o=document.createElement("canvas");o.width=n.width,o.height=n.height;const a=o.getContext("2d");if(!a)return s(new Error(`${ar} Could not get canvas context`));a.drawImage(n,ra.x,ra.y,n.width,n.height,ra.x,ra.y,o.width,o.height),i(XS(a,o,e))}});return n.src=t,r}function roe(t,e){const n=document.createElement("canvas"),r=n.getContext("2d"),{font:i,text:s,lines:o,color:a}=t;if(!s||!r)return;const l=s.split(o.separator),u=Sr(i.size)?`${i.size}px`:i.size,c=[];let h=0,f=0;for(const m of l){r.font=`${i.style??""} ${i.variant??""} ${i.weight??""} ${u} ${i.family}`;const w=r.measureText(m),x={measure:w,text:m,height:w.actualBoundingBoxAscent+w.actualBoundingBoxDescent,width:w.width};h=Math.max(h||eoe,x.width),f+=x.height+o.spacing,c.push(x)}n.width=h,n.height=f;let p=0;for(const m of c)r.font=`${i.style??""} ${i.variant??""} ${i.weight??""} ${u} ${i.family}`,r.fillStyle=a,r.fillText(m.text,ra.x,p+m.measure.actualBoundingBoxAscent),p+=m.height+o.spacing;return XS(r,n,e)}function ioe(t){for(let r=t.length-1;r>=0;r--){const i=Math.floor(Pe()*r);[t[r],t[i]]=[t[i],t[r]]}return t}const soe=t=>[...Array(t).keys()];class ooe{constructor(e){this._container=e}async init(){const e=this._container,n=e.actualOptions.canvasMask;if(!(n!=null&&n.enable))return;let r={pixels:[],height:0,width:0};const i=n.pixels.offset;if(n.image){const s=n.image.src;if(!s)return;r=await noe(s,i)}else if(n.text){const s=n.text,o=roe(s,i);if(J(o))return;r=o}else if(n.element??n.selector){const s=n.element??(n.selector&&document.querySelector(n.selector));if(!s)return;const o=s.getContext("2d");if(!o)return;r=XS(o,s,i)}toe(e,r,n.position,n.scale,n.override,n.pixels.filter)}}class aoe{constructor(){this.id="canvasMask"}getPlugin(e){return Promise.resolve(new ooe(e))}loadOptions(e,n){if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;let r=e.canvasMask;(r==null?void 0:r.load)===void 0&&(e.canvasMask=r=new Zse),r.load(n==null?void 0:n.canvasMask)}needsPlugin(e){var n;return((n=e==null?void 0:e.canvasMask)==null?void 0:n.enable)??!1}}async function loe(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new aoe,e)}function Ov(t,e){if(!e.segments.length||!e.segments[0].values.length)return;const{context:n,radius:r}=t;n.moveTo(e.segments[0].values[0].x*r,e.segments[0].values[0].y*r);for(const i of e.segments)n.bezierCurveTo(i.values[1].x*r,i.values[1].y*r,i.values[2].x*r,i.values[2].y*r,i.values[3].x*r,i.values[3].y*r);for(let i=e.segments.length-1;i>=0;i--){const s=e.segments[i];n.bezierCurveTo(-s.values[2].x*r,s.values[2].y*r,-s.values[1].x*r,s.values[1].y*r,-s.values[0].x*r,s.values[0].y*r)}}const ae=1/2,Nv={heart:{segments:[{values:[{x:0,y:ae},{x:0,y:ae},{x:ae,y:0},{x:ae,y:-ae/2}]},{values:[{x:ae,y:-ae/2},{x:ae,y:-ae/2},{x:ae,y:-ae},{x:ae/2,y:-ae}]},{values:[{x:ae/2,y:-ae},{x:ae/2,y:-ae},{x:0,y:-ae},{x:0,y:-ae/2}]}]},diamond:{segments:[{values:[{x:0,y:ae},{x:0,y:ae},{x:3*ae/4,y:0},{x:3*ae/4,y:0}]},{values:[{x:3*ae/4,y:0},{x:3*ae/4,y:0},{x:0,y:-ae},{x:0,y:-ae}]}]},club:{segments:[{values:[{x:0,y:-ae},{x:0,y:-ae},{x:ae/2,y:-ae},{x:ae/2,y:-ae/2}]},{values:[{x:ae/2,y:-ae/2},{x:ae/2,y:-ae/2},{x:ae,y:-ae/2},{x:ae,y:0}]},{values:[{x:ae,y:0},{x:ae,y:0},{x:ae,y:ae/2},{x:ae/2,y:ae/2}]},{values:[{x:ae/2,y:ae/2},{x:ae/2,y:ae/2},{x:ae/8,y:ae/2},{x:ae/8,y:ae/8}]},{values:[{x:ae/8,y:ae/8},{x:ae/8,y:ae/2},{x:ae/2,y:ae},{x:ae/2,y:ae}]},{values:[{x:ae/2,y:ae},{x:ae/2,y:ae},{x:0,y:ae},{x:0,y:ae}]}]},spade:{segments:[{values:[{x:0,y:-ae},{x:0,y:-ae},{x:ae,y:-ae/2},{x:ae,y:0}]},{values:[{x:ae,y:0},{x:ae,y:0},{x:ae,y:ae/2},{x:ae/2,y:ae/2}]},{values:[{x:ae/2,y:ae/2},{x:ae/2,y:ae/2},{x:ae/8,y:ae/2},{x:ae/8,y:ae/8}]},{values:[{x:ae/8,y:ae/8},{x:ae/8,y:ae/2},{x:ae/2,y:ae},{x:ae/2,y:ae}]},{values:[{x:ae/2,y:ae},{x:ae/2,y:ae},{x:0,y:ae},{x:0,y:ae}]}]}};class uoe{constructor(){this.validTypes=["club","clubs"]}draw(e){Ov(e,Nv.club)}}class coe{constructor(){this.validTypes=["diamond","diamonds"]}draw(e){Ov(e,Nv.diamond)}}let hoe=class{constructor(){this.validTypes=["heart","hearts"]}draw(e){Ov(e,Nv.heart)}};class foe{constructor(){this.validTypes=["spade","spades"]}draw(e){Ov(e,Nv.spade)}}async function doe(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new foe,e),await t.addShape(new hoe,e),await t.addShape(new coe,e),await t.addShape(new uoe,e)}const z6=2,Vb=Math.PI*z6,poe=0,dw={x:0,y:0},lR=.005;function moe(t){const{context:e,particle:n,radius:r}=t;if(n.cogHoleRadius===void 0||n.cogInnerRadius===void 0||n.cogInnerTaper===void 0||n.cogNotches===void 0||n.cogOuterTaper===void 0)return;const i=r*n.cogHoleRadius/st;e.globalCompositeOperation="destination-out",e.beginPath(),e.moveTo(i,dw.y),e.arc(dw.x,dw.y,i,poe,Vb),e.closePath(),e.fill(),e.globalCompositeOperation="source-over"}function goe(t){const{context:e,particle:n,radius:r}=t;if(n.cogHoleRadius===void 0||n.cogInnerRadius===void 0||n.cogInnerTaper===void 0||n.cogNotches===void 0||n.cogOuterTaper===void 0)return;const i=Vb/(n.cogNotches*z6),s=i*n.cogInnerTaper*lR,o=i*n.cogOuterTaper*lR,a=r*n.cogInnerRadius/st;let l=i,u=!1;for(e.moveTo(r*Math.cos(o),r*Math.sin(o));l<=Vb;l+=i)u?(e.lineTo(a*Math.cos(l-s),a*Math.sin(l-s)),e.lineTo(r*Math.cos(l+o),r*Math.sin(l+o))):(e.lineTo(r*Math.cos(l-o),r*Math.sin(l-o)),e.lineTo(a*Math.cos(l+s),a*Math.sin(l+s))),u=!u}const yoe=44,voe=72,woe=35,_oe=7,boe=50;class xoe{constructor(){this.validTypes=["cog"]}afterDraw(e){moe(e)}draw(e){goe(e)}particleInit(e,n){const r=n.shapeData;n.cogHoleRadius=re((r==null?void 0:r.holeRadius)??yoe),n.cogInnerRadius=re((r==null?void 0:r.innerRadius)??voe),n.cogInnerTaper=re((r==null?void 0:r.innerTaper)??woe),n.cogNotches=re((r==null?void 0:r.notches)??_oe),n.cogOuterTaper=re((r==null?void 0:r.outerTaper)??boe)}}async function Eoe(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new xoe,e)}function ss(t){const e=new Uint32Array(1);return e[0]=t[0]*1664525+1013904223,e}class Soe{constructor(){this._NORM_2D=1/47,this._SQUISH_2D=(Math.sqrt(2+1)-1)/2,this._STRETCH_2D=(1/Math.sqrt(2+1)-1)/2,this._base2D=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],this._gradients2D=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],this._lookup=[],this._lookupPairs2D=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],this._p2D=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0],this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256)}noise(e,n){const{_gradients2D:r,_NORM_2D:i,_SQUISH_2D:s,_STRETCH_2D:o,_lookup:a,_perm:l,_perm2D:u}=this,c=(e+n)*o,h=e+c,f=n+c,p=Math.floor(h),m=Math.floor(f),w=(p+m)*s,x=e-(p+w),v=n-(m+w),S=h-p,A=f-m,M=S+A,U=S-A+1|M<<1|M+A<<2|M+S<<4;let N=0;for(let D=a[U];D!==void 0;D=D.next){const R=x+D.dx,L=v+D.dy,z=2-R*R-L*L;if(z>0){const G=p+D.xsb,W=m+D.ysb,E=l[G&255],g=u[E+W&255],T=r[g]*R+r[g+1]*L;N+=z*z*z*z*T}}return N*i}seed(e){const{_p2D:n,_base2D:r,_lookupPairs2D:i}=this,s=[];for(let l=0;l<n.length;l+=4){const u=r[n[l]];let c=null,h=null;for(let f=0;f<u.length;f+=3)h=this._contribution2D(u[f],u[f+1],u[f+2]),c===null?s[l/4]=h:c.next=h,c=h;h&&(h.next=this._contribution2D(n[l+1],n[l+2],n[l+3]))}this._lookup=[];for(let l=0;l<i.length;l+=2)this._lookup[i[l]]=s[i[l+1]];this._perm=new Uint8Array(256),this._perm2D=new Uint8Array(256);const o=new Uint8Array(256);for(let l=0;l<256;l++)o[l]=l;let a=new Uint32Array(1);a[0]=e,a=ss(ss(ss(a)));for(let l=255;l>=0;l--){a=ss(a);const u=new Uint32Array(1);u[0]=(a[0]+31)%(l+1),u[0]<0&&(u[0]+=l+1),this._perm[l]=o[u[0]],this._perm2D[l]=this._perm[l]&14,o[u[0]]=o[l]}}_contribution2D(e,n,r){const{_SQUISH_2D:i}=this;return{dx:-n-e*i,dy:-r-e*i,xsb:n,ysb:r}}}class Aoe{constructor(){this._NORM_3D=1/103,this._SQUISH_3D=(Math.sqrt(3+1)-1)/3,this._STRETCH_3D=(1/Math.sqrt(3+1)-1)/3,this._base3D=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],this._gradients3D=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],this._lookup=[],this._lookupPairs3D=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],this._p3D=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0],this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256)}noise(e,n,r){const{_STRETCH_3D:i,_NORM_3D:s,_SQUISH_3D:o,_lookup:a,_perm:l,_perm3D:u,_gradients3D:c}=this,h=(e+n+r)*i,f=e+h,p=n+h,m=r+h,w=Math.floor(f),x=Math.floor(p),v=Math.floor(m),S=(w+x+v)*o,A=e-(w+S),M=n-(x+S),U=r-(v+S),N=f-w,D=p-x,R=m-v,L=N+D+R,z=D-R+1|N-D+1<<1|N-R+1<<2|L<<3|L+R<<5|L+D<<7|L+N<<9;let G=0;for(let W=a[z];W!==void 0;W=W.next){const E=A+W.dx,g=M+W.dy,T=U+W.dz,k=2-E*E-g*g-T*T;if(k>0){const V=w+W.xsb,O=x+W.ysb,$=v+W.zsb,q=l[V&255],B=l[q+O&255],_=u[B+$&255],j=c[_]*E+c[_+1]*g+c[_+2]*T;G+=k*k*k*k*j}}return G*s}seed(e){const{_base3D:n,_lookupPairs3D:r,_p3D:i}=this,s=[];for(let l=0;l<i.length;l+=9){const u=n[i[l]];let c=null,h=null;for(let f=0;f<u.length;f+=4)h=this._contribution3D(u[f],u[f+1],u[f+2],u[f+3]),c===null?s[l/9]=h:c.next=h,c=h;h&&(h.next=this._contribution3D(i[l+1],i[l+2],i[l+3],i[l+4]),h.next.next=this._contribution3D(i[l+5],i[l+6],i[l+7],i[l+8]))}this._lookup=[];for(let l=0;l<r.length;l+=2)this._lookup[r[l]]=s[r[l+1]];this._perm=new Uint8Array(256),this._perm3D=new Uint8Array(256);const o=new Uint8Array(256);for(let l=0;l<256;l++)o[l]=l;let a=new Uint32Array(1);a[0]=e,a=ss(ss(ss(a)));for(let l=255;l>=0;l--){a=ss(a);const u=new Uint32Array(1);u[0]=(a[0]+31)%(l+1),u[0]<0&&(u[0]+=l+1),this._perm[l]=o[u[0]],this._perm3D[l]=this._perm[l]%24*3,o[u[0]]=o[l]}}_contribution3D(e,n,r,i){const{_SQUISH_3D:s}=this;return{dx:-n-e*s,dy:-r-e*s,dz:-i-e*s,xsb:n,ysb:r,zsb:i}}}class Poe{constructor(){this._NORM_4D=1/30,this._SQUISH_4D=(Math.sqrt(4+1)-1)*.25,this._STRETCH_4D=(1/Math.sqrt(4+1)-1)*.25,this._lookup=[],this._perm=new Uint8Array(0),this._perm4D=new Uint8Array(0),this._base4D=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],this._gradients4D=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],this._lookupPairs4D=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],this._p4D=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1]}noise(e,n,r,i){const{_perm:s,_perm4D:o,_lookup:a,_STRETCH_4D:l,_SQUISH_4D:u,_gradients4D:c,_NORM_4D:h}=this,f=(e+n+r+i)*l,p=e+f,m=n+f,w=r+f,x=i+f,v=Math.floor(p),S=Math.floor(m),A=Math.floor(w),M=Math.floor(x),U=(v+S+A+M)*u,N=e-(v+U),D=n-(S+U),R=r-(A+U),L=i-(M+U),z=p-v,G=m-S,W=w-A,E=x-M,g=z+G+W+E,T=W-E+1|G-W+1<<1|G-E+1<<2|z-G+1<<3|z-W+1<<4|z-E+1<<5|g<<6|g+E<<8|g+W<<11|g+G<<14|g+z<<17;let k=0;for(let V=a[T];V!==void 0;V=V.next){const O=N+V.dx,$=D+V.dy,q=R+V.dz,B=L+V.dw,_=2-O*O-$*$-q*q-B*B;if(_>0){const j=v+V.xsb,ue=S+V.ysb,I=A+V.zsb,Q=M+V.wsb,ne=s[j&255],ie=s[ne+ue&255],le=s[ie+I&255],pe=o[le+Q&255],ce=c[pe]*O+c[pe+1]*$+c[pe+2]*q+c[pe+3]*B;k+=_*_*_*_*ce}}return k*h}seed(e){const{_p4D:n,_base4D:r,_lookupPairs4D:i}=this,s=[];for(let l=0;l<n.length;l+=16){const u=r[n[l]];let c=null,h=null;for(let f=0;f<u.length;f+=5)h=this._contribution4D(u[f],u[f+1],u[f+2],u[f+3],u[f+4]),c===null?s[l/16]=h:c.next=h,c=h;h&&(h.next=this._contribution4D(n[l+1],n[l+2],n[l+3],n[l+4],n[l+5]),h.next.next=this._contribution4D(n[l+6],n[l+7],n[l+8],n[l+9],n[l+10]),h.next.next.next=this._contribution4D(n[l+11],n[l+12],n[l+13],n[l+14],n[l+15]))}this._lookup=[];for(let l=0;l<i.length;l+=2)this._lookup[i[l]]=s[i[l+1]];this._perm=new Uint8Array(256),this._perm4D=new Uint8Array(256);const o=new Uint8Array(256);for(let l=0;l<256;l++)o[l]=l;let a=new Uint32Array(1);a[0]=e,a=ss(ss(ss(a)));for(let l=255;l>=0;l--){a=ss(a);const u=new Uint32Array(1);u[0]=(a[0]+31)%(l+1),u[0]<0&&(u[0]+=l+1),this._perm[l]=o[u[0]],this._perm4D[l]=this._perm[l]&252,o[u[0]]=o[l]}}_contribution4D(e,n,r,i,s){const{_SQUISH_4D:o}=this;return{dx:-n-e*o,dy:-r-e*o,dz:-i-e*o,dw:-s-e*o,xsb:n,ysb:r,zsb:i,wsb:s}}}class j6{constructor(){this.noise2d=new Soe,this.noise3d=new Aoe,this.noise4d=new Poe}}const pw={speed:.2,step:250},uR=2;class Toe{constructor(){const e=new j6;this._simplex=e.noise2d,this.options=Kt({},pw)}generate(e){const n=e.getPosition(),{speed:r,step:i}=this.options,s=n.x/i,o=n.y/i,a=.001,l=this._simplex.noise(s,o+a),u=this._simplex.noise(s,o-a),c=(l-u)/(uR*a),h=this._simplex.noise(s+a,o),f=this._simplex.noise(s-a,o),p=(h-f)/(uR*a);return e.velocity.x=0,e.velocity.y=0,at.create(r*c,r*-p)}init(e){const n=e.actualOptions.particles.move.path.options;this.options.seed=n==null?void 0:n.seed,this.options.speed=((n==null?void 0:n.speed)??pw.speed)*e.retina.pixelRatio,this.options.step=(n==null?void 0:n.step)??pw.step,this._simplex.seed(this.options.seed??Pe())}reset(){}update(){}}const Coe="curlNoise";async function Ioe(t,e=!0){t.checkVersion("3.8.1"),await t.addPathGenerator(Coe,new Toe,e)}function Roe(t,e,n,r,i=0,s=1){const o=[],a=[],l=[],u=[],c=[],h=t??Pe;let f=0;n<1&&(n=1);for(let p=1;p<=n;++p)o[p]=h(),a[p]=h(),l[p]=p===1?1:l[p-1]*r,f+=l[p],u[p]=p/e,c[p]=h();return l.forEach((p,m)=>l[m]=p/f*(s-i)),()=>{let p,m,w=0;for(let x=n;x>=1;--x)p=c[x]+=u[x],c[x]>=1&&(p=c[x]-=1,o[x]=a[x],a[x]=h()),m=p**2*(3-2*p),w+=(o[x]*(1-m)+a[x]*m)*l[x];return w+i}}const koe=2,cR=Math.PI*koe;function Moe(){return Pe()*.6+.8}class Ooe{constructor(){this.options={rndFunc:null,period:100,nbHarmonics:2,attenHarmonics:.8,lowValue:-.03,highValue:.03}}generate(e){if(!e.pathGen){const n=this.options;e.pathGen=Roe(n.rndFunc,n.period,n.nbHarmonics,n.attenHarmonics,n.lowValue,n.highValue)}return e.curveVelocity?(e.curveVelocity.length+=.01,e.curveVelocity.angle=(e.curveVelocity.angle+e.pathGen())%cR):(e.curveVelocity=at.origin,e.curveVelocity.length=Moe(),e.curveVelocity.angle=Pe()*cR),e.velocity.x=0,e.velocity.y=0,e.curveVelocity}init(e){const n=e.actualOptions.particles.move.path.options,{options:r}=this;Rv(n.rndFunc)?r.rndFunc=n.rndFunc:Zr(n.rndFunc)&&(r.rndFunc=window[n.rndFunc]??this.options.rndFunc),r.period=n.period??r.period,r.nbHarmonics=n.nbHarmonics??r.nbHarmonics,r.attenHarmonics=n.attenHarmonics??r.attenHarmonics,r.lowValue=n.lowValue??r.lowValue,r.highValue=n.highValue??r.highValue}reset(e){delete e.pathGen,delete e.curveVelocity}update(){}}const Noe="curvesPathGenerator";async function Doe(t,e=!0){t.checkVersion("3.8.1"),await t.addPathGenerator(Noe,new Ooe,e)}async function Loe(t,e=!0){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInBack,n=>2.70158*n**3-1.70158*n**2,!1),await t.addEasing(Ut.easeOutBack,n=>1+2.70158*Math.pow(n-1,3)+1.70158*Math.pow(n-1,2),!1),await t.addEasing(Ut.easeInOutBack,n=>{const i=2.5949095;return n<.5?(2*n)**2*((i+1)*2*n-i)/2:((2*n-2)**2*((i+1)*(n*2-2)+i)+2)/2},!1),await t.refresh(e)}async function Voe(t,e){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInCirc,n=>1-Math.sqrt(1-n**2),!1),await t.addEasing(Ut.easeOutCirc,n=>Math.sqrt(1-(n-1)**2),!1),await t.addEasing(Ut.easeInOutCirc,n=>n<.5?(1-Math.sqrt(1-(2*n)**2))/2:(Math.sqrt(1-(-2*n+2)**2)+1)/2,!1),await t.refresh(e)}async function Foe(t,e=!0){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInCubic,n=>n**3,!1),await t.addEasing(Ut.easeOutCubic,n=>1-(1-n)**3,!1),await t.addEasing(Ut.easeInOutCubic,n=>n<.5?4*n**3:1-(-2*n+2)**3/2,!1),await t.refresh(e)}async function Boe(t,e=!0){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInExpo,n=>n?2**(10*n-10):0,!1),await t.addEasing(Ut.easeOutExpo,n=>n===1?1:1-Math.pow(2,-10*n),!1),await t.addEasing(Ut.easeInOutExpo,n=>n===1?n?1:0:n?n<.5?2**(20*n-10)/2:(2-2**(-20*n+10))/2:0,!1),await t.refresh(e)}async function zoe(t,e=!0){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInLinear,n=>n,!1),await t.addEasing(Ut.easeOutLinear,n=>n,!1),await t.addEasing(Ut.easeInOutLinear,n=>n,!1),await t.refresh(e)}async function joe(t,e=!0){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInQuart,n=>n**4,!1),await t.addEasing(Ut.easeOutQuart,n=>1-(1-n)**4,!1),await t.addEasing(Ut.easeInOutQuart,n=>n<.5?8*n**4:1-(-2*n+2)**4/2,!1),await t.refresh(e)}async function Uoe(t,e=!0){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInQuint,n=>n**5,!1),await t.addEasing(Ut.easeOutQuint,n=>1-(1-n)**5,!1),await t.addEasing(Ut.easeInOutQuint,n=>n<.5?16*n**5:1-(-2*n+2)**5/2,!1),await t.refresh(e)}async function $oe(t,e=!0){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInSine,n=>1-Math.cos(n*Math.PI/2),!1),await t.addEasing(Ut.easeOutSine,n=>Math.sin(n*Math.PI/2),!1),await t.addEasing(Ut.easeInOutSine,n=>-(Math.cos(Math.PI*n)-1)/2,!1),await t.refresh(e)}class Goe{constructor(){this.wait=!1}load(e){J(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=Re(e.delay)),e.duration!==void 0&&(this.duration=Re(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class Hoe{constructor(){this.quantity=1,this.delay=.1}load(e){J(e)||(e.quantity!==void 0&&(this.quantity=Re(e.quantity)),e.delay!==void 0&&(this.delay=Re(e.delay)))}}class qoe{constructor(){this.color=!1,this.opacity=!1}load(e){J(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Woe{constructor(){this.options={},this.replace=new qoe,this.type="square"}load(e){J(e)||(e.options!==void 0&&(this.options=Kt({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class U6{constructor(){this.mode=qs.percent,this.height=0,this.width=0}load(e){J(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class Xa{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new Goe,this.rate=new Hoe,this.shape=new Woe,this.startCount=0}load(e){J(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new U6),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=sn(e.particles,n=>Kt({},n)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=Re(e.position.x)),e.position.y!==void 0&&(this.position.y=Re(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Rl),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var py;(function(t){t.emitter="emitter"})(py||(py={}));const hR=.5,fR=0,Hm=0,dR=0,Koe=0,Qoe=-1,Yoe=1;function pR(t,e){t.color?t.color.value=e:t.color={value:e}}class Xoe{constructor(e,n,r,i,s){var u,c;this.emitters=n,this.container=r,this._destroy=()=>{var h,f;(h=this._mutationObserver)==null||h.disconnect(),this._mutationObserver=void 0,(f=this._resizeObserver)==null||f.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{var m;if(this._paused)return;const h=((m=this.options.life)==null?void 0:m.duration)!==void 0?re(this.options.life.duration):void 0,f=0,p=0;this.container.retina.reduceFactor&&(this._lifeCount>p||this._immortal)&&h!==void 0&&h>f&&(this._duration=h*Qt)},this._setColorAnimation=(h,f,p,m=Yoe)=>{const w=this.container;if(!h.enable)return f;const x=In(h.offset),v=re(this.options.rate.delay),S=v*Qt/w.retina.reduceFactor,A=0,M=re(h.speed??A);return(f+M*w.fpsLimit/S+x*m)%p},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,i instanceof Xa?this.options=i:(this.options=new Xa,this.options.load(i)),this._spawnDelay=re(this.options.life.delay??fR)*Qt/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let o=Kt({},this.options.particles);if(o??(o={}),o.move??(o.move={}),(u=o.move).direction??(u.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=Vo(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=o,this._size=this._calcSize(),this.size=ZI(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??Qoe,this._immortal=this._lifeCount<=Hm,this.options.domId){const h=document.getElementById(this.options.domId);h&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(h,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(h))}const a=this.options.shape,l=(c=this._engine.emitterShapeManager)==null?void 0:c.getShapeGenerator(a.type);l&&(this._shape=l.generate(this.position,this.size,this.fill,a.options)),this._engine.dispatchEvent("emitterCreated",{container:r,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){var e;await((e=this._shape)==null?void 0:e.init())}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>Hm||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??dR))){if(this._emitDelay===void 0){const e=re(this.options.rate.delay);this._emitDelay=e*Qt/this.container.retina.reduceFactor}(this._lifeCount>Hm||this._immortal)&&this._prepareToDie()}}resize(){var n;const e=this._initialPosition;this.position=e&&qp(e,this.container.canvas.size,at.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=ZI(this._size,this.container.canvas.size),(n=this._shape)==null||n.resize(this.position,this.size)}update(e){var n;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??dR,this._currentEmitDelay=this._emitDelay??Koe),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>Hm||this._immortal?(this.position=this._calcPosition(),(n=this._shape)==null||n.resize(this.position,this.size),this._spawnDelay=re(this.options.life.delay??fR)*Qt/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const n=e.getBoundingClientRect(),r=this.container.retina.pixelRatio;return{x:(n.x+n.width*hR)*r,y:(n.y+n.height*hR)*r}}}return E6({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const n=document.getElementById(this.options.domId);if(n){const r=n.getBoundingClientRect();return{width:r.width*e.retina.pixelRatio,height:r.height*e.retina.pixelRatio,mode:qs.precise}}}return this.options.size??(()=>{const n=new U6;return n.load({height:0,mode:qs.percent,width:0}),n})()}_emit(){if(this._paused)return;const e=re(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){var r;const n=jn(this._particlesOptions);for(let i=0;i<e;i++){const s=Kt({},n);if(this.spawnColor){const l=(r=this.options.spawnColor)==null?void 0:r.animation;if(l){const u={h:360,s:100,l:100},c=3.6;this.spawnColor.h=this._setColorAnimation(l.h,this.spawnColor.h,u.h,c),this.spawnColor.s=this._setColorAnimation(l.s,this.spawnColor.s,u.s),this.spawnColor.l=this._setColorAnimation(l.l,this.spawnColor.l,u.l)}pR(s,this.spawnColor)}const o=this.options.shape;let a=this.position;if(this._shape){const l=this._shape.randomPosition();if(l){a=l.position;const u=o.replace;u.color&&l.color&&pR(s,l.color),u.opacity&&(s.opacity?s.opacity.value=l.opacity:s.opacity={value:l.opacity})}else a=null}a&&this.container.particles.addParticle(a,s)}}}class Joe{constructor(e,n){this.container=n,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const r=0;n.getEmitter=i=>i===void 0||Sr(i)?this.array[i??r]:this.array.find(s=>s.name===i),n.addEmitter=async(i,s)=>this.addEmitter(i,s),n.removeEmitter=i=>{const s=n.getEmitter(i);s&&this.removeEmitter(s)},n.playEmitter=i=>{const s=n.getEmitter(i);s&&s.externalPlay()},n.pauseEmitter=i=>{const s=n.getEmitter(i);s&&s.externalPause()}}async addEmitter(e,n){const r=new Xa;r.load(e);const i=new Xoe(this._engine,this,this.container,r,n);return await i.init(),this.array.push(i),i}handleClickMode(e){const n=this.emitters,r=this.interactivityEmitters;if(e!==py.emitter)return;let i;if(r&&Jn(r.value))if(r.value.length>0&&r.random.enable){i=[];const l=[];for(let u=0;u<r.random.count;u++){const c=S6(r.value);if(l.includes(c)&&l.length<r.value.length){u--;continue}l.push(c),i.push(Lo(r.value,c))}}else i=r.value;else i=r==null?void 0:r.value;const s=i??n,o=this.container.interactivity.mouse.clickPosition;sn(s,async a=>{await this.addEmitter(a,o)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(Jn(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const n=this.array.indexOf(e),r=0,i=1;n>=r&&this.array.splice(n,i)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const n of this.array)n.update(e)}}class Zoe{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new Joe(this._engine,e))}loadOptions(e,n){var i,s;if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;n!=null&&n.emitters&&(e.emitters=sn(n.emitters,o=>{const a=new Xa;return a.load(o),a}));const r=(s=(i=n==null?void 0:n.interactivity)==null?void 0:i.modes)==null?void 0:s.emitters;if(r)if(Jn(r))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:r.map(o=>{const a=new Xa;return a.load(o),a})};else{const o=r;if(o.value!==void 0)if(Jn(o.value))e.interactivity.modes.emitters={random:{count:o.random.count??1,enable:o.random.enable??!1},value:o.value.map(l=>{const u=new Xa;return u.load(l),u})};else{const l=new Xa;l.load(o.value),e.interactivity.modes.emitters={random:{count:o.random.count??1,enable:o.random.enable??!1},value:l}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Xa}).value.load(r)}}needsPlugin(e){var r,i,s;if(!e)return!1;const n=e.emitters;return Jn(n)&&!!n.length||n!==void 0||!!((s=(i=(r=e.interactivity)==null?void 0:r.events)==null?void 0:i.onClick)!=null&&s.mode)&&Gt(py.emitter,e.interactivity.events.onClick.mode)}}const mw=new Map;class eae{constructor(e){this._engine=e}addShapeGenerator(e,n){this.getShapeGenerator(e)||mw.set(e,n)}getShapeGenerator(e){return mw.get(e)}getSupportedShapeGenerators(){return mw.keys()}}class Kp{constructor(e,n,r,i){this.position=e,this.size=n,this.fill=r,this.options=i}resize(e,n){this.position=e,this.size=n}}async function tae(t,e=!0){t.checkVersion("3.8.1"),t.emitterShapeManager||(t.emitterShapeManager=new eae(t)),t.addEmitterShapeGenerator||(t.addEmitterShapeGenerator=(r,i)=>{var s;(s=t.emitterShapeManager)==null||s.addShapeGenerator(r,i)});const n=new Zoe(t);await t.addPlugin(n,e)}const po={x:0,y:0},nae=0;function JS(t,e,n,r=!0){const i=t.getImageData(po.x,po.y,e.width,e.height).data;r&&t.clearRect(po.x,po.y,e.width,e.height);const s=[];for(let o=0;o<i.length;o+=n){const a=o/n,l={x:a%e.width,y:Math.floor(a/e.width)};s[l.y]||(s[l.y]=[]);const u={r:0,g:1,b:2,a:3},c=255;s[l.y][l.x]={r:i[o+u.r],g:i[o+u.g],b:i[o+u.b],a:i[o+u.a]/c}}return{pixels:s,width:Math.min(...s.map(o=>o.length)),height:s.length}}function rae(t,e){const n=new Image;n.crossOrigin="Anonymous";const r=new Promise((i,s)=>{n.onerror=s,n.onload=()=>{const o=document.createElement("canvas");o.width=n.width,o.height=n.height;const a=o.getContext("2d");if(!a)return s(new Error(`${ar} Could not get canvas context`));a.drawImage(n,po.x,po.y,n.width,n.height,po.x,po.y,o.width,o.height),i(JS(a,o,e))}});return n.src=t,r}function iae(t,e,n){const r=document.createElement("canvas"),i=r.getContext("2d"),{font:s,text:o,lines:a,color:l}=t;if(!o||!i)return;const u=o.split(a.separator),c=Sr(s.size)?`${s.size}px`:s.size,h=[];let f=0,p=0;for(const w of u){i.font=`${s.style||""} ${s.variant||""} ${s.weight||""} ${c} ${s.family}`;const x=i.measureText(w),v={measure:x,text:w,height:x.actualBoundingBoxAscent+x.actualBoundingBoxDescent,width:x.width};f=Math.max(f||nae,v.width),p+=v.height+a.spacing,h.push(v)}r.width=f,r.height=p;let m=0;for(const w of h)i.font=`${s.style||""} ${s.variant||""} ${s.weight||""} ${c} ${s.family}`,n?(i.fillStyle=l,i.fillText(w.text,po.x,m+w.measure.actualBoundingBoxAscent)):(i.strokeStyle=l,i.strokeText(w.text,po.x,m+w.measure.actualBoundingBoxAscent)),m+=w.height+a.spacing;return JS(i,r,e)}const sae=100,mR=.5;class oae extends Kp{constructor(e,n,r,i){super(e,n,r,i);const s=i.filter,o=0;let a=l=>l.a>o;if(s!==void 0)if(Zr(s)){if(Object.hasOwn(window,s)){const l=window[s];Rv(l)&&(a=l)}}else a=s;this.filter=a,this.scale=i.scale,this.pixelData={pixels:[],height:0,width:0}}async init(){let e;const n=this.options,r=n.selector,i=n.pixels,s=n.image,o=n.element,a=n.text,l=i.offset;if(s){const u=s.src;if(!u)return;e=await rae(u,l)}else if(a){const u=iae(a,l,this.fill);if(J(u))return;e=u}else if(o??r){const u=o??(r&&document.querySelector(r));if(!u)return;const c=u.getContext("2d");if(!c)return;e=JS(c,u,l)}e&&(this.pixelData=e)}randomPosition(){const{height:e,width:n}=this.pixelData,r=this.pixelData,i=this.position,s=this.scale,o={x:i.x-n*s*mR,y:i.y-e*s*mR};for(let a=0;a<sae;a++){const l=Math.floor(Pe()*n*e),u={x:l%n,y:Math.floor(l/n)},c=r.pixels[u.y][u.x];if(this.filter(c))return{position:{x:u.x*s+o.x,y:u.y*s+o.y},color:{...c},opacity:c.a}}return null}resize(e,n){super.resize(e,n)}}class aae{constructor(){this.offset=4}load(e){J(e)||e.offset!==void 0&&(this.offset=e.offset)}}class lae{constructor(){this.family="Verdana",this.size=32,this.style="",this.variant="",this.weight=""}load(e){J(e)||(e.family!==void 0&&(this.family=e.family),e.size!==void 0&&(this.size=e.size),e.style!==void 0&&(this.style=e.style),e.variant!==void 0&&(this.variant=e.variant),e.weight!==void 0&&(this.weight=e.weight))}}class uae{constructor(){this.separator=`
`,this.spacing=0}load(e){J(e)||(e.separator!==void 0&&(this.separator=e.separator),e.spacing!==void 0&&(this.spacing=e.spacing))}}class cae{constructor(){this.color="#000000",this.font=new lae,this.lines=new uae,this.text=""}load(e){J(e)||(e.color!==void 0&&(this.color=e.color),this.font.load(e.font),this.lines.load(e.lines),e.text!==void 0&&(this.text=e.text))}}const hae=0;class fae{constructor(){this.filter=e=>e.a>hae,this.pixels=new aae,this.scale=1,this.selector="",this.text=new cae}load(e){J(e)||(e.element!==void 0&&(this.element=e.element),e.filter!==void 0&&(this.filter=e.filter),this.pixels.load(e.pixels),e.scale!==void 0&&(this.scale=e.scale),e.selector!==void 0&&(this.selector=e.selector),e.image!==void 0&&(this.image=e.image),this.text.load(e.text))}}class dae{generate(e,n,r,i){const s=new fae;return s.load(i),new oae(e,n,r,s)}}async function pae(t,e=!0){var r;const n=t;n.checkVersion("3.8.1"),(r=n.addEmitterShapeGenerator)==null||r.call(n,"canvas",new dae),await n.refresh(e)}const $6=100,my=.5;function mae(t,e,n,r){let i=null;for(let s=0;s<$6;s++){const o={x:n.x+Pe()*r.width-r.width*my,y:n.y+Pe()*r.height-r.height*my};if(t.isPointInPath(e,o.x,o.y)){i=o;break}}return i}function gae(t,e,n,r){let i=null;for(let s=0;s<$6;s++){const o={x:n.x+Pe()*r.width-r.width*my,y:n.y+Pe()*r.height-r.height*my};if(t.isPointInStroke(e,o.x,o.y)){i=o;break}}return i}const qm=.5;class yae extends Kp{constructor(e,n,r,i){super(e,n,r,i);const s=document.createElement("canvas").getContext("2d");if(!s)throw new Error(`${ar} No 2d context available`);this.checkContext=s,this.points=i.points;const o=this.points,a=new Path2D,l={x:e.x-n.width*qm,y:e.y-n.height*qm};for(const[h,f]of o.entries()){const p={x:l.x+f.x*n.width/st,y:l.y+f.y*n.height/st};h?a.lineTo(p.x,p.y):a.moveTo(p.x,p.y)}const u=0,c=o[u];if(c){const h={x:l.x+c.x*n.width/st,y:l.y+c.y*n.height/st};a.lineTo(h.x,h.y)}this.path=a}async init(){}randomPosition(){const e=this.checkContext,n=this.position,r=this.size,i=this.fill,s=this.path,o=i?mae(e,s,n,r):gae(e,s,n,r);return o?{position:o}:null}resize(e,n){super.resize(e,n);const r=this.points,i=new Path2D,s={x:e.x-n.width*qm,y:e.y-n.height*qm};for(const[l,u]of r.entries()){const c={x:s.x+u.x*n.width/st,y:s.y+u.y*n.height/st};l?i.lineTo(c.x,c.y):i.moveTo(c.x,c.y)}const o=0,a=r[o];if(a){const l={x:s.x+a.x*n.width/st,y:s.y+a.y*n.height/st};i.lineTo(l.x,l.y)}this.path=i}}const gR={x:50,y:50};class vae{constructor(){this.points=[]}load(e){J(e)||e.points!==void 0&&(this.points=e.points.map(n=>({x:n.x??gR.x,y:n.y??gR.y})))}}class wae{generate(e,n,r,i){const s=new vae;return s.load(i),new yae(e,n,r,s)}}async function _ae(t,e=!0){var r;const n=t;n.checkVersion("3.8.1"),(r=n.addEmitterShapeGenerator)==null||r.call(n,"path",new wae),await n.refresh(e)}const bae=2,xae=Math.PI*bae,Eae=0,Sae=100;function yR(t,e,n,r=Eae){const i=[],s=xae/e;for(let o=0;o<e;o++){const a=s*o+r;i.push({x:t.x+n*Math.cos(a),y:t.y+n*Math.sin(a)})}return i}function Aae(t){const n=t[0],r={...n},i={...n};for(const o of t)o.x<r.x&&(r.x=o.x),o.x>i.x&&(i.x=o.x),o.y<r.y&&(r.y=o.y),o.y>i.y&&(i.y=o.y);let s=null;for(let o=0;o<Sae;o++){const a={x:r.x+Pe()*(i.x-r.x),y:r.y+Pe()*(i.y-r.y)};if(Tae(a,t)){s=a;break}}return s}function Pae(t){const e=Math.floor(Pe()*t.length),n=t[e],r=1,i=t[(e+r)%t.length],s=Pe();return{x:n.x+(i.x-n.x)*s,y:n.y+(i.y-n.y)*s}}function Tae(t,e){let n=!1;const r=1;for(let i=0,s=e.length-r;i<e.length;s=i++){const o=e[i],a=e[s];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}const vR=.5;class Cae extends Kp{constructor(e,n,r,i){super(e,n,r,i),this.sides=i.sides,this.angle=zs(i.angle),this.polygon=yR(e,this.sides,n.width*vR,this.angle)}async init(){}randomPosition(){const e=this.fill,n=this.polygon,r=e?Aae(n):Pae(n);return r?{position:r}:null}resize(e,n){super.resize(e,n),this.polygon=yR(e,this.sides,n.width*vR,this.angle)}}class Iae{constructor(){this.angle=0,this.sides=5}load(e){J(e)||(e.angle!==void 0&&(this.angle=e.angle),e.sides!==void 0&&(this.sides=e.sides))}}class Rae{generate(e,n,r,i){const s=new Iae;return s.load(i),new Cae(e,n,r,s)}}async function kae(t,e=!0){var r;const n=t;n.checkVersion("3.8.1"),(r=n.addEmitterShapeGenerator)==null||r.call(n,"polygon",new Rae),await n.refresh(e)}class Mae{constructor(e,n){this._exportImage=async r=>{const i=this._container.canvas.element;if(i)return new Promise(s=>{i.toBlob(o=>{if(!o){s(void 0);return}s(o)},r.type??"image/png",r.quality)})},this._container=e,this._engine=n}async export(e,n){const r={supported:!1};switch(e){case"image":r.supported=!0,r.blob=await this._exportImage(n);break}return r}}class Oae{constructor(e){this.id="export-image",this._engine=e}getPlugin(e){return Promise.resolve(new Mae(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function Nae(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new Oae(t),e)}const Dae=2;class Lae{constructor(e,n){this._exportJSON=async()=>{const r=JSON.stringify(this._container.actualOptions,(i,s)=>{if(!i.startsWith("_"))return s},Dae);return Promise.resolve(new Blob([r],{type:"application/json"}))},this._container=e,this._engine=n}async export(e){const n={supported:!1};switch(e){case"json":n.supported=!0,n.blob=await this._exportJSON();break}return n}}class Vae{constructor(e){this.id="export-json",this._engine=e}getPlugin(e){return Promise.resolve(new Lae(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function Fae(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new Vae(t),e)}const Bae=["webm","ogg","mp4","x-matroska"],zae=["vp9","vp9.0","vp8","vp8.0","avc1","av1","h265","h.265","h264","h.264","opus","pcm","aac","mpeg","mp4a"];function jae(){const t=n=>MediaRecorder.isTypeSupported(n),e=[];return Bae.forEach(n=>{const r=`video/${n}`;zae.forEach(i=>[`${r};codecs=${i}`,`${r};codecs=${i.toUpperCase()}`].forEach(s=>{t(s)&&e.push(s)})),t(r)&&e.push(r)}),e}class Uae{constructor(e,n){this._supportedTypes=[],this._exportVideo=async r=>{const i=this._container.canvas.element;if(i)return new Promise(s=>{const o=i.captureStream(r.fps??this._container.actualOptions.fpsLimit),a=0,l=r.mimeType??this._supportedTypes[a],u=new MediaRecorder(o,{mimeType:l}),c=[],h=5;u.addEventListener("dataavailable",f=>{c.push(f.data)}),u.addEventListener("stop",()=>{s(new Blob(c,{type:l}))}),u.start(),setTimeout(()=>{u.stop()},r.duration??h*Qt)})},this._container=e,this._engine=n,this._supportedTypes=jae()}async export(e,n){const r={supported:!1};switch(e){case"video":r.supported=!0,r.blob=await this._exportVideo(n);break}return r}}class $ae{constructor(e){this.id="export-video",this._engine=e}getPlugin(e){return Promise.resolve(new Uae(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function Gae(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new $ae(t),e)}class Hae{constructor(){this.replaceCursor=!1,this.pauseOnStop=!1,this.stopDelay=0}load(e){J(e)||(e.options!==void 0&&(this.options=Kt({},e.options)),e.replaceCursor!==void 0&&(this.replaceCursor=e.replaceCursor),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop),e.stopDelay!==void 0&&(this.stopDelay=e.stopDelay))}}const wR="particle";class qae extends wi{constructor(e){super(e)}clear(){}init(){}interact(){var l,u,c,h;const e=this.container,{interactivity:n}=e,r=e.actualOptions;if(!e.retina.reduceFactor)return;const i=n.mouse.position,s=r.interactivity.modes.particle;if(!s)return;const o=s.pauseOnStop&&(n.mouse.position===this._lastPosition||((l=n.mouse.position)==null?void 0:l.x)===((u=this._lastPosition)==null?void 0:u.x)&&((c=n.mouse.position)==null?void 0:c.y)===((h=this._lastPosition)==null?void 0:h.y)),a=s.stopDelay;if(i?this._lastPosition={...i}:delete this._lastPosition,!!this._lastPosition){if(o){if(this._clearTimeout)return;this._clearTimeout=setTimeout(()=>{if(this._particle){if(s.replaceCursor){const f=n.element;f&&(f instanceof Window?document.body.style.cursor="":f.style.cursor="")}this.container.particles.remove(this._particle,void 0,!0),delete this._particle}},a);return}if(this._clearTimeout&&(clearTimeout(this._clearTimeout),delete this._clearTimeout),!this._particle){const f=Kt(s.options,{move:{enable:!1}});if(this._particle=e.particles.addParticle(this._lastPosition,f),s.replaceCursor){const p=n.element;p&&(p instanceof Window?document.body.style.cursor="none":p.style.cursor="none")}}this._particle&&(this._particle.position.x=this._lastPosition.x,this._particle.position.y=this._lastPosition.y)}}isEnabled(e){const n=this.container,r=n.actualOptions,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??r.interactivity).events;return i.clicking&&i.inside&&!!i.position&&Gt(wR,s.onClick.mode)||i.inside&&!!i.position&&Gt(wR,s.onHover.mode)}loadModeOptions(e,...n){e.particle||(e.particle=new Hae);for(const r of n)e.particle.load(r==null?void 0:r.particle)}reset(){}}async function Wae(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalParticle",n=>Promise.resolve(new qae(n)),e)}const Kae="pop";class Qae extends wi{constructor(e){super(e),this.handleClickMode=n=>{const r=this.container;if(n!==Kae)return;const i=r.interactivity.mouse.clickPosition;if(!i)return;const s=r.particles.quadTree.queryCircle(i,r.retina.pixelRatio);if(s.length)for(const o of s)r.particles.remove(o)}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function Yae(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalPop",n=>Promise.resolve(new Qae(n)),e)}class Xae{constructor(){this.radius=0,this.mass=0}load(e){J(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class Jae extends zi{constructor(){super(),this.density=5,this.value=50,this.limit=new Xae}load(e){J(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),Sr(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class gy{constructor(){this.color=new Ft,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new Jae}load(e){J(e)||(e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=Re(e.position.x)),e.position.y!==void 0&&(this.position.y=Re(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var yy;(function(t){t.absorber="absorber"})(yy||(yy={}));const Zae=2,ele=.033,tle=0,nle=0,rle=0,ile=0,sle=2,_R=Math.PI*sle,bR=0;class ole{constructor(e,n,r,i,s){var a;this._calcPosition=()=>{const l=E6({size:this._container.canvas.size,position:this.options.position});return at.create(l.x,l.y)},this._updateParticlePosition=(l,u)=>{if(l.destroyed)return;const c=this._container,h=c.canvas.size;if(l.needsNewPosition){const f=x6({size:h});l.position.setTo(f),l.velocity.setTo(l.initialVelocity),l.absorberOrbit=void 0,l.needsNewPosition=!1}if(this.options.orbits){if(l.absorberOrbit===void 0&&(l.absorberOrbit=at.origin,l.absorberOrbit.length=wr(l.getPosition(),this.position),l.absorberOrbit.angle=Pe()*_R),l.absorberOrbit.length<=this.size&&!this.options.destroy){const x=Math.min(h.width,h.height),v=1,S=.1,A=.2;l.absorberOrbit.length=x*(v+(Pe()*A-S))}l.absorberOrbitDirection===void 0&&(l.absorberOrbitDirection=l.velocity.x>=bR?Cn.clockwise:Cn.counterClockwise);const f=l.absorberOrbit.length,p=l.absorberOrbit.angle,m=l.absorberOrbitDirection;l.velocity.setTo(at.origin);const w={x:m===Cn.clockwise?Math.cos:Math.sin,y:m===Cn.clockwise?Math.sin:Math.cos};l.position.x=this.position.x+f*w.x(p),l.position.y=this.position.y+f*w.y(p),l.absorberOrbit.length-=u.length,l.absorberOrbit.angle+=(l.retina.moveSpeed??bR)*c.retina.pixelRatio/st*c.retina.reduceFactor}else{const f=at.origin;f.length=u.length,f.angle=u.angle,l.velocity.addTo(f)}},this._absorbers=e,this._container=n,this._engine=r,this.initialPosition=s?at.create(s.x,s.y):void 0,i instanceof gy?this.options=i:(this.options=new gy,this.options.load(i)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=re(this.options.size.value)*n.retina.pixelRatio,this.mass=this.size*this.options.size.density*n.retina.reduceFactor;const o=this.options.size.limit;this.limit={radius:o.radius*n.retina.pixelRatio*n.retina.reduceFactor,mass:o.mass},this.color=_r(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=((a=this.initialPosition)==null?void 0:a.copy())??this._calcPosition()}attract(e){const n=this._container,r=this.options;if(r.draggable){const u=n.interactivity.mouse;u.clicking&&u.downPosition?wr(this.position,u.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&u.position&&(this.position.x=u.position.x,this.position.y=u.position.y)}const i=e.getPosition(),{dx:s,dy:o,distance:a}=kn(this.position,i),l=at.create(s,o);if(l.length=this.mass/Math.pow(a,Zae)*n.retina.reduceFactor,a<this.size+e.getRadius()){const u=e.getRadius()*ele*n.retina.pixelRatio;this.size>e.getRadius()&&a<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<tle?r.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,l)):(r.destroy&&(e.size.value-=u),this._updateParticlePosition(e,l)),(this.limit.radius<=nle||this.size<this.limit.radius)&&(this.size+=u),(this.limit.mass<=rle||this.mass<this.limit.mass)&&(this.mass+=u*this.options.size.density*n.retina.reduceFactor)}else this._updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(Fn.x,Fn.y,this.size,ile,_R,!1),e.closePath(),e.fillStyle=Xr(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&qp(e,this._container.canvas.size,at.origin)?e:this._calcPosition()}}const xR=0;class ale{constructor(e,n){this._container=e,this._engine=n,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=r=>r===void 0||Sr(r)?this.array[r??xR]:this.array.find(i=>i.name===r),e.addAbsorber=async(r,i)=>this.addAbsorber(r,i)}async addAbsorber(e,n){const r=new ole(this,this._container,this._engine,e,n);return this.array.push(r),Promise.resolve(r)}draw(e){for(const n of this.array)n.draw(e)}handleClickMode(e){const n=this.absorbers,r=this.interactivityAbsorbers;if(e===yy.absorber){const i=jn(r),s=i??jn(n),o=this._container.interactivity.mouse.clickPosition;this.addAbsorber(s,o)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=sn(this.absorbers,async n=>{await this.addAbsorber(n)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const n of this.array)if(n.attract(e),e.destroyed)break}removeAbsorber(e){const n=this.array.indexOf(e),r=1;n>=xR&&this.array.splice(n,r)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class lle{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new ale(e,this._engine))}loadOptions(e,n){var r,i;!this.needsPlugin(e)&&!this.needsPlugin(n)||(n!=null&&n.absorbers&&(e.absorbers=sn(n.absorbers,s=>{const o=new gy;return o.load(s),o})),e.interactivity.modes.absorbers=sn((i=(r=n==null?void 0:n.interactivity)==null?void 0:r.modes)==null?void 0:i.absorbers,s=>{const o=new gy;return o.load(s),o}))}needsPlugin(e){var r,i,s;if(!e)return!1;const n=e.absorbers;return Jn(n)?!!n.length:n?!0:!!((s=(i=(r=e.interactivity)==null?void 0:r.events)==null?void 0:i.onClick)!=null&&s.mode&&Gt(yy.absorber,e.interactivity.events.onClick.mode))}}async function ule(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new lle(t),e)}class cle{load(e){J(e)||(e.bottom!==void 0&&(this.bottom=Re(e.bottom)),e.left!==void 0&&(this.left=Re(e.left)),e.right!==void 0&&(this.right=Re(e.right)),e.top!==void 0&&(this.top=Re(e.top)))}}var vy;(function(t){t.none="none",t.split="split"})(vy||(vy={}));class hle extends zi{constructor(){super(),this.value=3}}class fle extends zi{constructor(){super(),this.value={min:4,max:9}}}class dle{constructor(){this.count=1,this.factor=new hle,this.rate=new fle,this.sizeOffset=!0}load(e){J(e)||(e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=sn(e.particles,n=>Kt({},n)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class ple{constructor(){this.bounds=new cle,this.mode=vy.none,this.split=new dle}load(e){J(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const Wm=0,mle=.5,gle=0,yle=1,vle=500,wle=0;function _le(t,e,n,r){const i=n.options.destroy;if(!i)return;const s=i.split,o=YS(t,e,n.options),a=re(s.factor.value),l=n.getFillColor();s.color?o.color.load(s.color):s.colorOffset&&l?o.color.load({value:{hsl:{h:l.h+re(s.colorOffset.h??Wm),s:l.s+re(s.colorOffset.s??Wm),l:l.l+re(s.colorOffset.l??Wm)}}}):o.color.load({value:{hsl:n.getFillColor()}}),o.move.load({center:{x:n.position.x,y:n.position.y,mode:qs.precise}}),Sr(o.size.value)?o.size.value/=a:(o.size.value.min/=a,o.size.value.max/=a),o.load(r);const u=s.sizeOffset?Re(-n.size.value,n.size.value):Wm,c={x:n.position.x+In(u),y:n.position.y+In(u)};return e.particles.addParticle(c,o,n.group,h=>h.size.value<mle?!1:(h.velocity.length=In(Re(n.velocity.length,h.velocity.length)),h.splitCount=(n.splitCount??gle)+yle,h.unbreakable=!0,setTimeout(()=>{h.unbreakable=!1},vle),!0))}function ble(t,e,n){const r=n.options.destroy;if(!r)return;const i=r.split;if(i.count>=wle&&(n.splitCount===void 0||n.splitCount++>i.count))return;const s=re(i.rate.value),o=jn(i.particles);for(let a=0;a<s;a++)_le(t,e,n,o)}class xle{constructor(e,n){this.container=n,this.engine=e}init(e){const n=this.container,r=e.options,i=r.destroy;if(!i)return;e.splitCount=0;const s=i.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:o,left:a,right:l,top:u}=s,{destroyBounds:c}=e,h=n.canvas.size;o&&(c.bottom=re(o)*h.height/st),a&&(c.left=re(a)*h.width/st),l&&(c.right=re(l)*h.width/st),u&&(c.top=re(u)*h.height/st)}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.destroy||(e.destroy=new ple);for(const r of n)e.destroy.load(r==null?void 0:r.destroy)}particleDestroyed(e,n){if(n)return;const r=e.options.destroy;r&&r.mode===vy.split&&ble(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const n=e.getPosition(),r=e.destroyBounds;r&&(r.bottom!==void 0&&n.y>=r.bottom||r.left!==void 0&&n.x<=r.left||r.right!==void 0&&n.x>=r.right||r.top!==void 0&&n.y<=r.top)&&e.destroy()}}async function Ele(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("destroy",n=>Promise.resolve(new xle(t,n)),e)}const kf=.25,Fb=2,Sle=Math.PI*Fb,ER=2,SR=.5;class Ale extends Kp{constructor(e,n,r,i){super(e,n,r,i)}async init(){}randomPosition(){const e=this.size,n=this.fill,r=this.position,i=(h,f)=>{const p=Pe()*kf,m=Math.atan(f/h*Math.tan(Sle*p)),w=Pe();return w<kf?m:w<Fb*kf?Math.PI-m:w<Fb*kf+kf?Math.PI+m:-m},s=(h,f,p)=>h*f/Math.sqrt((f*Math.cos(p))**ER+(h*Math.sin(p))**ER),[o,a]=[e.width*SR,e.height*SR],l=i(o,a),u=s(o,a,l),c=n?u*Math.sqrt(Pe()):u;return{position:{x:r.x+c*Math.cos(l),y:r.y+c*Math.sin(l)}}}}class Ple{generate(e,n,r,i){return new Ale(e,n,r,i)}}async function Tle(t,e=!0){var r;const n=t;n.checkVersion("3.8.1"),(r=n.addEmitterShapeGenerator)==null||r.call(n,"circle",new Ple),await n.refresh(e)}const Cle=4;var kc;(function(t){t[t.TopLeft=0]="TopLeft",t[t.TopRight=1]="TopRight",t[t.BottomRight=2]="BottomRight",t[t.BottomLeft=3]="BottomLeft"})(kc||(kc={}));function AR(t,e){return t+e*(Pe()-tt)}class Ile extends Kp{constructor(e,n,r,i){super(e,n,r,i)}async init(){}randomPosition(){const e=this.fill,n=this.position,r=this.size;if(e)return{position:{x:AR(n.x,r.width),y:AR(n.y,r.height)}};{const i=r.width*tt,s=r.height*tt,o=Math.floor(Pe()*Cle),a=(Pe()-tt)*sr;switch(o){case kc.TopLeft:return{position:{x:n.x+a*i,y:n.y-s}};case kc.TopRight:return{position:{x:n.x-i,y:n.y+a*s}};case kc.BottomRight:return{position:{x:n.x+a*i,y:n.y+s}};case kc.BottomLeft:default:return{position:{x:n.x+i,y:n.y+a*s}}}}}}class Rle{generate(e,n,r,i){return new Ile(e,n,r,i)}}async function kle(t,e=!0){var r;const n=t;n.checkVersion("3.8.1"),(r=n.addEmitterShapeGenerator)==null||r.call(n,"square",new Rle),await n.refresh(e)}class Mle{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){J(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=Kt({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const PR="trail";class Ole extends wi{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){var u,c,h,f;const n=this.container,{interactivity:r}=n;if(!n.retina.reduceFactor)return;const i=n.actualOptions,s=i.interactivity.modes.trail;if(!s)return;const o=s.delay*Qt/this.container.retina.reduceFactor;if(this._delay<o&&(this._delay+=e.value),this._delay<o)return;const a=!(s.pauseOnStop&&(r.mouse.position===this._lastPosition||((u=r.mouse.position)==null?void 0:u.x)===((c=this._lastPosition)==null?void 0:c.x)&&((h=r.mouse.position)==null?void 0:h.y)===((f=this._lastPosition)==null?void 0:f.y))),l=n.interactivity.mouse.position;l?this._lastPosition={...l}:delete this._lastPosition,a&&n.particles.push(s.quantity,n.interactivity.mouse,s.particles),this._delay-=o}isEnabled(e){const n=this.container,r=n.actualOptions,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??r.interactivity).events;return i.clicking&&i.inside&&!!i.position&&Gt(PR,s.onClick.mode)||i.inside&&!!i.position&&Gt(PR,s.onHover.mode)}loadModeOptions(e,...n){e.trail||(e.trail=new Mle);for(const r of n)e.trail.load(r==null?void 0:r.trail)}reset(){}}async function Nle(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalTrail",n=>Promise.resolve(new Ole(n)),e)}var yu;(function(t){t.both="both",t.horizontal="horizontal",t.vertical="vertical"})(yu||(yu={}));const Dle=2,G6=Math.PI*Dle,Lle=360;function Vle(t,e){const n=e.options.roll;if(!(n!=null&&n.enable)){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:n.enable,horizontal:n.mode===yu.horizontal||n.mode===yu.both,vertical:n.mode===yu.vertical||n.mode===yu.both,angle:Pe()*G6,speed:re(n.speed)/Lle},n.backColor)e.backColor=Vo(t,n.backColor);else if(n.darken.enable&&n.enlighten.enable){const r=Pe()>=tt?Qa.darken:Qa.enlighten;e.roll.alter={type:r,value:re(r===Qa.darken?n.darken.value:n.enlighten.value)}}else n.darken.enable?e.roll.alter={type:Qa.darken,value:re(n.darken.value)}:n.enlighten.enable&&(e.roll.alter={type:Qa.enlighten,value:re(n.enlighten.value)})}function Fle(t,e){const n=t.options.roll,r=t.roll;if(!r||!(n!=null&&n.enable))return;const i=r.speed*e.factor,s=G6;r.angle+=i,r.angle>s&&(r.angle-=s)}class TR{constructor(){this.enable=!1,this.value=0}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=Re(e.value)))}}class Ble{constructor(){this.darken=new TR,this.enable=!1,this.enlighten=new TR,this.mode=yu.vertical,this.speed=25}load(e){J(e)||(e.backColor!==void 0&&(this.backColor=Ft.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=Re(e.speed)))}}class zle{constructor(e){this._engine=e}getTransformValues(e){var s;const n=((s=e.roll)==null?void 0:s.enable)&&e.roll,r=n&&n.horizontal,i=n&&n.vertical;return{a:r?Math.cos(n.angle):void 0,d:i?Math.sin(n.angle):void 0}}init(e){Vle(this._engine,e)}isEnabled(e){const n=e.options.roll;return!e.destroyed&&!e.spawning&&!!(n!=null&&n.enable)}loadOptions(e,...n){e.roll||(e.roll=new Ble);for(const r of n)e.roll.load(r==null?void 0:r.roll)}update(e,n){this.isEnabled(e)&&Fle(e,n)}}async function jle(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("roll",()=>Promise.resolve(new zle(t)),e)}const Bb=.5,Ule=2,rl=0,Os=1,CR=60,IR=0,$le=.01,Gle=Math.PI*Ule;function Hle(t){const e=t.initialPosition,{dx:n,dy:r}=kn(e,t.position),i=Math.abs(n),s=Math.abs(r),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const u=(a&&i>=a)??!1,c=(l&&s>=l)??!1;if((u||c)&&!t.misplaced)t.misplaced=!!a&&i>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y*Bb-t.velocity.x),l&&(t.velocity.y=t.velocity.x*Bb-t.velocity.y);else if((!a||i<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const h=t.position,f=t.velocity;a&&(h.x<e.x&&f.x<rl||h.x>e.x&&f.x>rl)&&(f.x*=-Pe()),l&&(h.y<e.y&&f.y<rl||h.y>e.y&&f.y>rl)&&(f.y*=-Pe())}}function qle(t,e,n,r,i,s){Kle(t,s);const o=t.gravity,a=o!=null&&o.enable&&o.inverse?-Os:Os;i&&n&&(t.velocity.x+=i*s.factor/(CR*n)),o!=null&&o.enable&&n&&(t.velocity.y+=a*(o.acceleration*s.factor)/(CR*n));const l=t.moveDecay;t.velocity.multTo(l);const u=t.velocity.mult(n);o!=null&&o.enable&&r>rl&&(!o.inverse&&u.y>=rl&&u.y>=r||o.inverse&&u.y<=rl&&u.y<=-r)&&(u.y=a*r,n&&(t.velocity.y=u.y/n));const c=t.options.zIndex,h=(Os-t.zIndexFactor)**c.velocityRate;u.multTo(h);const{position:f}=t;f.addTo(u),e.vibrate&&(f.x+=Math.sin(f.x*Math.cos(f.y)),f.y+=Math.cos(f.y*Math.sin(f.x)))}function Wle(t,e){const n=t.container;if(!t.spin)return;const r=t.spin.direction===Cn.clockwise,i={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const s=Math.max(n.canvas.size.width,n.canvas.size.height),o=s*Bb;t.spin.radius>o?(t.spin.radius=o,t.spin.acceleration*=-Os):t.spin.radius<IR&&(t.spin.radius=IR,t.spin.acceleration*=-Os),t.spin.angle+=e*$le*(Os-t.spin.radius/s)}function Kle(t,e){var o;const n=t.options,r=n.move.path;if(!r.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),r.clamp&&(t.velocity.x=vi(t.velocity.x,-Os,Os),t.velocity.y=vi(t.velocity.y,-Os,Os)),t.lastPathTime-=t.pathDelay}function Qle(t){return t.slow.inRange?t.slow.factor:Os}function Yle(t){const e=t.container,n=t.options,r=n.move.spin;if(!r.enable)return;const i=r.position??{x:50,y:50},s=.01,o={x:i.x*s*e.canvas.size.width,y:i.y*s*e.canvas.size.height},a=t.getPosition(),l=wr(a,o),u=re(r.acceleration);t.retina.spinAcceleration=u*e.retina.pixelRatio,t.spin={center:o,direction:t.velocity.x>=rl?Cn.clockwise:Cn.counterClockwise,angle:Pe()*Gle,radius:l,acceleration:t.retina.spinAcceleration}}const Xle=2,Jle=1,Zle=1;class eue{init(e){const n=e.options,r=n.move.gravity;e.gravity={enable:r.enable,acceleration:re(r.acceleration),inverse:r.inverse},Yle(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var w,x;const r=e.options,i=r.move;if(!i.enable)return;const s=e.container,o=s.retina.pixelRatio;(w=e.retina).moveSpeed??(w.moveSpeed=re(i.speed)*o),(x=e.retina).moveDrift??(x.moveDrift=re(e.options.move.drift)*o);const a=Qle(e),l=e.retina.moveSpeed*s.retina.reduceFactor,u=e.retina.moveDrift,c=Oi(r.size.value)*o,h=i.size?e.getRadius()/c:Jle,f=n.factor||Zle,p=l*h*a*f/Xle,m=e.retina.maxSpeed??s.retina.maxSpeed;i.spin.enable?Wle(e,p):qle(e,i,p,m,u,n),Hle(e)}}async function tue(t,e=!0){t.checkVersion("3.8.1"),await t.addMover("base",()=>Promise.resolve(new eue),e)}const nue=2,rue=Math.PI*nue,iue=0,RR={x:0,y:0};function sue(t){const{context:e,particle:n,radius:r}=t;n.circleRange||(n.circleRange={min:iue,max:rue});const i=n.circleRange;e.arc(RR.x,RR.y,r,i.min,i.max,!1)}const oue=12,aue=360,kR=0;class lue{constructor(){this.validTypes=["circle"]}draw(e){sue(e)}getSidesCount(){return oue}particleInit(e,n){const r=n.shapeData,i=(r==null?void 0:r.angle)??{max:aue,min:kR};n.circleRange=nl(i)?{min:zs(i.min),max:zs(i.max)}:{min:kR,max:zs(i)}}}async function uue(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new lue,e)}class cue{constructor(e,n){this._container=e,this._engine=n}init(e){const n=Vo(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=WS(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:r,l:i}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&r.enable||(s==null?void 0:s.l.value)!==void 0&&i.enable)}update(e,n){KS(e.color,n)}}async function hue(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new cue(n,t)),e)}var ou;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(ou||(ou={}));const fue=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,due=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,Km=16,pue=1,mue=255;class gue{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const n=e.replace(fue,(i,s,o,a,l)=>s+s+o+o+a+a+(l!==void 0?l+l:"")),r=due.exec(n);return r?{a:r[ou.a]!==void 0?parseInt(r[ou.a],Km)/mue:pue,b:parseInt(r[ou.b],Km),g:parseInt(r[ou.g],Km),r:parseInt(r[ou.r],Km)}:void 0}}async function yue(t,e=!0){t.checkVersion("3.8.1"),await t.addColorManager(new gue,e)}var Mc;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(Mc||(Mc={}));class vue{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.s!==void 0&&r.l!==void 0)return Rh(r)}handleRangeColor(e){const n=e.value,r=n.hsl??e.value;if(r.h!==void 0&&r.l!==void 0)return Rh({h:re(r.h),l:re(r.l),s:re(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,r=n.exec(e),i=4,s=1,o=10;return r?sie({a:r.length>i?Hp(r[Mc.a]):s,h:parseInt(r[Mc.h],o),l:parseInt(r[Mc.l],o),s:parseInt(r[Mc.s],o)}):void 0}}async function wue(t,e=!0){t.checkVersion("3.8.1"),await t.addColorManager(new vue,e)}class _ue{constructor(e){this.container=e}init(e){const n=e.options.opacity,r=1;e.opacity=C6(n,r);const i=n.animation;i.enable&&(e.opacity.velocity=re(i.speed)/st*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Pe()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||Ih(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function bue(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new _ue(n)),e)}const wy=0,ih=0;function xue(t){if(t.outMode!==Un.bounce&&t.outMode!==Un.split||t.direction!==pt.left&&t.direction!==pt.right)return;t.bounds.right<ih&&t.direction===pt.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===pt.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===pt.right&&t.bounds.right>=t.canvasSize.width&&e>wy||t.direction===pt.left&&t.bounds.left<=ih&&e<wy){const i=re(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-i,n=!0}if(!n)return;const r=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===pt.right?t.particle.position.x=t.canvasSize.width-r:t.bounds.left<=ih&&t.direction===pt.left&&(t.particle.position.x=r),t.outMode===Un.split&&t.particle.destroy()}function Eue(t){if(t.outMode!==Un.bounce&&t.outMode!==Un.split||t.direction!==pt.bottom&&t.direction!==pt.top)return;t.bounds.bottom<ih&&t.direction===pt.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===pt.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===pt.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>wy||t.direction===pt.top&&t.bounds.top<=ih&&e<wy){const i=re(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-i,n=!0}if(!n)return;const r=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===pt.bottom?t.particle.position.y=t.canvasSize.height-r:t.bounds.top<=ih&&t.direction===pt.top&&(t.particle.position.y=r),t.outMode===Un.split&&t.particle.destroy()}class Sue{constructor(e){this.container=e,this.modes=[Un.bounce,Un.split]}update(e,n,r,i){if(!this.modes.includes(i))return;const s=this.container;let o=!1;for(const f of s.plugins.values())if(f.particleBounce!==void 0&&(o=f.particleBounce(e,r,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,u=e.getRadius(),c=Wp(a,u),h=s.canvas.size;xue({particle:e,outMode:i,direction:n,bounds:c,canvasSize:h,offset:l,size:u}),Eue({particle:e,outMode:i,direction:n,bounds:c,canvasSize:h,offset:l,size:u})}}const Qm=0;class Aue{constructor(e){this.container=e,this.modes=[Un.destroy]}update(e,n,r,i){if(!this.modes.includes(i))return;const s=this.container;switch(e.outType){case js.normal:case js.outside:if(qp(e.position,s.canvas.size,at.origin,e.getRadius(),n))return;break;case js.inside:{const{dx:o,dy:a}=kn(e.position,e.moveCenter),{x:l,y:u}=e.velocity;if(l<Qm&&o>e.moveCenter.radius||u<Qm&&a>e.moveCenter.radius||l>=Qm&&o<-e.moveCenter.radius||u>=Qm&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,e.group,!0)}}const Ym=0;class Pue{constructor(e){this.container=e,this.modes=[Un.none]}update(e,n,r,i){if(!this.modes.includes(i)||((e.options.move.distance.horizontal&&(n===pt.left||n===pt.right))??(e.options.move.distance.vertical&&(n===pt.top||n===pt.bottom))))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const u=e.position;(!s.inverse&&u.y>a.height+l&&n===pt.bottom||s.inverse&&u.y<-l&&n===pt.top)&&o.particles.remove(e)}else{if(e.velocity.y>Ym&&e.position.y<=a.height+l||e.velocity.y<Ym&&e.position.y>=-l||e.velocity.x>Ym&&e.position.x<=a.width+l||e.velocity.x<Ym&&e.position.x>=-l)return;qp(e.position,o.canvas.size,at.origin,l,n)||o.particles.remove(e)}}}const Xm=0,Jm=0;class Tue{constructor(e){this.container=e,this.modes=[Un.out]}update(e,n,r,i){if(!this.modes.includes(i))return;const s=this.container;switch(e.outType){case js.inside:{const{x:o,y:a}=e.velocity,l=at.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(at.create(e.moveCenter));const{dx:u,dy:c}=kn(e.position,l);if(o<=Xm&&u>=Jm||a<=Xm&&c>=Jm||o>=Xm&&u<=Jm||a>=Xm&&c<=Jm)return;e.position.x=Math.floor(In({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(In({min:0,max:s.canvas.size.height}));const{dx:h,dy:f}=kn(e.position,e.moveCenter);e.direction=Math.atan2(-f,-h),e.velocity.angle=e.direction;break}default:{if(qp(e.position,s.canvas.size,at.origin,e.getRadius(),n))return;switch(e.outType){case js.outside:{e.position.x=Math.floor(In({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(In({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=kn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case js.normal:{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),c=Wp(e.position,u);n===pt.right&&c.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Pe()*a.height,e.initialPosition.y=e.position.y)):n===pt.left&&c.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Pe()*a.height,e.initialPosition.y=e.position.y)),n===pt.bottom&&c.top>a.height+e.offset.y?(o||(e.position.x=Pe()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n===pt.top&&c.bottom<-e.offset.y&&(o||(e.position.x=Pe()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const Cue=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class Iue{constructor(e){this._addUpdaterIfMissing=(n,r,i)=>{const s=n.options.move.outModes;!this.updaters.has(r)&&Cue(s,r)&&this.updaters.set(r,i(this.container))},this._updateOutMode=(n,r,i,s)=>{for(const o of this.updaters.values())o.update(n,s,r,i)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Un.bounce,n=>new Sue(n)),this._addUpdaterIfMissing(e,Un.out,n=>new Tue(n)),this._addUpdaterIfMissing(e,Un.destroy,n=>new Aue(n)),this._addUpdaterIfMissing(e,Un.none,n=>new Pue(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const r=e.options.move.outModes;this._updateOutMode(e,n,r.bottom??r.default,pt.bottom),this._updateOutMode(e,n,r.left??r.default,pt.left),this._updateOutMode(e,n,r.right??r.default,pt.right),this._updateOutMode(e,n,r.top??r.default,pt.top)}}async function Rue(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new Iue(n)),e)}var Oc;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(Oc||(Oc={}));class kue{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return r}handleRangeColor(e){const n=e.value,r=n.rgb??e.value;if(r.r!==void 0)return{r:re(r.r),g:re(r.g),b:re(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,r=n.exec(e),i=10,s=4,o=1;return r?{a:r.length>s?Hp(r[Oc.a]):o,b:parseInt(r[Oc.b],i),g:parseInt(r[Oc.g],i),r:parseInt(r[Oc.r],i)}:void 0}}async function Mue(t,e=!0){t.checkVersion("3.8.1"),await t.addColorManager(new kue,e)}const Hl=0;class Oue{init(e){const n=e.container,r=e.options.size,i=r.animation;i.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/st*n.retina.reduceFactor,i.sync||(e.size.velocity*=Pe()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Hl)<=Hl||(e.size.maxLoops??Hl)>Hl&&(e.size.loops??Hl)<(e.size.maxLoops??Hl))}reset(e){e.size.loops=Hl}update(e,n){this.isEnabled(e)&&Ih(e,e.size,!0,e.options.size.animation.destroy,n)}}async function Nue(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new Oue),e)}async function Due(t,e=!0){t.checkVersion("3.8.1"),await yue(t,!1),await wue(t,!1),await Mue(t,!1),await tue(t,!1),await uue(t,!1),await hue(t,!1),await bue(t,!1),await Rue(t,!1),await Nue(t,!1),await t.refresh(e)}async function Lue(t,e=!0){t.checkVersion("3.8.1"),await t.addEasing(Ut.easeInQuad,n=>n**2,!1),await t.addEasing(Ut.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(Ut.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function Vue(t,e){const{context:n,opacity:r}=t,i=.5,s=n.globalAlpha;if(!e)return;const o=e.width,a=o*i;n.globalAlpha=r,n.drawImage(e,-a,-a,o,o),n.globalAlpha=s}const gw='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',MR=0;class Fue{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close()),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const r=this._emojiShapeDict.get(n);r&&Vue(e,r)}async init(e){const n=e.actualOptions,{validTypes:r}=this;if(!r.find(o=>Gt(o,n.particles.shape.type)))return;const i=[Nb(gw)],s=r.map(o=>n.particles.shape.options[o]).find(o=>!!o);s&&sn(s,o=>{o.font&&i.push(Nb(o.font))}),await Promise.all(i)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const i=n.shapeData;if(!(i!=null&&i.value))return;const s=jn(i.value,n.randomIndexData);if(!s)return;const o=typeof s=="string"?{font:i.font??gw,padding:i.padding??MR,value:s}:{font:gw,padding:MR,...i,...s},a=o.font,l=o.value,u=`${l}_${a}`;if(this._emojiShapeDict.has(u)){n.emojiDataKey=u;return}const c=o.padding*2,h=Oi(n.size.value),f=h+c,p=f*2;let m;if(typeof OffscreenCanvas<"u"){const w=new OffscreenCanvas(p,p),x=w.getContext("2d");if(!x)return;x.font=`400 ${h*2}px ${a}`,x.textBaseline="middle",x.textAlign="center",x.fillText(l,f,f),m=w.transferToImageBitmap()}else{const w=document.createElement("canvas");w.width=p,w.height=p;const x=w.getContext("2d");if(!x)return;x.font=`400 ${h*2}px ${a}`,x.textBaseline="middle",x.textAlign="center",x.fillText(l,f,f),m=w}this._emojiShapeDict.set(u,m),n.emojiDataKey=u}}async function Bue(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Fue,e)}const zue=1,jue=1,H6=0;function q6(t,e,n,r,i,s){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const a=e.particles.quadTree.query(i,s);for(const l of a){const{dx:u,dy:c,distance:h}=kn(l.position,n),f=o.speed*o.factor,p=vi(t.getEasing(o.easing)(jue-h/r)*f,zue,o.maxSpeed),m=at.create(h?u/h*p:f,h?c/h*p:f);l.position.subFrom(m)}}function Uue(t,e,n){e.attract||(e.attract={particles:[]});const{attract:r}=e;if(r.finish||(r.count||(r.count=0),r.count++,r.count===e.particles.count&&(r.finish=!0)),r.clicking){const i=e.interactivity.mouse.clickPosition,s=e.retina.attractModeDistance;if(!s||s<H6||!i)return;q6(t,e,i,s,new jr(i.x,i.y,s),o=>n(o))}else r.clicking===!1&&(r.particles=[])}function $ue(t,e,n){const r=e.interactivity.mouse.position,i=e.retina.attractModeDistance;!i||i<H6||!r||q6(t,e,r,i,new jr(r.x,r.y,i),s=>n(s))}class Gue{constructor(){this.distance=200,this.duration=.4,this.easing=Ut.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){J(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Mf="attract";let Hue=class extends wi{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=r=>{const i=this.container.actualOptions,s=i.interactivity.modes.attract;if(!(!s||r!==Mf)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*Qt)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=e.interactivity.status===Bu,i=n.interactivity.events,{enable:s,mode:o}=i.onHover,{enable:a,mode:l}=i.onClick;r&&s&&Gt(Mf,o)?$ue(this._engine,this.container,u=>this.isEnabled(u)):a&&Gt(Mf,l)&&Uue(this._engine,this.container,u=>this.isEnabled(u))}isEnabled(e){const n=this.container,r=n.actualOptions,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??r.interactivity).events;if((!i.position||!s.onHover.enable)&&(!i.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Gt(Mf,o)||Gt(Mf,a)}loadModeOptions(e,...n){e.attract||(e.attract=new Gue);for(const r of n)e.attract.load(r==null?void 0:r.attract)}reset(){}};async function que(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new Hue(t,n)),e)}const Wue=2,Wg=.5,Kue=Math.PI*Wg,OR=2,W6=10,Que=0;function K6(t,e,n,r,i){const s=t.particles.quadTree.query(r,i);for(const o of s)r instanceof jr?P6(Db(o),{position:e,radius:n,mass:n**Wue*Kue,velocity:at.origin,factor:at.origin}):r instanceof Ws&&Jre(o,Wp(e,n))}function Yue(t,e,n,r){const i=document.querySelectorAll(e);i.length&&i.forEach(s=>{const o=s,a=t.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*Wg)*a,y:(o.offsetTop+o.offsetHeight*Wg)*a},u=o.offsetWidth*Wg*a,c=W6*a,h=n.type===kh.circle?new jr(l.x,l.y,u+c):new Ws(o.offsetLeft*a-c,o.offsetTop*a-c,o.offsetWidth*a+c*OR,o.offsetHeight*a+c*OR);r(l,u,h)})}function Xue(t,e,n,r){GS(n,e,(i,s)=>Yue(t,i,s,(o,a,l)=>K6(t,o,a,l,r)))}function Jue(t,e){const n=t.retina.pixelRatio,r=W6*n,i=t.interactivity.mouse.position,s=t.retina.bounceModeDistance;!s||s<Que||!i||K6(t,i,s,new jr(i.x,i.y,s+r),e)}class Zue{constructor(){this.distance=200}load(e){J(e)||e.distance!==void 0&&(this.distance=e.distance)}}const Zm="bounce";class ece extends wi{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=n.interactivity.events,i=e.interactivity.status===Bu,s=r.onHover.enable,o=r.onHover.mode,a=r.onDiv;i&&s&&Gt(Zm,o)?Jue(this.container,l=>this.isEnabled(l)):Xue(this.container,a,Zm,l=>this.isEnabled(l))}isEnabled(e){const n=this.container,r=n.actualOptions,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??r.interactivity).events,o=s.onDiv;return!!i.position&&s.onHover.enable&&Gt(Zm,s.onHover.mode)||$S(Zm,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new Zue);for(const r of n)e.bounce.load(r==null?void 0:r.bounce)}reset(){}}async function tce(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new ece(n)),e)}class Q6{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!J(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Jn(this.color)?void 0:this.color;this.color=sn(e.color,r=>Ft.create(n,r))}e.size!==void 0&&(this.size=e.size)}}}class nce extends Q6{constructor(){super(),this.selectors=[]}load(e){super.load(e),!J(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class rce extends Q6{load(e){super.load(e),!J(e)&&(this.divs=sn(e.divs,n=>{const r=new nce;return r.load(n),r}))}}var io;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(io||(io={}));function NR(t,e,n,r){if(e>=n){const i=t+(e-n)*r;return vi(i,t,e)}else if(e<n){const i=t-(n-e)*r;return vi(i,e,t)}}const ql="bubble",yw=0,ice=0,sce=2,DR=1,LR=1,oce=0,ace=0,vw=.5,ww=1;class lce extends wi{constructor(e,n){super(e),this._clickBubble=()=>{var c;const r=this.container,i=r.actualOptions,s=r.interactivity.mouse.clickPosition,o=i.interactivity.modes.bubble;if(!o||!s)return;r.bubble||(r.bubble={});const a=r.retina.bubbleModeDistance;if(!a||a<yw)return;const l=r.particles.quadTree.queryCircle(s,a,h=>this.isEnabled(h)),{bubble:u}=r;for(const h of l){if(!u.clicking)continue;h.bubble.inRange=!u.durationEnd;const f=h.getPosition(),p=wr(f,s),m=(new Date().getTime()-(r.interactivity.mouse.clickTime??ice))/Qt;m>o.duration&&(u.durationEnd=!0),m>o.duration*sce&&(u.clicking=!1,u.durationEnd=!1);const w={bubbleObj:{optValue:r.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:Oi(h.options.size.value)*r.retina.pixelRatio,value:h.size.value},type:io.size};this._process(h,p,m,w);const x={bubbleObj:{optValue:o.opacity,value:h.bubble.opacity},particlesObj:{optValue:Oi(h.options.opacity.value),value:((c=h.opacity)==null?void 0:c.value)??DR},type:io.opacity};this._process(h,p,m,x),!u.durationEnd&&p<=a?this._hoverBubbleColor(h,p):delete h.bubble.color}},this._hoverBubble=()=>{const r=this.container,i=r.interactivity.mouse.position,s=r.retina.bubbleModeDistance;if(!s||s<yw||!i)return;const o=r.particles.quadTree.queryCircle(i,s,a=>this.isEnabled(a));for(const a of o){a.bubble.inRange=!0;const l=a.getPosition(),u=wr(l,i),c=LR-u/s;u<=s?c>=ace&&r.interactivity.status===Bu&&(this._hoverBubbleSize(a,c),this._hoverBubbleOpacity(a,c),this._hoverBubbleColor(a,c)):this.reset(a),r.interactivity.status===Cb&&this.reset(a)}},this._hoverBubbleColor=(r,i,s)=>{const o=this.container.actualOptions,a=s??o.interactivity.modes.bubble;if(a){if(!r.bubble.finalColor){const l=a.color;if(!l)return;const u=jn(l);r.bubble.finalColor=Vo(this._engine,u)}if(r.bubble.finalColor)if(a.mix){r.bubble.color=void 0;const l=r.getFillColor();r.bubble.color=l?M6(qS(l,r.bubble.finalColor,LR-i,i)):r.bubble.finalColor}else r.bubble.color=r.bubble.finalColor}},this._hoverBubbleOpacity=(r,i,s)=>{var f,p;const o=this.container,a=o.actualOptions,l=(s==null?void 0:s.opacity)??((f=a.interactivity.modes.bubble)==null?void 0:f.opacity);if(!l)return;const u=r.options.opacity.value,c=((p=r.opacity)==null?void 0:p.value)??DR,h=NR(c,l,Oi(u),i);h!==void 0&&(r.bubble.opacity=h)},this._hoverBubbleSize=(r,i,s)=>{const o=this.container,a=s!=null&&s.size?s.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(a===void 0)return;const l=Oi(r.options.size.value)*o.retina.pixelRatio,u=r.size.value,c=NR(u,a,l,i);c!==void 0&&(r.bubble.radius=c)},this._process=(r,i,s,o)=>{const a=this.container,l=o.bubbleObj.optValue,u=a.actualOptions,c=u.interactivity.modes.bubble;if(!c||l===void 0)return;const h=c.duration,f=a.retina.bubbleModeDistance,p=o.particlesObj.optValue,m=o.bubbleObj.value,w=o.particlesObj.value??oce,x=o.type;if(!(!f||f<yw||l===p))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)m&&(x===io.size&&delete r.bubble.radius,x===io.opacity&&delete r.bubble.opacity);else if(i<=f){if((m??w)!==l){const S=w-s*(w-l)/h;x===io.size&&(r.bubble.radius=S),x===io.opacity&&(r.bubble.opacity=S)}}else x===io.size&&delete r.bubble.radius,x===io.opacity&&delete r.bubble.opacity},this._singleSelectorHover=(r,i,s)=>{const o=this.container,a=document.querySelectorAll(i),l=o.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(u=>{const c=u,h=o.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth*vw)*h,y:(c.offsetTop+c.offsetHeight*vw)*h},p=c.offsetWidth*vw*h,m=s.type===kh.circle?new jr(f.x,f.y,p):new Ws(c.offsetLeft*h,c.offsetTop*h,c.offsetWidth*h,c.offsetHeight*h),w=o.particles.quadTree.query(m,x=>this.isEnabled(x));for(const x of w){if(!m.contains(x.getPosition()))continue;x.bubble.inRange=!0;const v=l.divs,S=A6(v,c);(!x.bubble.div||x.bubble.div!==c)&&(this.clear(x,r,!0),x.bubble.div=c),this._hoverBubbleSize(x,ww,S),this._hoverBubbleOpacity(x,ww,S),this._hoverBubbleColor(x,ww,S)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=r=>{r===ql&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,r){e.bubble.inRange&&!r||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,r=n.interactivity.events,i=r.onHover,s=r.onClick,o=i.enable,a=i.mode,l=s.enable,u=s.mode,c=r.onDiv;o&&Gt(ql,a)?this._hoverBubble():l&&Gt(ql,u)?this._clickBubble():GS(ql,c,(h,f)=>this._singleSelectorHover(e,h,f))}isEnabled(e){const n=this.container,r=n.actualOptions,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??r.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,u=$S(ql,a);return u||l.enable&&i.position||o.enable&&i.clickPosition?Gt(ql,l.mode)||Gt(ql,o.mode)||u:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new rce);for(const r of n)e.bubble.load(r==null?void 0:r.bubble)}reset(e){e.bubble.inRange=!1}}async function uce(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new lce(n,t)),e)}class cce{constructor(){this.opacity=.5}load(e){J(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class hce{constructor(){this.distance=80,this.links=new cce,this.radius=60}load(e){J(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const VR=0,FR=1,fce=0;function dce(t,e,n,r){const i=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),u=qS(s,o,e.getRadius(),n.getRadius()),c=t.createLinearGradient(a.x,a.y,l.x,l.y);return c.addColorStop(VR,Il(s,r)),c.addColorStop(vi(i,VR,FR),Xr(u,r)),c.addColorStop(FR,Il(o,r)),c}function pce(t,e,n,r,i){md(t,r,i),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function mce(t,e,n,r){const i=t.actualOptions,s=i.interactivity.modes.connect;if(s)return dce(e,n,r,s.links.opacity)}function gce(t,e,n){t.canvas.draw(r=>{const i=mce(t,r,e,n);if(!i)return;const s=e.getPosition(),o=n.getPosition();pce(r,e.retina.linksWidth??fce,i,s,o)})}const yce="connect",BR=0;class vce extends wi{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const r=e.interactivity.mouse.position,{connectModeDistance:i,connectModeRadius:s}=e.retina;if(!i||i<BR||!s||s<BR||!r)return;const o=Math.abs(s),a=e.particles.quadTree.queryCircle(r,o,l=>this.isEnabled(l));a.forEach((l,u)=>{const c=l.getPosition(),h=1;for(const f of a.slice(u+h)){const p=f.getPosition(),m=Math.abs(i),w=Math.abs(c.x-p.x),x=Math.abs(c.y-p.y);w<m&&x<m&&gce(e,l,f)}})}}isEnabled(e){const n=this.container,r=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return i.onHover.enable&&r.position?Gt(yce,i.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new hce);for(const r of n)e.connect.load(r==null?void 0:r.connect)}reset(){}}async function wce(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new vce(n)),e)}class _ce{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){J(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class bce{constructor(){this.distance=100,this.links=new _ce}load(e){J(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const xce=0;function Ece(t,e,n,r,i,s){md(t,n,r),t.strokeStyle=Xr(i,s),t.lineWidth=e,t.stroke()}function Sce(t,e,n,r,i){t.canvas.draw(s=>{const o=e.getPosition();Ece(s,e.retina.linksWidth??xce,o,i,n,r)})}const Ace="grab",Pce=0,Tce=0;class Cce extends wi{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,r=n.interactivity;if(!r.modes.grab||!r.events.onHover.enable||e.interactivity.status!==Bu)return;const i=e.interactivity.mouse.position;if(!i)return;const s=e.retina.grabModeDistance;if(!s||s<Pce)return;const o=e.particles.quadTree.queryCircle(i,s,l=>this.isEnabled(l));for(const l of o){const u=l.getPosition(),c=wr(u,i);if(c>s)continue;const h=r.modes.grab.links,f=h.opacity,p=f-c*f/s;if(p<=Tce)continue;const m=h.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&m){const x=r.modes.grab.links;e.particles.grabLineColor=N6(this._engine,m,x.blink,x.consent)}const w=Lb(l,void 0,e.particles.grabLineColor);w&&Sce(e,l,w,p,i)}}isEnabled(e){const n=this.container,r=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return i.onHover.enable&&!!r.position&&Gt(Ace,i.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new bce);for(const r of n)e.grab.load(r==null?void 0:r.grab)}reset(){}}async function Ice(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new Cce(n,t)),e)}const Rce="pause";class kce extends wi{constructor(e){super(e),this.handleClickMode=n=>{if(n!==Rce)return;const r=this.container;r.animationStatus?r.pause():r.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function Mce(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new kce(n)),e)}class Oce{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(J(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(r=>r)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=Re(n))}}const Nce="push",Dce=0;class Lce extends wi{constructor(e){super(e),this.handleClickMode=n=>{if(n!==Nce)return;const r=this.container,i=r.actualOptions,s=i.interactivity.modes.push;if(!s)return;const o=re(s.quantity);if(o<=Dce)return;const a=Lo([void 0,...s.groups]),l=a!==void 0?r.actualOptions.particles.groups[a]:void 0;r.particles.push(o,r.interactivity.mouse,l,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new Oce);for(const r of n)e.push.load(r==null?void 0:r.push)}reset(){}}async function Vce(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new Lce(n)),e)}class Fce{constructor(){this.quantity=2}load(e){if(J(e))return;const n=e.quantity;n!==void 0&&(this.quantity=Re(n))}}const Bce="remove";class zce extends wi{constructor(e){super(e),this.handleClickMode=n=>{const r=this.container,i=r.actualOptions;if(!i.interactivity.modes.remove||n!==Bce)return;const s=re(i.interactivity.modes.remove.quantity);r.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new Fce);for(const r of n)e.remove.load(r==null?void 0:r.remove)}reset(){}}async function jce(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new zce(n)),e)}class Y6{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Ut.easeOutQuad}load(e){J(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class Uce extends Y6{constructor(){super(),this.selectors=[]}load(e){super.load(e),!J(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class $ce extends Y6{load(e){super.load(e),!J(e)&&(this.divs=sn(e.divs,n=>{const r=new Uce;return r.load(n),r}))}}const Wl="repulse",Gce=0,Hce=6,qce=3,Wce=2,Kce=0,Qce=0,Yce=1,_w=.5;let Xce=class extends wi{constructor(e,n){super(n),this._clickRepulse=()=>{const r=this.container,i=r.actualOptions.interactivity.modes.repulse;if(!i)return;const s=r.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===r.particles.count&&(s.finish=!0)),s.clicking){const o=r.retina.repulseModeDistance;if(!o||o<Gce)return;const a=Math.pow(o/Hce,qce),l=r.interactivity.mouse.clickPosition;if(l===void 0)return;const u=new jr(l.x,l.y,a),c=r.particles.quadTree.query(u,h=>this.isEnabled(h));for(const h of c){const{dx:f,dy:p,distance:m}=kn(l,h.position),w=m**Wce,x=i.speed,v=-a*x/w;if(w<=a){s.particles.push(h);const S=at.create(f,p);S.length=v,h.velocity.setTo(S)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const r=this.container,i=r.interactivity.mouse.position,s=r.retina.repulseModeDistance;!s||s<Kce||!i||this._processRepulse(i,s,new jr(i.x,i.y,s))},this._processRepulse=(r,i,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,x=>this.isEnabled(x)),u=a.actualOptions.interactivity.modes.repulse;if(!u)return;const{easing:c,speed:h,factor:f,maxSpeed:p}=u,m=this._engine.getEasing(c),w=((o==null?void 0:o.speed)??h)*f;for(const x of l){const{dx:v,dy:S,distance:A}=kn(x.position,r),M=vi(m(Yce-A/i)*w,Qce,p),U=at.create(A?v/A*M:w,A?S/A*M:w);x.position.addTo(U)}},this._singleSelectorRepulse=(r,i)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(r);a.length&&a.forEach(l=>{const u=l,c=s.retina.pixelRatio,h={x:(u.offsetLeft+u.offsetWidth*_w)*c,y:(u.offsetTop+u.offsetHeight*_w)*c},f=u.offsetWidth*_w*c,p=i.type===kh.circle?new jr(h.x,h.y,f):new Ws(u.offsetLeft*c,u.offsetTop*c,u.offsetWidth*c,u.offsetHeight*c),m=o.divs,w=A6(m,u);this._processRepulse(h,f,p,w)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=r=>{const i=this.container.actualOptions,s=i.interactivity.modes.repulse;if(!s||r!==Wl)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*Qt)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,r=e.interactivity.status===Bu,i=n.interactivity.events,s=i.onHover,o=s.enable,a=s.mode,l=i.onClick,u=l.enable,c=l.mode,h=i.onDiv;r&&o&&Gt(Wl,a)?this._hoverRepulse():u&&Gt(Wl,c)?this._clickRepulse():GS(Wl,h,(f,p)=>this._singleSelectorRepulse(f,p))}isEnabled(e){const n=this.container,r=n.actualOptions,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??r.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,u=$S(Wl,o);if(!(u||a.enable&&i.position||l.enable&&i.clickPosition))return!1;const c=a.mode,h=l.mode;return Gt(Wl,c)||Gt(Wl,h)||u}loadModeOptions(e,...n){e.repulse||(e.repulse=new $ce);for(const r of n)e.repulse.load(r==null?void 0:r.repulse)}reset(){}};async function Jce(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new Xce(t,n)),e)}class Zce{constructor(){this.factor=3,this.radius=200}load(e){J(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const ehe="slow",the=0;class nhe extends wi{constructor(e){super(e)}clear(e,n,r){e.slow.inRange&&!r||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,r=n.interactivity.mouse,i=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return i.onHover.enable&&!!r.position&&Gt(ehe,i.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new Zce);for(const r of n)e.slow.load(r==null?void 0:r.slow)}reset(e){e.slow.inRange=!1;const n=this.container,r=n.actualOptions,i=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=r.interactivity.modes.slow;if(!o||!s||s<the||!i)return;const a=e.getPosition(),l=wr(i,a),u=l/s,c=o.factor,{slow:h}=e;l>s||(h.inRange=!0,h.factor=u/c)}}async function rhe(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new nhe(n)),e)}const ihe=0,she=1,ohe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function ahe(t,e,n){const{svgData:r}=t;if(!r)return"";const i=Il(e,n);if(r.includes("fill"))return r.replace(ohe,()=>i);const s=r.indexOf(">");return`${r.substring(ihe,s)} fill="${i}"${r.substring(s)}`}async function Dv(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,ba().error(`${ar} loading image: ${t.source}`),e()}),n.src=t.source})}async function lhe(t){if(t.type!=="svg"){await Dv(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(ba().error(`${ar} Image not found`),t.error=!0),t.loading=!1}function uhe(t,e,n,r){var o;const i=ahe(t,n,((o=r.opacity)==null?void 0:o.value)??she),s={color:n,gif:e.gif,data:{...t,svgData:i},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([i],{type:"image/svg+xml"}),u=URL||window.URL||window.webkitURL||window,c=u.createObjectURL(l),h=new Image;h.addEventListener("load",()=>{s.loaded=!0,s.element=h,a(s),u.revokeObjectURL(c)});const f=async()=>{u.revokeObjectURL(c);const p={...t,error:!1,loading:!0};await Dv(p),s.loaded=!0,s.element=p.element,a(s)};h.addEventListener("error",()=>void f()),h.src=c})}const bw=[0,4,2,1],zR=[8,8,4,2];class che{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((r,i)=>r+String.fromCharCode(i),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const r=0,i=0;do{n=this.data[this.pos++];for(let s=n;--s>=r;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==i);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const r=0,i=1;for(let o=0;e!==r;o+=e+i,e=this.data[this.pos+o])n+=e;const s=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==r;e=this.data[this.pos++])for(let a=e;--a>=r;s[o++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var Ps;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(Ps||(Ps={}));var ia;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(ia||(ia={}));const oi={x:0,y:0},hhe=0,jR=.5,fhe=0,UR=0,zb=0;function X6(t,e){const n=[];for(let r=0;r<e;r++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function dhe(t,e,n,r){switch(t.nextByte()){case ia.GraphicsControlExtension:{const i=e.frames[n(!1)];t.pos++;const s=t.nextByte();i.GCreserved=(s&224)>>>5,i.disposalMethod=(s&28)>>>2,i.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;i.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&r(a),t.pos++;break}case ia.ApplicationExtension:{t.pos++;const i={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(i);break}case ia.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case ia.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function phe(t,e,n,r,i,s){const o=e.frames[r(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,u=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const c=1<<(a&7)+1;l&&(o.localColorTable=X6(t,c));const h=v=>{const{r:S,g:A,b:M}=(l?o.localColorTable:e.globalColorTable)[v];return v!==i(null)?{r:S,g:A,b:M,a:255}:{r:S,g:A,b:M,a:n?~~((S+A+M)/3):0}},f=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(v){if(v instanceof DOMException&&v.name==="IndexSizeError")return null;throw v}})();if(f==null)throw new EvalError("GIF frame size is to large");const p=t.nextByte(),m=t.readSubBlocksBin(),w=1<<p,x=(v,S)=>{const A=v>>>3,M=v&7;return(m[A]+(m[A+1]<<8)+(m[A+2]<<16)&(1<<S)-1<<M)>>>M};if(u){for(let v=0,S=p+1,A=0,M=[[0]],U=0;U<4;U++){if(bw[U]<o.height){let N=0,D=0,R=!1;for(;!R;){const L=v;if(v=x(A,S),A+=S+1,v===w){S=p+1,M.length=w+2;for(let z=0;z<M.length;z++)M[z]=z<w?[z]:[]}else{v>=M.length?M.push(M[L].concat(M[L][0])):L!==w&&M.push(M[L].concat(M[v][0]));for(const z of M[v]){const{r:G,g:W,b:E,a:g}=h(z);f.data.set([G,W,E,g],bw[U]*o.width+zR[U]*D+N%(o.width*4)),N+=4}M.length===1<<S&&S<12&&S++}N===o.width*4*(D+1)&&(D++,bw[U]+zR[U]*D>=o.height&&(R=!0))}}s==null||s(t.pos/(t.data.length-1),r(!1)+1,f,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=f,o.bitmap=await createImageBitmap(f)}else{let v=0,S=p+1,A=0,M=-4,U=!1;const N=[[0]];for(;!U;){const D=v;if(v=x(A,S),A+=S,v===w){S=p+1,N.length=w+2;for(let R=0;R<N.length;R++)N[R]=R<w?[R]:[]}else{if(v===w+1){U=!0;break}v>=N.length?N.push(N[D].concat(N[D][0])):D!==w&&N.push(N[D].concat(N[v][0]));for(const R of N[v]){const{r:L,g:z,b:G,a:W}=h(R);f.data.set([L,z,G,W],M+=4)}N.length>=1<<S&&S<12&&S++}}o.image=f,o.bitmap=await createImageBitmap(f),s==null||s((t.pos+1)/t.data.length,r(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}async function mhe(t,e,n,r,i,s){switch(t.nextByte()){case ia.EndOfFile:return!0;case ia.Image:await phe(t,e,n,r,i,s);break;case ia.Extension:dhe(t,e,r,i);break;default:throw new EvalError("undefined block found")}return!1}function ghe(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function yhe(t,e,n){n||(n=!1);const r=await fetch(t);if(!r.ok&&r.status===404)throw new EvalError("file not found");const i=await r.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new che(new Uint8ClampedArray(i));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const u=1<<(a&7)+1,c=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=X6(o,u));const h=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(M){if(M instanceof DOMException&&M.name==="IndexSizeError")return null;throw M}})();if(h==null)throw new Error("GIF frame size is to large");const{r:f,g:p,b:m}=s.globalColorTable[c];h.data.set(l?[f,p,m,255]:[0,0,0,0]);for(let M=4;M<h.data.length;M*=2)h.data.copyWithin(M,0,M);s.backgroundImage=h;let w=-1,x=!0,v=-1;const S=M=>(M&&(x=!0),w),A=M=>(M!=null&&(v=M),v);try{do x&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Ps.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),w++,v=-1,x=!1);while(!await mhe(o,s,n,S,A,e));s.frames.length--;for(const M of s.frames){if(M.userInputDelayFlag&&M.delayTime===0){s.totalTime=1/0;break}s.totalTime+=M.delayTime}return s}catch(M){throw M instanceof EvalError?new Error(`error while parsing frame ${w} "${M.message}"`):M}}function vhe(t){const{context:e,radius:n,particle:r,delta:i}=t,s=r.image;if(!(s!=null&&s.gifData)||!s.gif)return;const o=new OffscreenCanvas(s.gifData.width,s.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(oi.x,oi.y,o.width,o.height),r.gifLoopCount===void 0&&(r.gifLoopCount=s.gifLoopCount??zb);let l=r.gifFrame??hhe;const u={x:-s.gifData.width*jR,y:-s.gifData.height*jR},c=s.gifData.frames[l];if(r.gifTime===void 0&&(r.gifTime=fhe),!!c.bitmap){switch(e.scale(n/s.gifData.width,n/s.gifData.height),c.disposalMethod){case Ps.UndefinedA:case Ps.UndefinedB:case Ps.UndefinedC:case Ps.UndefinedD:case Ps.Replace:a.drawImage(c.bitmap,c.left,c.top),e.drawImage(o,u.x,u.y),a.clearRect(oi.x,oi.y,o.width,o.height);break;case Ps.Combine:a.drawImage(c.bitmap,c.left,c.top),e.drawImage(o,u.x,u.y);break;case Ps.RestoreBackground:a.drawImage(c.bitmap,c.left,c.top),e.drawImage(o,u.x,u.y),a.clearRect(oi.x,oi.y,o.width,o.height),s.gifData.globalColorTable.length?a.putImageData(s.gifData.backgroundImage,u.x,u.y):a.putImageData(s.gifData.frames[UR].image,u.x+c.left,u.y+c.top);break;case Ps.RestorePrevious:{const h=a.getImageData(oi.x,oi.y,o.width,o.height);a.drawImage(c.bitmap,c.left,c.top),e.drawImage(o,u.x,u.y),a.clearRect(oi.x,oi.y,o.width,o.height),a.putImageData(h,oi.x,oi.y)}break}if(r.gifTime+=i.value,r.gifTime>c.delayTime){if(r.gifTime-=c.delayTime,++l>=s.gifData.frames.length){if(--r.gifLoopCount<=zb)return;l=UR,a.clearRect(oi.x,oi.y,o.width,o.height)}r.gifFrame=l}e.scale(s.gifData.width/n,s.gifData.height/n)}}async function whe(t){if(t.type!=="gif"){await Dv(t);return}t.loading=!0;try{t.gifData=await yhe(t.source),t.gifLoopCount=ghe(t.gifData)??zb,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const _he=2,bhe=1,xhe=12,Ehe=1;class She{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${ar} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:r,particle:i,opacity:s}=e,o=i.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=s,o.gif&&o.gifData)vhe(e);else if(a){const l=o.ratio,u={x:-r,y:-r},c=r*_he;n.drawImage(a,u.x,u.y,c,c/l)}n.globalAlpha=bhe}}getSidesCount(){return xhe}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const r of n.preload)await this._engine.loadImage(r)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(i=>i.name===n.name||i.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const r=this._engine.images,i=n.shapeData;if(!i)return;const s=n.getFillColor(),o=r.find(l=>l.name===i.name||l.source===i.src);if(!o)return;const a=i.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await uhe(o,i,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:i.width&&i.height?i.width/i.height:o.ratio??Ehe,replaceColor:a,source:i.src},l.ratio||(l.ratio=1);const u=i.fill??n.shapeFill,c=i.close??n.shapeClose,h={image:l,fill:u,close:c};n.image=h.image,n.shapeFill=h.fill,n.shapeClose=h.close})()}}class Ahe{constructor(){this.src="",this.gif=!1}load(e){J(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class Phe{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const r=e.preload;for(const i of n.preload){const s=r.find(o=>o.name===i.name||o.src===i.src);if(s)s.load(i);else{const o=new Ahe;o.load(i),r.push(o)}}}needsPlugin(){return!0}}const The=3;function Che(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${ar} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-The),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let r;e.gif?r=whe:r=e.replaceColor?lhe:Dv,await r(n)}catch{throw new Error(`${ar} ${e.name??e.src} not found`)}})}async function Ihe(t,e=!0){t.checkVersion("3.8.1"),Che(t);const n=new Phe(t);await t.addPlugin(n,e),await t.addShape(new She(t),e)}class Rhe extends zi{constructor(){super(),this.sync=!1}load(e){J(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class khe extends zi{constructor(){super(),this.sync=!1}load(e){J(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Mhe{constructor(){this.count=0,this.delay=new Rhe,this.duration=new khe}load(e){J(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const sc=0,Ohe=-1,$R=0,GR=0;function Nhe(t,e,n){if(!t.life)return;const r=t.life;let i=!1;if(t.spawning)if(r.delayTime+=e.value,r.delayTime>=t.life.delay)i=!0,t.spawning=!1,r.delayTime=sc,r.time=sc;else return;if(r.duration===Ohe||t.spawning||(i?r.time=sc:r.time+=e.value,r.time<r.duration))return;if(r.time=sc,t.life.count>$R&&t.life.count--,t.life.count===$R){t.destroy();return}const s=Re(GR,n.width),o=Re(GR,n.width);t.position.x=In(s),t.position.y=In(o),t.spawning=!0,r.delayTime=sc,r.time=sc,t.reset();const a=t.options.life;a&&(r.delay=re(a.delay.value)*Qt,r.duration=re(a.duration.value)*Qt)}const Kl=0,HR=1,qR=-1;class Dhe{constructor(e){this.container=e}init(e){const n=this.container,r=e.options,i=r.life;i&&(e.life={delay:n.retina.reduceFactor?re(i.delay.value)*(i.delay.sync?HR:Pe())/n.retina.reduceFactor*Qt:Kl,delayTime:Kl,duration:n.retina.reduceFactor?re(i.duration.value)*(i.duration.sync?HR:Pe())/n.retina.reduceFactor*Qt:Kl,time:Kl,count:i.count},e.life.duration<=Kl&&(e.life.duration=qR),e.life.count<=Kl&&(e.life.count=qR),e.life&&(e.spawning=e.life.delay>Kl))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new Mhe);for(const r of n)e.life.load(r==null?void 0:r.life)}update(e,n){!this.isEnabled(e)||!e.life||Nhe(e,n,this.container.canvas.size)}}async function Lhe(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new Dhe(n)),e)}function Vhe(t){const{context:e,particle:n,radius:r}=t,i=n.shapeData,s=0;e.moveTo(-r,s),e.lineTo(r,s),e.lineCap=(i==null?void 0:i.cap)??"butt"}const Fhe=1;class Bhe{constructor(){this.validTypes=["line"]}draw(e){Vhe(e)}getSidesCount(){return Fhe}}async function zhe(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Bhe,e)}const WR=.5;class jhe{init(){}isEnabled(e){return!zu()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,r=n.actualOptions,i=r.interactivity.events.onHover.parallax;if(zu()||!i.enable)return;const s=i.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width*WR,y:a.height*WR},u=i.smooth,c=e.getRadius()/s,h={x:(o.x-l.x)*c,y:(o.y-l.y)*c},{offset:f}=e;f.x+=(h.x-f.x)/u,f.y+=(h.y-f.y)/u}}async function Uhe(t,e=!0){t.checkVersion("3.8.1"),await t.addMover("parallax",()=>Promise.resolve(new jhe),e)}const KR=1e3,$he=1;class Ghe extends ef{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=re(e.options.move.attract.distance)*n.retina.pixelRatio);const r=e.attractDistance,i=e.getPosition(),s=n.particles.quadTree.queryCircle(i,r);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:u}=kn(i,a),c=e.options.move.attract.rotate,h=l/(c.x*KR),f=u/(c.y*KR),p=o.size.value/e.size.value,m=$he/p;e.velocity.x-=h*p,e.velocity.y-=f*p,o.velocity.x+=h*m,o.velocity.y+=f*m}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function Hhe(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new Ghe(n)),e)}const qhe=.5,Whe=10,Khe=0;function QR(t,e,n,r,i,s){const o=vi(t.options.collisions.absorb.speed*i.factor/Whe,Khe,r);t.size.value+=o*qhe,n.size.value-=o,r<=s&&(n.size.value=0,n.destroy())}function Qhe(t,e,n,r){const i=t.getRadius(),s=e.getRadius();i===void 0&&s!==void 0?t.destroy():i!==void 0&&s===void 0?e.destroy():i!==void 0&&s!==void 0&&(i>=s?QR(t,i,e,s,n,r):QR(e,s,t,i,n,r))}const YR=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=re(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function J6(t,e){P6(Db(t),Db(e)),YR(t),YR(e)}function Yhe(t,e){!t.unbreakable&&!e.unbreakable&&J6(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function Xhe(t,e,n,r){switch(t.options.collisions.mode){case nh.absorb:{Qhe(t,e,n,r);break}case nh.bounce:{J6(t,e);break}case nh.destroy:{Yhe(t,e);break}}}const Jhe=2;class Zhe extends ef{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const r=this.container,i=e.getPosition(),s=e.getRadius(),o=r.particles.quadTree.queryCircle(i,s*Jhe);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),u=a.getRadius();if(Math.abs(Math.round(i.z)-Math.round(l.z))>s+u)continue;const c=wr(i,l),h=s+u;c>h||Xhe(e,a,n,r.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function efe(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new Zhe(n)),e)}const xw=2;class tfe extends jr{constructor(e,n,r,i){super(e,n,r),this.canvasSize=i,this.canvasSize={...i}}contains(e){const{width:n,height:r}=this.canvasSize,{x:i,y:s}=e;return super.contains(e)||super.contains({x:i-n,y:s})||super.contains({x:i-n,y:s-r})||super.contains({x:i,y:s-r})}intersects(e){if(super.intersects(e))return!0;const n=e,r=e,i={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(r.radius!==void 0){const s=new jr(i.x,i.y,r.radius*xw);return super.intersects(s)}else if(n.size!==void 0){const s=new Ws(i.x,i.y,n.size.width*xw,n.size.height*xw);return super.intersects(s)}return!1}}class nfe{constructor(){this.blur=5,this.color=new Ft,this.color.value="#000",this.enable=!1}load(e){J(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=Ft.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class rfe{constructor(){this.enable=!1,this.frequency=1}load(e){J(e)||(e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class ife{constructor(){this.blink=!1,this.color=new Ft,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new nfe,this.triangles=new rfe,this.width=1,this.warp=!1}load(e){J(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Ft.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const XR=2,sfe=1,eg={x:0,y:0},ofe=0;function afe(t,e,n,r,i){const{dx:s,dy:o,distance:a}=kn(t,e);if(!i||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},u={x:Math.min(l.x,r.width-l.x),y:Math.min(l.y,r.height-l.y)};return Math.sqrt(u.x**XR+u.y**XR)}class lfe extends ef{constructor(e,n){super(e),this._setColor=r=>{if(!r.options.links)return;const i=this._linkContainer,s=r.options.links;let o=s.id===void 0?i.particles.linksColor:i.particles.linksColors.get(s.id);if(o)return;const a=s.color;o=N6(this._engine,a,s.blink,s.consent),s.id===void 0?i.particles.linksColor=o:i.particles.linksColors.set(s.id,o)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),r=this.container,i=r.canvas.size;if(n.x<eg.x||n.y<eg.y||n.x>i.width||n.y>i.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??ofe,l=s.warp;let u;l?u=new tfe(n.x,n.y,a,i):u=new jr(n.x,n.y,a);const c=r.particles.quadTree.query(u);for(const h of c){const f=h.options.links;if(e===h||!(f!=null&&f.enable)||s.id!==f.id||h.spawning||h.destroyed||!h.links||e.links.some(x=>x.destination===h)||h.links.some(x=>x.destination===e))continue;const p=h.getPosition();if(p.x<eg.x||p.y<eg.y||p.x>i.width||p.y>i.height)continue;const m=afe(n,p,a,i,l&&f.warp);if(m>a)continue;const w=(sfe-m/a)*o;this._setColor(e),e.links.push({destination:h,opacity:w})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new ife);for(const r of n)e.links.load(r==null?void 0:r.links)}reset(){}}async function ufe(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new lfe(n,t)),e)}function cfe(t,e,n,r){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(r.x,r.y),t.closePath()}function hfe(t){let e=!1;const{begin:n,end:r,engine:i,maxDistance:s,context:o,canvasSize:a,width:l,backgroundMask:u,colorLine:c,opacity:h,links:f}=t;if(wr(n,r)<=s)md(o,n,r),e=!0;else if(f.warp){let m,w;const x={x:r.x-a.width,y:r.y},v=kn(n,x);if(v.distance<=s){const S=n.y-v.dy/v.dx*n.x;m={x:0,y:S},w={x:a.width,y:S}}else{const S={x:r.x,y:r.y-a.height},A=kn(n,S);if(A.distance<=s){const U=-(n.y-A.dy/A.dx*n.x)/(A.dy/A.dx);m={x:U,y:0},w={x:U,y:a.height}}else{const M={x:r.x-a.width,y:r.y-a.height},U=kn(n,M);if(U.distance<=s){const N=n.y-U.dy/U.dx*n.x;m={x:-N/(U.dy/U.dx),y:N},w={x:m.x+a.width,y:m.y+a.height}}}}m&&w&&(md(o,n,m),md(o,r,w),e=!0)}if(!e)return;o.lineWidth=l,u.enable&&(o.globalCompositeOperation=u.composite),o.strokeStyle=Xr(c,h);const{shadow:p}=f;if(p.enable){const m=_r(i,p.color);m&&(o.shadowBlur=p.blur,o.shadowColor=Xr(m))}o.stroke()}function ffe(t){const{context:e,pos1:n,pos2:r,pos3:i,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;cfe(e,n,r,i),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=Xr(o,a),e.fill()}function dfe(t){return t.sort((e,n)=>e-n),t.join("_")}function JR(t,e){const n=dfe(t.map(i=>i.id));let r=e.get(n);return r===void 0&&(r=Pe(),e.set(n,r)),r}const ZR=0,Ew=0,ek=0,pfe=.5,mfe=1;class gfe{constructor(e,n){this._drawLinkLine=(r,i)=>{const s=r.options.links;if(!(s!=null&&s.enable))return;const o=this._container,a=o.actualOptions,l=i.destination,u=r.getPosition(),c=l.getPosition();let h=i.opacity;o.canvas.draw(f=>{var S;let p;const m=(S=r.options.twinkle)==null?void 0:S.lines;if(m!=null&&m.enable){const A=m.frequency,M=_r(this._engine,m.color);Pe()<A&&M&&(p=M,h=re(m.opacity))}if(!p){const A=s.id!==void 0?o.particles.linksColors.get(s.id):o.particles.linksColor;p=Lb(r,l,A)}if(!p)return;const w=r.retina.linksWidth??Ew,x=r.retina.linksDistance??ek,{backgroundMask:v}=a;hfe({context:f,width:w,begin:u,end:c,engine:this._engine,maxDistance:x,canvasSize:o.canvas.size,links:s,backgroundMask:v,colorLine:p,opacity:h})})},this._drawLinkTriangle=(r,i,s)=>{const o=r.options.links;if(!(o!=null&&o.enable))return;const a=o.triangles;if(!a.enable)return;const l=this._container,u=l.actualOptions,c=i.destination,h=s.destination,f=a.opacity??(i.opacity+s.opacity)*pfe;f<=ZR||l.canvas.draw(p=>{const m=r.getPosition(),w=c.getPosition(),x=h.getPosition(),v=r.retina.linksDistance??ek;if(wr(m,w)>v||wr(x,w)>v||wr(x,m)>v)return;let S=_r(this._engine,a.color);if(!S){const A=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;S=Lb(r,c,A)}S&&ffe({context:p,pos1:m,pos2:w,pos3:x,backgroundMask:u.backgroundMask,colorTriangle:S,opacityTriangle:f})})},this._drawTriangles=(r,i,s,o)=>{var u,c,h;const a=s.destination;if(!((u=r.links)!=null&&u.triangles.enable&&((c=a.options.links)!=null&&c.triangles.enable)))return;const l=(h=a.links)==null?void 0:h.filter(f=>{const p=this._getLinkFrequency(a,f.destination),m=0;return a.options.links&&p<=a.options.links.frequency&&o.findIndex(w=>w.destination===f.destination)>=m});if(l!=null&&l.length)for(const f of l){const p=f.destination;this._getTriangleFrequency(i,a,p)>r.links.triangles.frequency||this._drawLinkTriangle(i,s,f)}},this._getLinkFrequency=(r,i)=>JR([r,i],this._freqs.links),this._getTriangleFrequency=(r,i,s)=>JR([r,i,s],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:r,options:i}=n;if(!(r!=null&&r.length))return;const s=r.filter(o=>i.links&&(i.links.frequency>=mfe||this._getLinkFrequency(n,o.destination)<=i.links.frequency));for(const o of s)this._drawTriangles(i,n,o,s),o.opacity>ZR&&(n.retina.linksWidth??Ew)>Ew&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:r}=e,{distance:i,width:s}=e.options.links;r.linksDistance=i*n,r.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class yfe{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new gfe(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function vfe(t,e=!0){const n=new yfe(t);await t.addPlugin(n,e)}async function wfe(t,e=!0){t.checkVersion("3.8.1"),await ufe(t,e),await vfe(t,e)}const _fe=180,tg={x:0,y:0},bfe=2;function xfe(t,e,n){const{context:r}=t,i=n.count.numerator*n.count.denominator,s=n.count.numerator/n.count.denominator,o=_fe*(s-bfe)/s,a=Math.PI-zs(o);if(r){r.beginPath(),r.translate(e.x,e.y),r.moveTo(tg.x,tg.y);for(let l=0;l<i;l++)r.lineTo(n.length,tg.y),r.translate(n.length,tg.y),r.rotate(a)}}const Efe=5;class Z6{draw(e){const{particle:n,radius:r}=e,i=this.getCenter(n,r),s=this.getSidesData(n,r);xfe(e,i,s)}getSidesCount(e){const n=e.shapeData;return Math.round(re((n==null?void 0:n.sides)??Efe))}}const tk=3.5,nk=2.66,Sfe=3;class Afe extends Z6{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/tk),y:-n/(nk/tk)}}getSidesData(e,n){const r=e.sides;return{count:{denominator:1,numerator:r},length:n*nk/(r/Sfe)}}}const Pfe=1.66,Tfe=3,Cfe=2;class Ife extends Z6{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/Pfe}}getSidesCount(){return Tfe}getSidesData(e,n){const r=n*Cfe;return{count:{denominator:2,numerator:3},length:r}}}async function Rfe(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Afe,e)}async function kfe(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Ife,e)}async function Mfe(t,e=!0){t.checkVersion("3.8.1"),await Rfe(t,e),await kfe(t,e)}class Ofe{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Re(e.speed)),e.decay!==void 0&&(this.decay=Re(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Nfe extends zi{constructor(){super(),this.animation=new Ofe,this.direction=Cn.clockwise,this.path=!1,this.value=0}load(e){J(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const e9=2,Dfe=Math.PI*e9,Lfe=1,Vfe=360;class Ffe{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:zs(re(n.value)),min:0,max:Dfe},e.pathRotation=n.path;let r=n.direction;switch(r===Cn.random&&(r=Math.floor(Pe()*e9)>0?Cn.counterClockwise:Cn.clockwise),r){case Cn.counterClockwise:case"counterClockwise":e.rotate.status=qt.decreasing;break;case Cn.clockwise:e.rotate.status=qt.increasing;break}const i=n.animation;i.enable&&(e.rotate.decay=Lfe-re(i.decay),e.rotate.velocity=re(i.speed)/Vfe*this.container.retina.reduceFactor,i.sync||(e.rotate.velocity*=Pe())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new Nfe);for(const r of n)e.rotate.load(r==null?void 0:r.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(Ih(e,e.rotate,!1,Do.none,n),e.rotation=e.rotate.value))}}async function Bfe(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new Ffe(n)),e)}const zfe=2,jfe=Math.sqrt(zfe),Ufe=2;function $fe(t){const{context:e,radius:n}=t,r=n/jfe,i=r*Ufe;e.rect(-r,-r,i,i)}const Gfe=4;class Hfe{constructor(){this.validTypes=["edge","square"]}draw(e){$fe(e)}getSidesCount(){return Gfe}}async function qfe(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Hfe,e)}const Wfe=2,oc={x:0,y:0};function Kfe(t){const{context:e,particle:n,radius:r}=t,i=n.sides,s=n.starInset??Wfe;e.moveTo(oc.x,oc.y-r);for(let o=0;o<i;o++)e.rotate(Math.PI/i),e.lineTo(oc.x,oc.y-r*s),e.rotate(Math.PI/i),e.lineTo(oc.x,oc.y-r)}const Qfe=2,Yfe=5;class Xfe{constructor(){this.validTypes=["star"]}draw(e){Kfe(e)}getSidesCount(e){const n=e.shapeData;return Math.round(re((n==null?void 0:n.sides)??Yfe))}particleInit(e,n){const r=n.shapeData;n.starInset=re((r==null?void 0:r.inset)??Qfe)}}async function Jfe(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Xfe,e)}const Zfe=1;class ede{constructor(e,n){this._container=e,this._engine=n}init(e){var o;const n=this._container,r=e.options,i=jn(r.stroke,e.id,r.reduceDuplicates);e.strokeWidth=re(i.width)*n.retina.pixelRatio,e.strokeOpacity=re(i.opacity??Zfe),e.strokeAnimation=(o=i.color)==null?void 0:o.animation;const s=Vo(this._engine,i.color)??e.getFillColor();s&&(e.strokeColor=WS(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:r}=e;return!e.destroyed&&!e.spawning&&!!n&&((r==null?void 0:r.h.value)!==void 0&&r.h.enable||(r==null?void 0:r.s.value)!==void 0&&r.s.enable||(r==null?void 0:r.l.value)!==void 0&&r.l.enable)}update(e,n){this.isEnabled(e)&&KS(e.strokeColor,n)}}async function tde(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new ede(n,t)),e)}async function nde(t,e=!0){t.checkVersion("3.8.1"),await Uhe(t,!1),await que(t,!1),await tce(t,!1),await uce(t,!1),await wce(t,!1),await Ice(t,!1),await Mce(t,!1),await Vce(t,!1),await jce(t,!1),await Jce(t,!1),await rhe(t,!1),await Hhe(t,!1),await efe(t,!1),await wfe(t,!1),await Lue(t,!1),await Bue(t,!1),await Ihe(t,!1),await zhe(t,!1),await Mfe(t,!1),await qfe(t,!1),await Jfe(t,!1),await Lhe(t,!1),await Bfe(t,!1),await tde(t,!1),await Due(t,e)}const t9=2,rk=.5;function rde(t){const{context:e,particle:n,radius:r,opacity:i}=t,s=n.shapeData;if(!s)return;const o=s.value;if(o===void 0)return;n.text===void 0&&(n.text=jn(o,n.randomIndexData));const a=n.text,l=s.style??"",u=s.weight??"400",c=Math.round(r)*t9,h=s.font??"Verdana",f=n.shapeFill,p=a==null?void 0:a.split(`
`);if(p){e.font=`${l} ${u} ${c}px "${h}"`,e.globalAlpha=i;for(let m=0;m<p.length;m++)ide(e,p[m],r,i,m,f);e.globalAlpha=1}}function ide(t,e,n,r,i,s){const o=e.length*n*rk,a={x:-o,y:n*rk},l=n*t9;s?t.fillText(e,a.x,a.y+l*i):t.strokeText(e,a.x,a.y+l*i)}class sde{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){rde(e)}async init(e){const n=e.actualOptions,{validTypes:r}=this;if(r.find(i=>Gt(i,n.particles.shape.type))){const i=r.map(o=>n.particles.shape.options[o]).find(o=>!!o),s=[];sn(i,o=>{s.push(Nb(o.font,o.weight))}),await Promise.all(s)}}particleInit(e,n){if(!n.shape||!this.validTypes.includes(n.shape))return;const r=n.shapeData;if(r===void 0)return;const i=r.value;i!==void 0&&(n.text=jn(i,n.randomIndexData))}}async function ode(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new sde,e)}var Ja;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Ja||(Ja={}));class ade{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Re(e.speed)),e.decay!==void 0&&(this.decay=Re(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class lde extends zi{constructor(){super(),this.animation=new ade,this.direction=Ja.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!J(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const Of=1,n9=2,ude=Math.PI*n9,cde=360;class hde{constructor(e){this.container=e}getTransformValues(e){var r;const n=((r=e.tilt)==null?void 0:r.enable)&&e.tilt;return{b:n?Math.cos(n.value)*n.cosDirection:void 0,c:n?Math.sin(n.value)*n.sinDirection:void 0}}init(e){var s;const n=e.options.tilt;if(!n)return;e.tilt={enable:n.enable,value:zs(re(n.value)),sinDirection:Pe()>=tt?Of:-Of,cosDirection:Pe()>=tt?Of:-Of,min:0,max:ude};let r=n.direction;switch(r===Ja.random&&(r=Math.floor(Pe()*n9)>0?Ja.counterClockwise:Ja.clockwise),r){case Ja.counterClockwise:case"counterClockwise":e.tilt.status=qt.decreasing;break;case Ja.clockwise:e.tilt.status=qt.increasing;break}const i=(s=e.options.tilt)==null?void 0:s.animation;i!=null&&i.enable&&(e.tilt.decay=Of-re(i.decay),e.tilt.velocity=re(i.speed)/cde*this.container.retina.reduceFactor,i.sync||(e.tilt.velocity*=Pe()))}isEnabled(e){var r;const n=(r=e.options.tilt)==null?void 0:r.animation;return!e.destroyed&&!e.spawning&&!!(n!=null&&n.enable)}loadOptions(e,...n){e.tilt||(e.tilt=new lde);for(const r of n)e.tilt.load(r==null?void 0:r.tilt)}async update(e,n){!this.isEnabled(e)||!e.tilt||(Ih(e,e.tilt,!1,Do.none,n),await Promise.resolve())}}async function fde(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("tilt",n=>Promise.resolve(new hde(n)),e)}class ik{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){J(e)||(e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=Re(e.opacity)))}}class dde{constructor(){this.lines=new ik,this.particles=new ik}load(e){J(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class pde{constructor(e){this._engine=e}getColorStyles(e,n,r,i){const s=e.options,o=s.twinkle;if(!o)return{};const a=o.particles,l=a.enable&&Pe()<a.frequency,u=e.options.zIndex,c=1,h=(c-e.zIndexFactor)**u.opacityRate,f=l?re(a.opacity)*h:i,p=Vo(this._engine,a.color),m=p?Il(p,f):void 0,w={},x=l&&m;return w.fill=x?m:void 0,w.stroke=x?m:void 0,w}async init(){await Promise.resolve()}isEnabled(e){const n=e.options,r=n.twinkle;return r?r.particles.enable:!1}loadOptions(e,...n){e.twinkle||(e.twinkle=new dde);for(const r of n)e.twinkle.load(r==null?void 0:r.twinkle)}async update(){await Promise.resolve()}}async function mde(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("twinkle",()=>Promise.resolve(new pde(t)),e)}class gde{constructor(){this.angle=50,this.move=10}load(e){J(e)||(e.angle!==void 0&&(this.angle=Re(e.angle)),e.move!==void 0&&(this.move=Re(e.move)))}}class yde{constructor(){this.distance=5,this.enable=!1,this.speed=new gde}load(e){if(!J(e)&&(e.distance!==void 0&&(this.distance=Re(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(Sr(e.speed))this.speed.load({angle:e.speed});else{const n=e.speed;n.min!==void 0?this.speed.load({angle:n}):this.speed.load(e.speed)}}}const vde=0,wde=2,_de=Math.PI*wde,bde=60;function xde(t,e){const{wobble:n}=t.options,{wobble:r}=t;if(!(n!=null&&n.enable)||!r)return;const i=r.angleSpeed*e.factor,s=r.moveSpeed*e.factor,o=s*((t.retina.wobbleDistance??vde)*e.factor)/(Qt/bde),a=_de,{position:l}=t;r.angle+=i,r.angle>a&&(r.angle-=a),l.x+=o*Math.cos(r.angle),l.y+=o*Math.abs(Math.sin(r.angle))}const Ede=2,Sde=Math.PI*Ede,Ade=360,Pde=10,Tde=0;class Cde{constructor(e){this.container=e}init(e){const n=e.options.wobble;n!=null&&n.enable?e.wobble={angle:Pe()*Sde,angleSpeed:re(n.speed.angle)/Ade,moveSpeed:re(n.speed.move)/Pde}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=re((n==null?void 0:n.distance)??Tde)*this.container.retina.pixelRatio}isEnabled(e){var n;return!e.destroyed&&!e.spawning&&!!((n=e.options.wobble)!=null&&n.enable)}loadOptions(e,...n){e.wobble||(e.wobble=new yde);for(const r of n)e.wobble.load(r==null?void 0:r.wobble)}update(e,n){this.isEnabled(e)&&xde(e,n)}}async function Ide(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("wobble",n=>Promise.resolve(new Cde(n)),e)}async function Rde(t,e=!0){t.checkVersion("3.8.1"),await Ele(t,!1),await jle(t,!1),await fde(t,!1),await mde(t,!1),await Ide(t,!1),await ode(t,!1),await Nle(t,!1),await ule(t,!1),await tae(t,!1),await Tle(t,!1),await kle(t,!1),await nde(t,e)}class kde{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1,this.startValue=Ao.random}load(e){J(e)||(e.count!==void 0&&(this.count=Re(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Re(e.speed)),e.sync!==void 0&&(this.sync=e.sync),e.startValue!==void 0&&(this.startValue=e.startValue),e.decay!==void 0&&(this.decay=Re(e.decay)),e.delay!==void 0&&(this.delay=Re(e.delay)))}}class Mde{constructor(){this.value=0,this.animation=new kde}load(e){J(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=Re(e.value)))}}class Ode{constructor(){this.stop=0,this.value=new Rl}load(e){J(e)||(e.stop!==void 0&&(this.stop=e.stop),this.value=Rl.create(this.value,e.value),e.opacity!==void 0&&(this.opacity=new Mde,Sr(e.opacity)?this.opacity.value=e.opacity:this.opacity.load(e.opacity)))}}class Nde{constructor(){this.count=0,this.enable=!1,this.speed=0,this.decay=0,this.delay=0,this.sync=!1}load(e){J(e)||(e.count!==void 0&&(this.count=Re(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Re(e.speed)),e.decay!==void 0&&(this.decay=Re(e.decay)),e.delay!==void 0&&(this.delay=Re(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Dde{constructor(){this.value=0,this.animation=new Nde,this.direction=Cn.clockwise}load(e){J(e)||(this.animation.load(e.animation),e.value!==void 0&&(this.value=Re(e.value)),e.direction!==void 0&&(this.direction=e.direction))}}class Lde{constructor(){this.angle=new Dde,this.colors=[],this.type=fy.random}load(e){J(e)||(this.angle.load(e.angle),e.colors!==void 0&&(this.colors=e.colors.map(n=>{const r=new Ode;return r.load(n),r})),e.type!==void 0&&(this.type=e.type))}}function Vde(t,e){const{gradient:n}=t;if(n){Ih(t,n.angle,!1,Do.none,e);for(const r of n.colors)KS(r.value,e),r.opacity&&Ih(t,r.opacity,!0,Do.none,e)}}const Fde=2,Bde=Math.PI*Fde;class zde{constructor(e){this._engine=e}getColorStyles(e,n,r,i){const s=e.gradient;if(!s)return{};const o=s.angle.value,a={x:0,y:0},l=0,u=s.type===fy.radial?n.createRadialGradient(a.x,a.y,l,a.x,a.y,r):n.createLinearGradient(Math.cos(o)*-r,Math.sin(o)*-r,Math.cos(o)*r,Math.sin(o)*r);for(const{stop:c,value:h,opacity:f}of s.colors)u.addColorStop(c,Il({h:h.h.value,s:h.s.value,l:h.l.value},(f==null?void 0:f.value)??i));return{fill:u}}init(e){const n=jn(e.options.gradient);if(!n)return;const{angle:r}=n,i=360,s=1;e.gradient={angle:{value:re(r.value),enable:r.animation.enable,velocity:re(r.animation.speed)/i*e.container.retina.reduceFactor,decay:s-re(r.animation.decay),delayTime:re(r.animation.delay)*Qt,max:Bde,min:0,time:0},type:n.type,colors:[]};let o=n.angle.direction;switch(o===Cn.random&&(o=Pe()>tt?Cn.counterClockwise:Cn.clockwise),o){case Cn.counterClockwise:case"counterClockwise":e.gradient.angle.status=qt.decreasing;break;case Cn.clockwise:e.gradient.angle.status=qt.increasing;break}const a=e.options.reduceDuplicates;for(const l of n.colors){const u=Vo(this._engine,l.value,e.id,a);if(!u)continue;const c=WS(u,l.value.animation,e.container.retina.reduceFactor),h={stop:l.stop,value:c,opacity:l.opacity?{enable:l.opacity.animation.enable,max:Oi(l.opacity.value),min:Ch(l.opacity.value),status:qt.increasing,value:re(l.opacity.value),velocity:re(l.opacity.animation.speed)/st*e.container.retina.reduceFactor,decay:s-re(l.opacity.animation.decay),delayTime:re(l.opacity.animation.delay)*Qt,time:0}:void 0},{opacity:f}=h;if(l.opacity&&f){const p=l.opacity.value;switch(f.min=Ch(p),f.max=Oi(p),l.opacity.animation.startValue){case Ao.min:f.value=f.min,f.status=qt.increasing;break;case Ao.max:f.value=f.max,f.status=qt.decreasing;break;case Ao.random:default:f.value=In(f),f.status=Pe()>=tt?qt.increasing:qt.decreasing;break}}e.gradient.colors.push(h)}}isEnabled(e){var n,r;return!e.destroyed&&!e.spawning&&(!!((n=e.gradient)!=null&&n.angle.enable)||(((r=e.gradient)==null?void 0:r.colors.some(i=>i.value.h.enable||i.value.s.enable||i.value.l.enable))??!1))}loadOptions(e,...n){for(const r of n){if(!(r!=null&&r.gradient))continue;const i=r.gradient;i&&(e.gradient=sn(i,s=>{const o=new Lde;return o.load(s),o}))}}update(e,n){Vde(e,n)}}async function jde(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("gradient",()=>Promise.resolve(new zde(t)),e)}const Ude=.5,$de=2;function Gde(t){const{context:e,radius:n}=t,r=n*$de,i=n*Ude,s=n+i,o=-n,a=-n;e.moveTo(o,a+i),e.quadraticCurveTo(o,a,o+i,a),e.quadraticCurveTo(o+n,a,o+n,a+i),e.quadraticCurveTo(o+n,a,o+s,a),e.quadraticCurveTo(o+r,a,o+r,a+i),e.quadraticCurveTo(o+r,a+n,o+s,a+s),e.lineTo(o+n,a+r),e.lineTo(o+i,a+s),e.quadraticCurveTo(o,a+n,o,a+i)}class Hde{constructor(){this.validTypes=["heart"]}draw(e){Gde(e)}}async function qde(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Hde,e)}const Sw=255;function jb(t){const e={b:0,g:0,r:0},n=60,r={h:t.h/n,s:t.s/st,v:t.v/st},i=1,s=2,o=r.v*r.s,a=o*(i-Math.abs(r.h%s-i));let l;const u={min:0,max:1},c={min:1,max:2},h={min:2,max:3},f={min:3,max:4},p={min:4,max:5},m={min:5,max:6};if(r.h>=u.min&&r.h<=u.max?l={r:o,g:a,b:0}:r.h>c.min&&r.h<=c.max?l={r:a,g:o,b:0}:r.h>h.min&&r.h<=h.max?l={r:0,g:o,b:a}:r.h>f.min&&r.h<=f.max?l={r:0,g:a,b:o}:r.h>p.min&&r.h<=p.max?l={r:a,g:0,b:o}:r.h>m.min&&r.h<=m.max&&(l={r:o,g:0,b:a}),l){const w=r.v-o;e.r=Math.floor((l.r+w)*Sw),e.g=Math.floor((l.g+w)*Sw),e.b=Math.floor((l.b+w)*Sw)}return e}function Wde(t){return{a:t.a,...jb(t)}}class Kde{constructor(){this.key="hsv",this.stringPrefix="hsv"}handleColor(e){const n=e.value,r=n.hsv??e.value;if(r.h!==void 0&&r.v!==void 0)return jb(r)}handleRangeColor(e){const n=e.value,r=n.hsv??e.value;if(r.h!==void 0&&r.v!==void 0)return jb({h:re(r.h),s:re(r.s),v:re(r.v)})}parseString(e){if(!e.startsWith("hsv"))return;const n=/hsva?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,r=n.exec(e),i=4,s={h:1,s:2,v:3,a:5},o=1,a=10;return r?Wde({a:r.length>i?Hp(r[s.a]):o,h:parseInt(r[s.h],a),s:parseInt(r[s.s],a),v:parseInt(r[s.v],a)}):void 0}}async function Qde(t,e=!0){t.checkVersion("3.8.1"),await t.addColorManager(new Kde,e)}class Yde{constructor(){this.color=new Ft,this.color.value="#ff0000",this.radius=0,this.rate=1}load(e){J(e)||(e.color!==void 0&&(this.color=Ft.create(this.color,e.color)),this.duration=e.duration,this.infectedStage=e.infectedStage,e.radius!==void 0&&(this.radius=e.radius),e.rate!==void 0&&(this.rate=e.rate))}}class Xde{constructor(){this.cure=!1,this.delay=0,this.enable=!1,this.infections=0,this.stages=[]}load(e){J(e)||(e.cure!==void 0&&(this.cure=e.cure),e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable),e.infections!==void 0&&(this.infections=e.infections),e.stages!==void 0&&(this.stages=e.stages.map(n=>{const r=new Yde;return r.load(n),r})))}}const ng=0,Jde=0;class Zde{constructor(e){this._nextInfectionStage=n=>{const r=this._container.actualOptions.infection,{infection:i}=n;if(!r||!i)return;const s=r.stages.length;s<=ng||i.stage===void 0||(i.time=0,s<=++i.stage&&(r.cure?(delete i.stage,delete i.time):(i.stage=0,i.time=0)))},this._container=e}startInfection(e,n){const r=this._container.actualOptions.infection,{infection:i}=e;if(!r||!i)return;const s=r.stages,o=s.length;n>o||n<ng||(i.delay=0,i.delayStage=n)}updateInfection(e,n){const r=this._container.actualOptions.infection,{infection:i}=e;if(!r||!i)return;const s=r.stages,o=s.length;if(i.delay!==void 0&&i.delayStage!==void 0){const a=i.delayStage;if(a>o||a<ng)return;i.delay>=r.delay*Qt?(i.stage=a,i.time=0,delete i.delay,delete i.delayStage):i.delay+=n}else delete i.delay,delete i.delayStage;if(i.stage!==void 0&&i.time!==void 0){const a=s[i.stage];a.duration!==void 0&&a.duration>=Jde&&i.time>a.duration*Qt?this._nextInfectionStage(e):i.time+=n}else delete i.stage,delete i.time}updateInfectionStage(e,n){const r=this._container.actualOptions,{infection:i}=e;if(!r.infection||!i)return;const s=r.infection.stages.length;n>s||n<ng||i.stage!==void 0&&i.stage>n||(i.stage=n,i.time=0)}}const epe=0;class tpe{constructor(e){this._container=e,this._container.infecter=new Zde(this._container)}particleFillColor(e){const n=this._container.actualOptions;if(!e.infection||!n.infection)return;const r=e.infection.stage,i=n.infection,s=i.stages;return r!==void 0?s[r].color:void 0}particleStrokeColor(e){return this.particleFillColor(e)}particlesSetup(){var n;const e=this._container.actualOptions;if(e.infection)for(let r=0;r<e.infection.infections;r++){const i=this._container.particles.filter(o=>{const a=o;return a.infection||(a.infection={}),a.infection.stage===void 0}),s=Lo(i);(n=this._container.infecter)==null||n.startInfection(s,epe)}}}class npe{constructor(){this.id="infection"}getPlugin(e){return Promise.resolve(new tpe(e))}loadOptions(e,n){if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;let r=e.infection;(r==null?void 0:r.load)===void 0&&(e.infection=r=new Xde),r.load(n==null?void 0:n.infection)}needsPlugin(e){var n;return((n=e==null?void 0:e.infection)==null?void 0:n.enable)??!1}}const rpe=1,ipe=2;class spe extends ef{constructor(e){super(e)}clear(){}init(){}interact(e,n){var w,x,v;const r=this.container.infecter;if(!r||(r.updateInfection(e,n.value),((w=e.infection)==null?void 0:w.stage)===void 0))return;const i=this.container,s=i.actualOptions,o=s.infection;if(!(o!=null&&o.enable)||o.stages.length<rpe)return;const a=o.stages[e.infection.stage],l=i.retina.pixelRatio,u=e.getRadius()*ipe+a.radius*l,c=e.getPosition(),h=a.infectedStage??e.infection.stage,f=i.particles.quadTree.queryCircle(c,u),p=a.rate,m=f.length;for(const S of f){const A=S;if(!(A===e||A.destroyed||A.spawning||!(((x=A.infection)==null?void 0:x.stage)===void 0||A.infection.stage!==e.infection.stage)||Pe()>=p/m)){if(((v=A.infection)==null?void 0:v.stage)===void 0)r.startInfection(A,h);else if(A.infection.stage<e.infection.stage)r.updateInfectionStage(A,h);else if(A.infection.stage>e.infection.stage){const M=o.stages[A.infection.stage],U=(M==null?void 0:M.infectedStage)??A.infection.stage;r.updateInfectionStage(e,U)}}}}isEnabled(){var e,n;return((n=(e=this.container.actualOptions)==null?void 0:e.infection)==null?void 0:n.enable)??!1}reset(){}}async function ope(t,e=!0){t.checkVersion("3.8.1");const n=new npe;await t.addPlugin(n,e),await t.addInteractor("particlesInfection",r=>Promise.resolve(new spe(r)),e)}const $o={x:0,y:0},ape=.55;function lpe(t){const{context:e,radius:n}=t,r=n*ape;e.moveTo($o.x,$o.y),e.bezierCurveTo(r,-n,r,n,$o.x,$o.y),e.moveTo($o.x,$o.y),e.bezierCurveTo(-r,-n,$o.x-r,n,$o.x,$o.y)}class upe{constructor(){this.validTypes=["infinity"]}draw(e){lpe(e)}}async function cpe(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new upe,e)}const sk={max:1,min:0},hpe=.5,fpe=2,ok=Math.PI*hpe,r9=Math.PI*fpe,dpe=.25,ppe=Math.PI*dpe,ak=0,i9="light";function mpe(t,e,n){var o;const r=(o=t.actualOptions.interactivity.modes.light)==null?void 0:o.area;if(!r)return;e.beginPath(),e.arc(n.x,n.y,r.radius,ak,r9);const i=e.createRadialGradient(n.x,n.y,ak,n.x,n.y,r.radius),s=t.canvas.mouseLight;!(s!=null&&s.start)||!s.stop||(i.addColorStop(sk.min,Xr(s.start)),i.addColorStop(sk.max,Xr(s.stop)),e.fillStyle=i,e.fill())}function gpe(t,e,n,r){var A;const i=n.getPosition(),s=(A=t.actualOptions.interactivity.modes.light)==null?void 0:A.shadow;if(!s)return;const o=n.lightShadow;if(!o)return;const a=n.getRadius(),l=n.sides,u=r9/l,c=-n.rotation+ppe,h=1,f=[];for(let M=0;M<l;M++)f.push({x:i.x+a*Math.sin(c+u*M)*h,y:i.y+a*Math.cos(c+u*M)*h});const p=[],m=s.length;for(const M of f){const U=Math.atan2(r.y-M.y,r.x-M.x),N={x:M.x+m*Math.sin(-U-ok),y:M.y+m*Math.cos(-U-ok)};p.push({end:N,start:M})}const w=Xr(o),x=1,v=0,S=p.length-x;for(let M=S,U=0;M>=v;U=M--)e.beginPath(),e.moveTo(p[M].start.x,p[M].start.y),e.lineTo(p[U].start.x,p[U].start.y),e.lineTo(p[U].end.x,p[U].end.y),e.lineTo(p[M].end.x,p[M].end.y),e.fillStyle=w,e.fill()}class ype{constructor(){this.start=new Ft,this.stop=new Ft,this.start.value="#ffffff",this.stop.value="#000000"}load(e){J(e)||(this.start=Ft.create(this.start,e.start),this.stop=Ft.create(this.stop,e.stop))}}class vpe{constructor(){this.gradient=new ype,this.radius=1e3}load(e){J(e)||(this.gradient.load(e.gradient),e.radius!==void 0&&(this.radius=e.radius))}}class wpe{constructor(){this.color=new Ft,this.color.value="#000000",this.length=2e3}load(e){J(e)||(this.color=Ft.create(this.color,e.color),e.length!==void 0&&(this.length=e.length))}}class _pe{constructor(){this.area=new vpe,this.shadow=new wpe}load(e){J(e)||(this.area.load(e.area),this.shadow.load(e.shadow))}}class bpe extends wi{constructor(e,n){super(e),this._engine=n}clear(){}init(){}interact(){const e=this.container,n=e.actualOptions,r=e.interactivity;if(!n.interactivity.events.onHover.enable||r.status!=="pointermove")return;const i=r.mouse.position;i&&e.canvas.draw(s=>{mpe(e,s,i)})}isEnabled(e){const n=this.container,r=n.interactivity.mouse,i=(e==null?void 0:e.interactivity)??n.actualOptions.interactivity,s=i.events;if(!(s.onHover.enable&&r.position))return!1;const o=Gt(i9,s.onHover.mode);if(o&&i.modes.light){const a=i.modes.light.area.gradient;n.canvas.mouseLight={start:_r(this._engine,a.start),stop:_r(this._engine,a.stop)}}return o}loadModeOptions(e,...n){e.light||(e.light=new _pe);for(const r of n)e.light.load(r==null?void 0:r.light)}reset(){}}class xpe extends ef{constructor(e,n){super(e),this._engine=n}clear(){}init(){}interact(e){const n=this.container,r=n.actualOptions,i=n.interactivity;if(!r.interactivity.events.onHover.enable||i.status!=="pointermove")return;const s=i.mouse.position;s&&n.canvas.draw(o=>{gpe(n,o,e,s)})}isEnabled(e){const n=this.container,r=e.interactivity??n.actualOptions.interactivity,i=n.interactivity.mouse,s=r.events;if(!(s.onHover.enable&&i.position))return!1;const o=Gt(i9,s.onHover.mode);if(o&&r.modes.light){const a=r.modes.light.shadow;e.lightShadow=_r(this._engine,a.color)}return o}reset(){}}async function Epe(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("externalLight",n=>Promise.resolve(new bpe(n,t)),e),await t.addInteractor("particlesLight",n=>Promise.resolve(new xpe(n,t)),e)}class Spe{constructor(){this.factor=4,this.value=!0}load(e){J(e)||(e.factor!==void 0&&(this.factor=e.factor),e.value!==void 0&&(this.value=e.value))}}class Ape{constructor(){this.disable=!1,this.reduce=new Spe}load(e){J(e)||(e.disable!==void 0&&(this.disable=e.disable),this.reduce.load(e.reduce))}}const lk=1,Ppe=0,Tpe=1;class Cpe{constructor(e,n){this._handleMotionChange=r=>{const i=this._container,s=i.actualOptions.motion;s&&(r.matches?s.disable?i.retina.reduceFactor=Ppe:i.retina.reduceFactor=s.reduce.value?Tpe/s.reduce.factor:lk:i.retina.reduceFactor=1)},this._container=e,this._engine=n}async init(){const e=this._container,n=e.actualOptions.motion;if(!(n&&(n.disable||n.reduce.value))){e.retina.reduceFactor=1;return}const r=US("(prefers-reduced-motion: reduce)");if(!r){e.retina.reduceFactor=lk;return}this._handleMotionChange(r);const i=()=>{(async()=>{this._handleMotionChange(r);try{await e.refresh()}catch{}})()};r.addEventListener!==void 0?r.addEventListener("change",i):r.addListener!==void 0&&r.addListener(i),await Promise.resolve()}}class Ipe{constructor(e){this.id="motion",this._engine=e}getPlugin(e){return Promise.resolve(new Cpe(e,this._engine))}loadOptions(e,n){if(!this.needsPlugin())return;let r=e.motion;r!=null&&r.load||(e.motion=r=new Ape),r.load(n==null?void 0:n.motion)}needsPlugin(){return!0}}async function Rpe(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new Ipe(t),e)}const kpe=new Map([["aliceblue",{r:240,g:248,b:255}],["antiquewhite",{r:250,g:235,b:215}],["aqua",{r:0,g:255,b:255}],["aquamarine",{r:127,g:255,b:212}],["azure",{r:240,g:255,b:255}],["beige",{r:245,g:245,b:220}],["bisque",{r:255,g:228,b:196}],["black",{r:0,g:0,b:0}],["blanchedalmond",{r:255,g:235,b:205}],["blue",{r:0,g:0,b:255}],["blueviolet",{r:138,g:43,b:226}],["brown",{r:165,g:42,b:42}],["burlywood",{r:222,g:184,b:135}],["cadetblue",{r:95,g:158,b:160}],["chartreuse",{r:127,g:255,b:0}],["chocolate",{r:210,g:105,b:30}],["coral",{r:255,g:127,b:80}],["cornflowerblue",{r:100,g:149,b:237}],["cornsilk",{r:255,g:248,b:220}],["crimson",{r:220,g:20,b:60}],["cyan",{r:0,g:255,b:255}],["darkblue",{r:0,g:0,b:139}],["darkcyan",{r:0,g:139,b:139}],["darkgoldenrod",{r:184,g:134,b:11}],["darkgray",{r:169,g:169,b:169}],["darkgreen",{r:0,g:100,b:0}],["darkgrey",{r:169,g:169,b:169}],["darkkhaki",{r:189,g:183,b:107}],["darkmagenta",{r:139,g:0,b:139}],["darkolivegreen",{r:85,g:107,b:47}],["darkorange",{r:255,g:140,b:0}],["darkorchid",{r:153,g:50,b:204}],["darkred",{r:139,g:0,b:0}],["darksalmon",{r:233,g:150,b:122}],["darkseagreen",{r:143,g:188,b:143}],["darkslateblue",{r:72,g:61,b:139}],["darkslategray",{r:47,g:79,b:79}],["darkslategrey",{r:47,g:79,b:79}],["darkturquoise",{r:0,g:206,b:209}],["darkviolet",{r:148,g:0,b:211}],["deeppink",{r:255,g:20,b:147}],["deepskyblue",{r:0,g:191,b:255}],["dimgray",{r:105,g:105,b:105}],["dimgrey",{r:105,g:105,b:105}],["dodgerblue",{r:30,g:144,b:255}],["firebrick",{r:178,g:34,b:34}],["floralwhite",{r:255,g:250,b:240}],["forestgreen",{r:34,g:139,b:34}],["fuchsia",{r:255,g:0,b:255}],["gainsboro",{r:220,g:220,b:220}],["ghostwhite",{r:248,g:248,b:255}],["gold",{r:255,g:215,b:0}],["goldenrod",{r:218,g:165,b:32}],["gray",{r:128,g:128,b:128}],["green",{r:0,g:128,b:0}],["greenyellow",{r:173,g:255,b:47}],["grey",{r:128,g:128,b:128}],["honeydew",{r:240,g:255,b:240}],["hotpink",{r:255,g:105,b:180}],["indianred",{r:205,g:92,b:92}],["indigo",{r:75,g:0,b:130}],["ivory",{r:255,g:255,b:240}],["khaki",{r:240,g:230,b:140}],["lavender",{r:230,g:230,b:250}],["lavenderblush",{r:255,g:240,b:245}],["lawngreen",{r:124,g:252,b:0}],["lemonchiffon",{r:255,g:250,b:205}],["lightblue",{r:173,g:216,b:230}],["lightcoral",{r:240,g:128,b:128}],["lightcyan",{r:224,g:255,b:255}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["lightgray",{r:211,g:211,b:211}],["lightgreen",{r:144,g:238,b:144}],["lightgrey",{r:211,g:211,b:211}],["lightpink",{r:255,g:182,b:193}],["lightsalmon",{r:255,g:160,b:122}],["lightseagreen",{r:32,g:178,b:170}],["lightskyblue",{r:135,g:206,b:250}],["lightslategray",{r:119,g:136,b:153}],["lightslategrey",{r:119,g:136,b:153}],["lightsteelblue",{r:176,g:196,b:222}],["lightyellow",{r:255,g:255,b:224}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["linen",{r:250,g:240,b:230}],["magenta",{r:255,g:0,b:255}],["maroon",{r:128,g:0,b:0}],["mediumaquamarine",{r:102,g:205,b:170}],["mediumblue",{r:0,g:0,b:205}],["mediumorchid",{r:186,g:85,b:211}],["mediumpurple",{r:147,g:112,b:219}],["mediumseagreen",{r:60,g:179,b:113}],["mediumslateblue",{r:123,g:104,b:238}],["mediumspringgreen",{r:0,g:250,b:154}],["mediumturquoise",{r:72,g:209,b:204}],["mediumvioletred",{r:199,g:21,b:133}],["midnightblue",{r:25,g:25,b:112}],["mintcream",{r:245,g:255,b:250}],["mistyrose",{r:255,g:228,b:225}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["navy",{r:0,g:0,b:128}],["oldlace",{r:253,g:245,b:230}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["orange",{r:255,g:165,b:0}],["orangered",{r:255,g:69,b:0}],["orchid",{r:218,g:112,b:214}],["palegoldenrod",{r:238,g:232,b:170}],["palegreen",{r:152,g:251,b:152}],["paleturquoise",{r:175,g:238,b:238}],["palevioletred",{r:219,g:112,b:147}],["papayawhip",{r:255,g:239,b:213}],["peachpuff",{r:255,g:218,b:185}],["peru",{r:205,g:133,b:63}],["pink",{r:255,g:192,b:203}],["plum",{r:221,g:160,b:221}],["powderblue",{r:176,g:224,b:230}],["purple",{r:128,g:0,b:128}],["rebeccapurple",{r:102,g:51,b:153}],["red",{r:255,g:0,b:0}],["rosybrown",{r:188,g:143,b:143}],["royalblue",{r:65,g:105,b:225}],["saddlebrown",{r:139,g:69,b:19}],["salmon",{r:250,g:128,b:114}],["sandybrown",{r:244,g:164,b:96}],["seagreen",{r:46,g:139,b:87}],["seashell",{r:255,g:245,b:238}],["sienna",{r:160,g:82,b:45}],["silver",{r:192,g:192,b:192}],["skyblue",{r:135,g:206,b:235}],["slateblue",{r:106,g:90,b:205}],["slategray",{r:112,g:128,b:144}],["slategrey",{r:112,g:128,b:144}],["snow",{r:255,g:250,b:250}],["springgreen",{r:0,g:255,b:127}],["steelblue",{r:70,g:130,b:180}],["tan",{r:210,g:180,b:140}],["teal",{r:0,g:128,b:128}],["thistle",{r:216,g:191,b:216}],["tomato",{r:255,g:99,b:71}],["turquoise",{r:64,g:224,b:208}],["violet",{r:238,g:130,b:238}],["wheat",{r:245,g:222,b:179}],["white",{r:255,g:255,b:255}],["whitesmoke",{r:245,g:245,b:245}],["yellow",{r:255,g:255,b:0}],["yellowgreen",{r:154,g:205,b:50}]]);class Mpe{constructor(){this.key="named",this.stringPrefix=""}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(!e||typeof e!="string")return;const n=kpe.get(e.toLowerCase());if(!n){ba().error("Color not found",e);return}return{...n,a:255}}}async function Ope(t,e=!0){t.checkVersion("3.8.1"),await t.addColorManager(new Mpe,e)}const sh=255,s9=360;function Ub(t){const e=t.l/st,n=t.c,r=t.h/s9,i={r:0,g:0,b:0};return i.r=Math.floor(e*sh),i.g=Math.floor(n*sh),i.b=Math.floor(r*sh),i}function Npe(t){return{a:t.a,...Ub(t)}}function $b(t){const e=t.l/st,n=t.c/st,r=t.h/s9,i={r:0,g:0,b:0};return i.r=Math.floor(e*sh),i.g=Math.floor(n*sh),i.b=Math.floor(r*sh),i}function Dpe(t){return{a:t.a,...$b(t)}}class Lpe{constructor(){this.key="color",this.stringPrefix="lch"}handleColor(e){const n=e.value,r=n.lch??e.value;if(r.l!==void 0&&r.c!==void 0&&r.h!==void 0)return Ub(r)}handleRangeColor(e){const n=e.value,r=n.lch??e.value;if(r.l!==void 0&&r.c!==void 0&&r.h!==void 0)return Ub({l:re(r.l),c:re(r.c),h:re(r.h)})}parseString(e){if(!e.startsWith("lch"))return;const r=/lch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,i=r.exec(e),s={l:1,c:3,h:5,a:7},o=1;return i?Npe({a:i[s.a]?Hp(i[s.a]):o,c:parseFloat(i[s.c]),h:parseFloat(i[s.h]),l:parseFloat(i[s.l])}):void 0}}class Vpe{constructor(){this.key="color",this.stringPrefix="oklch"}handleColor(e){const n=e.value,r=n.oklch??e.value;if(r.l!==void 0&&r.c!==void 0&&r.h!==void 0)return $b(r)}handleRangeColor(e){const n=e.value,r=n.oklch??e.value;if(r.l!==void 0&&r.c!==void 0&&r.h!==void 0)return $b({l:re(r.l),c:re(r.c),h:re(r.h)})}parseString(e){if(!e.startsWith("oklch"))return;const r=/oklch\(\s*(\d+(\.\d+)?)%\s+(\d+(\.\d+)?)\s+(\d+(\.\d+)?)()?(?:\s*\/\s*(0|1|0?\.\d+|\d{1,3}%))?\s*\)/i,i=r.exec(e),s={l:1,c:3,h:5,a:7},o=1;return i?Dpe({a:i[s.a]?Hp(i[s.a]):o,c:parseFloat(i[s.c]),h:parseFloat(i[s.h]),l:parseFloat(i[s.l])}):void 0}}async function Fpe(t,e=!0){t.checkVersion("3.8.1"),await t.addColorManager(new Vpe,e),await t.addColorManager(new Lpe,e)}class Bpe extends zi{constructor(){super(),this.value=45}load(e){J(e)||super.load(e)}}class zpe{constructor(){this.animation=new kv,this.enable=!1,this.opacity=1,this.rotation=new Bpe,this.width=1}load(e){J(e)||(this.animation.load(e.animation),this.rotation.load(e.rotation),e.enable!==void 0&&(this.enable=e.enable),e.opacity!==void 0&&(this.opacity=Re(e.opacity)),e.width!==void 0&&(this.width=Re(e.width)),e.radius!==void 0&&(this.radius=Re(e.radius)),e.color!==void 0&&(this.color=Ft.create(this.color,e.color)))}}var Nc;(function(t){t.front="front",t.back="back"})(Nc||(Nc={}));const jpe=0,Upe=.5,$pe=2;function Gpe(t,e,n,r,i,s,o,a,l){if(s<=jpe)return;const u=e.getPosition();n&&(t.strokeStyle=Il(n,i)),t.lineWidth=s;const c=zs(o);t.beginPath(),t.ellipse(u.x,u.y,r*Upe,r*$pe,c,a,l),t.stroke()}const Hpe=2,qpe=.5,uk=Math.PI*Hpe,ck=0,Gb=Math.PI*qpe,hk=Math.PI+Gb,Wpe=0,Kpe=1,Qpe=1,fk=0;class Ype{constructor(e,n){this._engine=n,this._container=e}afterDraw(e){const n=e.options.orbit;n!=null&&n.enable&&this.drawOrbit(e,Nc.front)}beforeDraw(e){const n=e.options.orbit;n!=null&&n.enable&&this.drawOrbit(e,Nc.back)}drawOrbit(e,n){const r=this._container;let i,s;switch(n){case Nc.back:i=Gb,s=hk;break;case Nc.front:i=hk,s=Gb;break;default:i=Wpe,s=uk}r.canvas.draw(o=>{Gpe(o,e,e.orbitColor??e.getFillColor(),e.retina.orbitRadius??r.retina.orbitRadius??e.getRadius(),e.orbitOpacity??Kpe,e.orbitWidth??Qpe,(e.orbitRotation??fk)*r.retina.pixelRatio,i,s)})}init(e){const n=this._container,r=e.options,i=r.orbit;i!=null&&i.enable&&(e.orbitRotation=re(i.rotation.value),e.orbitColor=Vo(this._engine,i.color),e.retina.orbitRadius=i.radius!==void 0?re(i.radius)*n.retina.pixelRatio:void 0,n.retina.orbitRadius=e.retina.orbitRadius,e.orbitAnimationSpeed=i.animation.enable?re(i.animation.speed):ck,e.orbitWidth=re(i.width),e.orbitOpacity=re(i.opacity))}isEnabled(e){var r;const n=(r=e.options.orbit)==null?void 0:r.animation;return!e.destroyed&&!e.spawning&&!!(n!=null&&n.enable)}loadOptions(e,...n){e.orbit||(e.orbit=new zpe);for(const r of n)e.orbit.load(r==null?void 0:r.orbit)}update(e,n){this.isEnabled(e)&&(e.orbitRotation===void 0&&(e.orbitRotation=fk),e.orbitRotation+=(e.orbitAnimationSpeed??ck/uk)*n.factor)}}async function Xpe(t,e=!0){t.checkVersion("3.8.1"),await t.addParticleUpdater("orbit",n=>Promise.resolve(new Ype(n,t)),e)}class Jpe extends zi{constructor(){super(),this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(e){super.load(e),!J(e)&&(e.enabled!==void 0&&(this.enabled=e.enabled),e.distance!==void 0&&(this.distance=Re(e.distance)),e.duration!==void 0&&(this.duration=Re(e.duration)),e.factor!==void 0&&(this.factor=Re(e.factor)),e.speed!==void 0&&(this.speed=Re(e.speed)))}}const Zpe=0,eme=1,tme=2,nme=0;class rme extends ef{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;if(!e.repulse){const s=e.options.repulse;if(!s)return;e.repulse={distance:re(s.distance)*n.retina.pixelRatio,speed:re(s.speed),factor:re(s.factor)}}const r=e.getPosition(),i=n.particles.quadTree.queryCircle(r,e.repulse.distance);for(const s of i){if(e===s||s.destroyed)continue;const o=s.getPosition(),{dx:a,dy:l,distance:u}=kn(o,r),c=e.repulse.speed*e.repulse.factor;if(u>Zpe){const h=vi((eme-Math.pow(u/e.repulse.distance,tme))*c,nme,c),f=at.create(a/u*h,l/u*h);s.position.addTo(f)}else{const h=at.create(c,c);s.position.addTo(h)}}}isEnabled(e){var n;return((n=e.options.repulse)==null?void 0:n.enabled)??!1}loadParticlesOptions(e,...n){e.repulse||(e.repulse=new Jpe);for(const r of n)e.repulse.load(r==null?void 0:r.repulse)}reset(){}}async function ime(t,e=!0){t.checkVersion("3.8.1"),await t.addInteractor("particlesRepulse",n=>Promise.resolve(new rme(n)),e)}var Xi;(function(t){t.line="line",t.bezier="bezier",t.quadratic="quadratic",t.arc="arc",t.ellipse="ellipse"})(Xi||(Xi={}));function sme(t,e,n){const i=n.segments[0],s=i.values[0];t.moveTo(s.x*e,s.y*e);for(const l of n.segments){const u=l.values[0],c=1,h=2,f=3;switch(l.type){case Xi.line:t.lineTo(u.x*e,u.y*e);break;case Xi.bezier:t.bezierCurveTo(l.values[c].x*e,l.values[c].y*e,l.values[h].x*e,l.values[h].y*e,l.values[f].x*e,l.values[f].y*e);break;case Xi.quadratic:t.quadraticCurveTo(l.values[c].x*e,l.values[c].y*e,l.values[h].x*e,l.values[h].y*e);break;case Xi.arc:t.arc(u.x*e,u.y*e,l.values[c].x*e,l.values[h].x,l.values[h].y);break;case Xi.ellipse:t.ellipse(u.x*e,u.y*e,l.values[c].x*e,l.values[c].y*e,l.values[h].x,l.values[f].x,l.values[f].y)}}if(!n.half)return;const o=1,a=0;for(let l=n.segments.length-o;l>=a;l--){const u=n.segments[l],c=u.values[0],h=1,f=2;switch(u.type){case Xi.line:t.lineTo(c.x*-e,c.y*e);break;case Xi.bezier:t.bezierCurveTo(-u.values[f].x*e,u.values[f].y*e,-u.values[h].x*e,u.values[h].y*e,c.x*e,c.y*e);break;case Xi.quadratic:t.quadraticCurveTo(-u.values[h].x*e,u.values[h].y*e,-u.values[f].x*e,u.values[f].y*e);break;case Xi.arc:case Xi.ellipse:}}}class ome{constructor(){this.validTypes=["path"]}draw(e){const{context:n,particle:r,radius:i}=e;r.pathData&&sme(n,i,r.pathData)}particleInit(e,n){const r=n.shapeData;r&&(n.pathData=Kt({},r))}}async function ame(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new ome,e)}class Ki{constructor(e,n,r){this.x=e,this.y=n,this.z=r}dot2(e,n){return this.x*e+this.y*n}dot3(e,n,r){return this.dot2(e,n)+this.z*r}}class lme{constructor(){this._grad3=[new Ki(1,1,0),new Ki(-1,1,0),new Ki(1,-1,0),new Ki(-1,-1,0),new Ki(1,0,1),new Ki(-1,0,1),new Ki(1,0,-1),new Ki(-1,0,-1),new Ki(0,1,1),new Ki(0,-1,1),new Ki(0,1,-1),new Ki(0,-1,-1)],this._p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._gradP=new Array(512),this._perm=new Array(512)}noise2d(e,n){const{_gradP:r,_perm:i}=this;let s=Math.floor(e),o=Math.floor(n);e=e-s,n=n-o,s=s&255,o=o&255;const a=r[s+i[o]].dot2(e,n),l=r[s+i[o+1]].dot2(e,n-1),u=r[s+1+i[o]].dot2(e-1,n),c=r[s+1+i[o+1]].dot2(e-1,n-1),h=this._fade(e);return this._lerp(this._lerp(a,u,h),this._lerp(l,c,h),this._fade(n))}noise3d(e,n,r){const{_gradP:i,_perm:s}=this;let o=Math.floor(e),a=Math.floor(n),l=Math.floor(r);e=e-o,n=n-a,r=r-l,o=o&255,a=a&255,l=l&255;const u=i[o+s[a+s[l]]].dot3(e,n,r),c=i[o+s[a+s[l+1]]].dot3(e,n,r-1),h=i[o+s[a+1+s[l]]].dot3(e,n-1,r),f=i[o+s[a+1+s[l+1]]].dot3(e,n-1,r-1),p=i[o+1+s[a+s[l]]].dot3(e-1,n,r),m=i[o+1+s[a+s[l+1]]].dot3(e-1,n,r-1),w=i[o+1+s[a+1+s[l]]].dot3(e-1,n-1,r),x=i[o+1+s[a+1+s[l+1]]].dot3(e-1,n-1,r-1),v=this._fade(e),S=this._fade(n),A=this._fade(r);return this._lerp(this._lerp(this._lerp(u,p,v),this._lerp(c,m,v),A),this._lerp(this._lerp(h,w,v),this._lerp(f,x,v),A),S)}seed(e){const{_grad3:n,_gradP:r,_perm:i,_p:s}=this;let o=e;o>0&&o<1&&(o*=65536),o=Math.floor(o),o<256&&(o|=o<<8);for(let a=0;a<256;a++){const l=a&1?s[a]^o&255:s[a]^o>>8&255;i[a]=i[a+256]=l,r[a]=r[a+256]=n[l%12]}}_fade(e){return e*e*e*(e*(e*6-15)+10)}_lerp(e,n,r){return(1-r)*e+r*n}}const ume=2,cme=Math.PI*ume,Ql={draw:!1,size:20,increment:.004,columns:0,rows:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4}};class hme{constructor(){this._calculateField=()=>{const{field:e,noiseGen:n,options:r}=this,i=r.factor.length,s=r.factor.angle;for(let o=0;o<r.columns;o++){const a=e[o];for(let l=0;l<r.rows;l++){const u=a[l];u.length=n.noise3d(o*i+r.offset.x,l*i+r.offset.y,this.noiseZ),u.angle=n.noise3d(o*s,l*s,this.noiseZ)*cme}}},this._drawField=e=>{const{field:n,options:r}=this;for(let i=0;i<r.columns;i++){const s=n[i];for(let o=0;o<r.rows;o++){const a=s[o],{angle:l,length:u}=a;e.setTransform(1,0,0,1,i*this.options.size,o*this.options.size),e.rotate(l),e.strokeStyle="white",e.beginPath(),e.moveTo(0,0),e.lineTo(0,this.options.size*u),e.stroke(),e.setTransform(1,0,0,1,0,0)}}},this._initField=()=>{const{columns:e,rows:n}=this.options;this.field=new Array(e);for(let r=0;r<e;r++){this.field[r]=new Array(n);for(let i=0;i<n;i++)this.field[r][i]=at.origin}},this.noiseGen=new lme,this.field=[],this.noiseZ=0,this.options=Kt({},Ql)}generate(e){var o;const n=e.getPosition(),{size:r}=this.options,i={x:Math.max(Math.floor(n.x/r),0),y:Math.max(Math.floor(n.y/r),0)},{field:s}=this;return(o=s==null?void 0:s[i.x])!=null&&o[i.y]?s[i.x][i.y].copy():at.origin}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseZ+=this.options.increment,this.options.draw&&this.container.canvas.draw(e=>this._drawField(e)))}_resetField(){const e=this.container;if(!e)return;const n=e.actualOptions.particles.move.path.options,{options:r}=this;r.size=n.size>0?n.size:Ql.size,r.increment=n.increment>0?n.increment:Ql.increment,r.draw=!!n.draw;const i=n.offset;r.offset.x=(i==null?void 0:i.x)??Ql.offset.x,r.offset.y=(i==null?void 0:i.y)??Ql.offset.y;const s=n.factor;r.factor.angle=(s==null?void 0:s.angle)??Ql.factor.angle,r.factor.length=(s==null?void 0:s.length)??Ql.factor.length,r.width=e.canvas.size.width,r.height=e.canvas.size.height,this.options.seed=n.seed,this.noiseGen.seed(this.options.seed??Pe()),r.columns=Math.floor(this.options.width/this.options.size)+1,r.rows=Math.floor(this.options.height/this.options.size)+1,this._initField()}_setup(){this.noiseZ=0,this._resetField(),window.addEventListener("resize",()=>this._resetField())}}const fme="perlinNoise";async function dme(t,e=!0){t.checkVersion("3.8.1"),await t.addPathGenerator(fme,new hme,e)}class pme{constructor(){this.enable=!1,this.dimensions=2,this.radius=0,this.retries=30,this.steps=0}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),e.dimensions!==void 0&&(this.dimensions=e.dimensions),e.radius!==void 0&&(this.radius=e.radius),e.retries!==void 0&&(this.retries=e.retries))}}const o9=2,mme=Math.PI*o9;class gme{constructor(e,n,r,i,s){this.size={...e},this.radius=n,this.retries=r,this.dimensions=i,this.cellSize=Math.floor(this.radius/Math.sqrt(this.dimensions)),this.cols=Math.floor(this.size.width/this.cellSize),this.rows=Math.floor(this.size.height/this.cellSize),this.points=[],this.active=[],this.grid=[],this.firstPoint=s?{...s}:void 0,this.reset()}addPoint(e){const n={position:{...e},gridPosition:{x:Math.floor(e.x/this.cellSize),y:Math.floor(e.y/this.cellSize)}},r=this.points.length;this.points.push(n),this.grid[n.gridPosition.y][n.gridPosition.x]=r,this.active.push(r)}getRandom(e,n){return Math.floor(Pe()*(n-e))+e}initialiseGrid(){for(let e=0;e<=this.rows;e++){this.grid[e]=[];for(let n=0;n<=this.cols;n++)this.grid[e][n]=-1}}reset(){this.points=[],this.active=[],this.grid=[],this.initialiseGrid(),this.firstPoint?this.addPoint(this.firstPoint):this.addPoint({x:this.getRandom(0,this.size.width),y:this.getRandom(0,this.size.height)})}async run(){this.reset();const e=0,n=1;for(;this.active.length>e;)await this.steps(n)}async steps(e){for(let r=0;r<e;r++)this.active.length<=0||await this._step()}_getNewPoint(e,n){const o=n*(mme/this.retries),a=this.getRandom(this.radius,this.radius*o9),l={x:Math.cos(o)*a,y:Math.sin(o)*a},u={x:Math.floor(e.position.x+l.x),y:Math.floor(e.position.y+l.y)},c={x:Math.floor(u.x/this.cellSize),y:Math.floor(u.y/this.cellSize)};if(u.x>0&&u.x<this.size.width&&u.y>0&&u.y<this.size.height)if(this.grid[c.y][c.x]<0)for(let h=-1;h<=1;h++)for(let f=-1;f<=1;f++){const p={x:c.x+f,y:c.y+h};if(p.x>=0&&p.y>=0&&p.x<this.cols&&p.y<this.rows&&(p.x!==c.x||p.y!==c.y)&&this.grid[p.y][p.x]>=0){const m=this.grid[p.y][p.x],w=this.points[m];if(wr(u,w.position)<this.radius)return}}else return;else return;return u}async _step(){const n=this.getRandom(0,this.active.length);return new Promise(r=>{let i=!1;for(let s=0;s<this.retries;s++){const o=this._getNewPoint(this.points[this.active[n]],s);if(o){i=!0,this.addPoint(o);break}}i||this.active.splice(n,1),r()})}}class yme{constructor(e,n){this._container=e,this._engine=n,this._currentIndex=0}async init(){await this._initData()}particlePosition(e){var i,s;const n=this._container,r=n.actualOptions.poisson;if(!(!this.poissonDisc||!((r==null?void 0:r.enable)??!1)||this._currentIndex>=this.poissonDisc.points.length))return e??((s=(i=this.poissonDisc)==null?void 0:i.points[this._currentIndex++])==null?void 0:s.position)}resize(){const e=this._container,n=e.actualOptions.poisson;if(!((n==null?void 0:n.enable)??!1))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const r=250;this.redrawTimeout=window.setTimeout(()=>{(async()=>(await this._initData(),await e.particles.redraw()))()},r)}stop(){delete this.poissonDisc}async _initData(){const e=this._container,n=e.actualOptions.poisson,r=e.actualOptions.particles,i=e.canvas.size,s=e.retina.pixelRatio;if(!(n!=null&&n.enable))return;this._currentIndex=0,this.poissonDisc=new gme(i,n.radius?n.radius*s:Math.max(Oi(r.size.value)*s,Math.sqrt(i.width*i.height/r.number.value)),n.retries,n.dimensions);const o=0;n.steps>o?await this.poissonDisc.steps(n.steps):await this.poissonDisc.run()}}class vme{constructor(e){this.id="poisson",this._engine=e}getPlugin(e){return Promise.resolve(new yme(e,this._engine))}loadOptions(e,n){if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;let r=e.poisson;(r==null?void 0:r.load)===void 0&&(e.poisson=r=new pme),r.load(n==null?void 0:n.poisson)}needsPlugin(e){var n;return((n=e==null?void 0:e.poisson)==null?void 0:n.enable)??!1}}async function wme(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new vme(t),e)}(function(){try{if(typeof window>"u")return;"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,r,i,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=r,this._y1=i,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter}  ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,r,i,s,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=r,this._y1=i,this._x2=s,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x1} ${this._y1} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,r,i,s,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=r,this._r2=i,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,r,i,s,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=r,this._r2=i,this._angle=s,this._largeArcFlag=o,this._sweepFlag=a},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._r1} ${this._r2} ${this._angle} ${this._largeArcFlag?"1":"0"} ${this._sweepFlag?"1":"0"} ${this._x} ${this._y}`},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x}`},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._y}`},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x2} ${this._y2} ${this._x} ${this._y}`},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return`${this.pathSegTypeAsLetter} ${this._x} ${this._y}`},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,r,i,s){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,r,i,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,r,i,s){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,r,i,s)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,r,i,s,o){return new window.SVGPathSegArcAbs(void 0,t,e,n,r,i,s,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,r,i,s,o){return new window.SVGPathSegArcRel(void 0,t,e,n,r,i,s,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(t===void 0||!isFinite(t))throw"Invalid arguments.";const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));let n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),(!("SVGPathSegList"in window)||!("appendItem"in window.SVGPathSegList.prototype))&&(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(!this._pathElement)return;let e=!1;t.forEach(function(n){n.attributeName=="d"&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);const e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){let e="",n=!0;return t.forEach(function(r){n?(n=!1,e+=r._asPathString()):e+=` ${r._asPathString()}`}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||!t.length)return[];const e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(o){this.pathSegList.push(o)};const r=function(o){this._string=o,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){const o=this._string[this._currentIndex];return o<=" "&&(o==" "||o==`
`||o=="	"||o=="\r"||o=="\f")},r.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){const o=this._string[this._currentIndex];return this._pathSegTypeFromChar(o)},r.prototype._pathSegTypeFromChar=function(o){switch(o){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(o,a){return(o=="+"||o=="-"||o=="."||o>="0"&&o<="9")&&a!=window.SVGPathSeg.PATHSEG_CLOSEPATH?a==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:a==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:a:window.SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;const o=this.peekSegmentType();return o==window.SVGPathSeg.PATHSEG_MOVETO_ABS||o==window.SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){let o=0,a=0,l=1,u=0,c=1,h=1;const f=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,c=-1),this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")return;const p=this._currentIndex;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=p){let w=this._currentIndex-1,x=1;for(;w>=p;)a+=x*(this._string.charAt(w--)-"0"),x*=10}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)l*=10,u+=(this._string.charAt(this._currentIndex)-"0")/l,this._currentIndex+=1}if(this._currentIndex!=f&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,h=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)o*=10,o+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}let m=a+u;if(m*=c,o&&(m*=Math.pow(10,h*o)),f!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),m},r.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex)return;let o=!1;const a=this._string.charAt(this._currentIndex++);if(a=="0")o=!1;else if(a=="1")o=!0;else return;return this._skipOptionalSpacesOrDelimiter(),o},r.prototype.parseSegment=function(){const o=this._string[this._currentIndex];let a=this._pathSegTypeFromChar(o);if(a==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(a=this._nextCommandHelper(o,this._previousCommand),a==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;this._previousCommand=a;let l;switch(a){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicRel(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,l.x,l.y,l.x1,l.y1,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return l={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,l.x,l.y,l.x2,l.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,l.x,l.y,l.x1,l.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return l={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,l.x,l.y,l.x1,l.y1,l.arcAngle,l.arcLarge,l.arcSweep);default:throw"Unknown path seg type."}};const i=new n,s=new r(t);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){const o=s.parseSegment();if(!o)return[];i.appendSegment(o)}return i.pathSegList})}catch(t){console.warn("An error occurred in tsParticles pathseg polyfill. If the Polygon Mask is not working, please open an issue here: https://github.com/tsparticles/tsparticles",t)}})();class _me{constructor(e){this._engine=e,this.color=new Ft,this.width=.5,this.opacity=1}load(e){J(e)||(this.color=Ft.create(this.color,e.color),Zr(this.color.value)&&(this.opacity=rie(this._engine,this.color.value)??this.opacity),e.opacity!==void 0&&(this.opacity=e.opacity),e.width!==void 0&&(this.width=e.width))}}class bme{constructor(e){this.enable=!1,this.stroke=new _me(e)}load(e){if(J(e))return;e.enable!==void 0&&(this.enable=e.enable);const n=e.stroke;this.stroke.load(n)}}var ao;(function(t){t.equidistant="equidistant",t.onePerPoint="one-per-point",t.perPoint="per-point",t.randomLength="random-length",t.randomPoint="random-point"})(ao||(ao={}));class xme{constructor(){this.arrangement=ao.onePerPoint}load(e){J(e)||e.arrangement!==void 0&&(this.arrangement=e.arrangement)}}class Eme{constructor(){this.path=[],this.size={height:0,width:0}}load(e){J(e)||(e.path!==void 0&&(this.path=e.path),e.size!==void 0&&(e.size.width!==void 0&&(this.size.width=e.size.width),e.size.height!==void 0&&(this.size.height=e.size.height)))}}var Hb;(function(t){t.path="path",t.radius="radius"})(Hb||(Hb={}));class Sme{constructor(){this.radius=10,this.type=Hb.path}load(e){J(e)||(e.radius!==void 0&&(this.radius=e.radius),e.type!==void 0&&(this.type=e.type))}}var dr;(function(t){t.inline="inline",t.inside="inside",t.outside="outside",t.none="none"})(dr||(dr={}));class Ame{constructor(e){this.draw=new bme(e),this.enable=!1,this.inline=new xme,this.move=new Sme,this.scale=1,this.type=dr.none}load(e){J(e)||(this.draw.load(e.draw),this.inline.load(e.inline),this.move.load(e.move),e.scale!==void 0&&(this.scale=e.scale),e.type!==void 0&&(this.type=e.type),e.enable!==void 0?this.enable=e.enable:this.enable=this.type!==dr.none,e.url!==void 0&&(this.url=e.url),e.data!==void 0&&(Zr(e.data)?this.data=e.data:(this.data=new Eme,this.data.load(e.data))),e.position!==void 0&&(this.position=Kt({},e.position)))}}const dk=2,rg={min:0,max:1},Pme=2;function Tme(t,e,n,r){const i=_r(t,r.color);if(!i)return;const s=0,o=n[s];e.beginPath(),e.moveTo(o.x,o.y);for(const a of n)e.lineTo(a.x,a.y);e.closePath(),e.strokeStyle=Xr(i),e.lineWidth=r.width,e.stroke()}function Cme(t,e,n,r,i){const s={a:1,b:0,c:0,d:1};e.setTransform(s.a,s.b,s.c,s.d,i.x,i.y);const o=_r(t,r.color);o&&(e.strokeStyle=Xr(o,r.opacity),e.lineWidth=r.width,e.stroke(n),e.resetTransform())}function Ime(t,e,n){const r=[];for(const s of t){const o=s.element.pathSegList,a=(o==null?void 0:o.numberOfItems)??0,l={x:0,y:0};for(let u=0;u<a;u++){const c=o==null?void 0:o.getItem(u),h=window.SVGPathSeg;switch(c==null?void 0:c.pathSegType){case h.PATHSEG_MOVETO_ABS:case h.PATHSEG_LINETO_ABS:case h.PATHSEG_CURVETO_CUBIC_ABS:case h.PATHSEG_CURVETO_QUADRATIC_ABS:case h.PATHSEG_ARC_ABS:case h.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case h.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const f=c;l.x=f.x,l.y=f.y;break}case h.PATHSEG_LINETO_HORIZONTAL_ABS:l.x=c.x;break;case h.PATHSEG_LINETO_VERTICAL_ABS:l.y=c.y;break;case h.PATHSEG_LINETO_REL:case h.PATHSEG_MOVETO_REL:case h.PATHSEG_CURVETO_CUBIC_REL:case h.PATHSEG_CURVETO_QUADRATIC_REL:case h.PATHSEG_ARC_REL:case h.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case h.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const f=c;l.x+=f.x,l.y+=f.y;break}case h.PATHSEG_LINETO_HORIZONTAL_REL:l.x+=c.x;break;case h.PATHSEG_LINETO_VERTICAL_REL:l.y+=c.y;break;case h.PATHSEG_UNKNOWN:case h.PATHSEG_CLOSEPATH:continue}r.push({x:l.x*e+n.x,y:l.y*e+n.y})}}return r}function Rme(t,e,n){const{dx:r,dy:i}=kn(n,t),{dx:s,dy:o}=kn(e,t),a=(r*s+i*o)/(s**dk+o**dk),l={x:t.x+s*a,y:t.y+o*a,isOnSegment:a>=rg.min&&a<=rg.max};return a<rg.min?(l.x=t.x,l.y=t.y):a>rg.max&&(l.x=e.x,l.y=e.y),l}function kme(t,e,n){const{dx:r,dy:i}=kn(t,e),s=Math.atan2(i,r),o=at.create(Math.sin(s),-Math.cos(s)),a=Pme*(n.x*o.x+n.y*o.y);o.multTo(a),n.subFrom(o)}const ig=`${ar} No polygon data loaded.`,Mme=`${ar} No polygon found, you need to specify SVG url in config.`,ac={x:0,y:0},sg=.5,Ome=2;class Nme{constructor(e,n){this._checkInsidePolygon=r=>{const i=this._container,s=i.actualOptions.polygon;if(!(s!=null&&s.enable)||s.type===dr.none||s.type===dr.inline)return!0;if(!this.raw)throw new Error(Mme);const o=i.canvas.size,a=(r==null?void 0:r.x)??Pe()*o.width,l=(r==null?void 0:r.y)??Pe()*o.height,u=1;let c=!1;for(let h=0,f=this.raw.length-u;h<this.raw.length;f=h++){const p=this.raw[h],m=this.raw[f];p.y>l!=m.y>l&&a<(m.x-p.x)*(l-p.y)/(m.y-p.y)+p.x&&(c=!c)}return s.type===dr.inside?c:s.type===dr.outside?!c:!1},this._createPath2D=()=>{var s,o;if(!(!this._container.actualOptions.polygon||!((s=this.paths)!=null&&s.length)))for(const a of this.paths){const l=(o=a.element)==null?void 0:o.getAttribute("d");if(l){const h=new Path2D(l),f=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),p=new Path2D,m=f.scale(this._scale);p.addPath?(p.addPath(h,m),a.path2d=p):delete a.path2d}else delete a.path2d;if(a.path2d??!this.raw)continue;a.path2d=new Path2D;const u=0,c=this.raw[u];a.path2d.moveTo(c.x,c.y),this.raw.forEach((h,f)=>{var p;f>u&&((p=a.path2d)==null||p.lineTo(h.x,h.y))}),a.path2d.closePath()}},this._downloadSvgPath=async(r,i)=>{const s=this._container.actualOptions.polygon;if(!s)return;const o=r??s.url,a=i??!1;if(!o||this.paths!==void 0&&!a)return this.raw;const l=await fetch(o);if(!l.ok)throw new Error(`${ar} occurred during polygon mask download`);return this._parseSvgPath(await l.text(),i)},this._drawPoints=()=>{if(this.raw)for(const r of this.raw)this._container.particles.addParticle({x:r.x,y:r.y})},this._getEquidistantPointByIndex=r=>{var p,m,w,x;const i=this._container,s=i.actualOptions;if(!s.polygon)return;if(!((p=this.raw)!=null&&p.length)||!((m=this.paths)!=null&&m.length))throw new Error(ig);let a=0,l;const u=0,c=this.paths.reduce((v,S)=>v+S.length,u),h=c/s.particles.number.value;for(const v of this.paths){const S=h*r-a;if(S<=v.length){l=v.element.getPointAtLength(S);break}else a+=v.length}const f=this._scale;return{x:((l==null?void 0:l.x)??ac.x)*f+(((w=this.offset)==null?void 0:w.x)??ac.x),y:((l==null?void 0:l.y)??ac.y)*f+(((x=this.offset)==null?void 0:x.y)??ac.y)}},this._getPointByIndex=r=>{var s;if(!((s=this.raw)!=null&&s.length))throw new Error(ig);const i=this.raw[r%this.raw.length];return{x:i.x,y:i.y}},this._getRandomPoint=()=>{var i;if(!((i=this.raw)!=null&&i.length))throw new Error(ig);const r=Lo(this.raw);return{x:r.x,y:r.y}},this._getRandomPointByLength=()=>{var c,h,f,p;if(!this._container.actualOptions.polygon)return;if(!((c=this.raw)!=null&&c.length)||!((h=this.paths)!=null&&h.length))throw new Error(ig);const s=Lo(this.paths),o=1,a=Math.floor(Pe()*s.length)+o,l=s.element.getPointAtLength(a),u=this._scale;return{x:l.x*u+(((f=this.offset)==null?void 0:f.x)??ac.x),y:l.y*u+(((p=this.offset)==null?void 0:p.y)??ac.y)}},this._initRawData=async r=>{const i=this._container.actualOptions.polygon;if(i){if(i.url)this.raw=await this._downloadSvgPath(i.url,r);else if(i.data){const s=i.data;let o;if(Zr(s))o=s;else{const a=c=>`<path d="${c}" />`,l=Jn(s.path)?s.path.map(a).join(""):a(s.path);o=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${s.size.width}" height="${s.size.height}">${l}</svg>`}this.raw=this._parseSvgPath(o,r)}this._createPath2D(),this._engine.dispatchEvent("polygonMaskLoaded",{container:this._container})}},this._parseSvgPath=(r,i)=>{const s=i??!1;if(this.paths!==void 0&&!s)return this.raw;const o=this._container,a=o.actualOptions.polygon;if(!a)return;const l=new DOMParser,u=l.parseFromString(r,"image/svg+xml"),c=0,h=u.getElementsByTagName("svg")[c];let f=h.getElementsByTagName("path");f.length||(f=u.getElementsByTagName("path")),this.paths=[];for(let x=0;x<f.length;x++){const v=f.item(x);v&&this.paths.push({element:v,length:v.getTotalLength()})}const p=this._scale;this.dimension.width=parseFloat(h.getAttribute("width")??"0")*p,this.dimension.height=parseFloat(h.getAttribute("height")??"0")*p;const m=a.position??{x:50,y:50},w=o.canvas.size;return this.offset={x:w.width*m.x/st-this.dimension.width*sg,y:w.height*m.y/st-this.dimension.height*sg},Ime(this.paths,p,this.offset)},this._polygonBounce=(r,i,s)=>{const o=this._container.actualOptions.polygon;if(!this.raw||!(o!=null&&o.enable)||s!==pt.top)return!1;if(o.type===dr.inside||o.type===dr.outside){let a,l,u;const c=r.getPosition(),h=r.getRadius(),f=1;for(let p=0,m=this.raw.length-f;p<this.raw.length;m=p++){const w=this.raw[p],x=this.raw[m];a=Rme(w,x,c);const v=kn(c,a);if([l,u]=[v.dx,v.dy],v.distance<h)return kme(w,x,r.velocity),!0}if(a&&l!==void 0&&u!==void 0&&!this._checkInsidePolygon(c)){const p={x:1,y:1},m=h*Ome,w=-1;return c.x>=a.x&&(p.x=-1),c.y>=a.y&&(p.y=-1),r.position.x=a.x+m*p.x,r.position.y=a.y+m*p.y,r.velocity.mult(w),!0}}else if(o.type===dr.inline&&r.initialPosition){const a=wr(r.initialPosition,r.getPosition()),{velocity:l}=r;if(a>this._moveRadius)return l.x=l.y*sg-l.x,l.y=l.x*sg-l.y,!0}return!1},this._randomPoint=()=>{const r=this._container,i=r.actualOptions.polygon;if(!i)return;let s;if(i.type===dr.inline)switch(i.inline.arrangement){case ao.randomPoint:s=this._getRandomPoint();break;case ao.randomLength:s=this._getRandomPointByLength();break;case ao.equidistant:s=this._getEquidistantPointByIndex(r.particles.count);break;case ao.onePerPoint:case ao.perPoint:default:s=this._getPointByIndex(r.particles.count)}else{const o=r.canvas.size;s={x:Pe()*o.width,y:Pe()*o.height}}return this._checkInsidePolygon(s)?s:this._randomPoint()},this._container=e,this._engine=n,this.dimension={height:0,width:0},this._moveRadius=0,this._scale=1}clickPositionValid(e){const n=this._container.actualOptions.polygon;return!!(n!=null&&n.enable)&&n.type!==dr.none&&n.type!==dr.inline&&this._checkInsidePolygon(e)}draw(e){var s;if(!((s=this.paths)!=null&&s.length))return;const n=this._container.actualOptions.polygon;if(!(n!=null&&n.enable))return;const r=n.draw;if(!r.enable)return;const i=this.raw;for(const o of this.paths){const a=o.path2d;e&&(a&&this.offset?Cme(this._engine,e,a,r.stroke,this.offset):i&&Tme(this._engine,e,i,r.stroke))}}async init(){const e=this._container,n=e.actualOptions.polygon,r=e.retina.pixelRatio;n&&(this._moveRadius=n.move.radius*r,this._scale=n.scale*r,n.enable&&await this._initRawData())}particleBounce(e,n,r){return this._polygonBounce(e,n,r)}particlePosition(e){var i;const n=this._container.actualOptions.polygon,r=0;if(n!=null&&n.enable&&(((i=this.raw)==null?void 0:i.length)??r)>r)return Kt({},e||this._randomPoint())}particlesInitialization(){const e=this._container.actualOptions.polygon;return e!=null&&e.enable&&e.type===dr.inline&&(e.inline.arrangement===ao.onePerPoint||e.inline.arrangement===ao.perPoint)?(this._drawPoints(),!0):!1}resize(){const e=this._container,n=e.actualOptions.polygon;if(!(n!=null&&n.enable&&n.type!==dr.none))return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);const r=250;this.redrawTimeout=window.setTimeout(()=>{(async()=>(await this._initRawData(!0),await e.particles.redraw()))()},r)}stop(){delete this.raw,delete this.paths}}class Dme{constructor(e){this.id="polygonMask",this._engine=e}getPlugin(e){return Promise.resolve(new Nme(e,this._engine))}loadOptions(e,n){if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;let r=e.polygon;(r==null?void 0:r.load)===void 0&&(e.polygon=r=new Ame(this._engine)),r.load(n==null?void 0:n.polygon)}needsPlugin(e){var n,r;return((n=e==null?void 0:e.polygon)==null?void 0:n.enable)??(((r=e==null?void 0:e.polygon)==null?void 0:r.type)!==void 0&&e.polygon.type!==dr.none)}}async function Lme(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new Dme(t),e)}class Vme{constructor(){this._createDirs=()=>{this.dirsList=[];for(let e=0;e<360;e+=360/this.options.sides){const n=this.options.angle+e;this.dirsList.push(at.create(Math.cos(n*Math.PI/180),Math.sin(n*Math.PI/180)))}},this.dirsList=[],this.options={sides:6,turnSteps:20,angle:30}}generate(e){const{sides:n}=this.options;e.hexStep===void 0&&(e.hexStep=0),e.hexDirection===void 0&&(e.hexDirection=n===6?(Pe()*3|0)*2:Pe()*n|0),e.hexSpeed===void 0&&(e.hexSpeed=e.velocity.length),e.hexStep%this.options.turnSteps===0&&(e.hexDirection=Pe()>.5?(e.hexDirection+1)%n:(e.hexDirection+n-1)%n),e.velocity.x=0,e.velocity.y=0,e.hexStep++;const r=this.dirsList[e.hexDirection];return at.create(r.x*e.hexSpeed,r.y*e.hexSpeed)}init(e){const n=e.actualOptions.particles.move.path.options;this.options.sides=n.sides>0?n.sides:6,this.options.angle=n.angle??30,this.options.turnSteps=n.turnSteps>=0?n.turnSteps:20,this._createDirs()}reset(e){delete e.hexStep,delete e.hexDirection,delete e.hexSpeed}update(){}}const Fme="polygonPathGenerator";async function Bme(t,e=!0){t.checkVersion("3.8.1"),await t.addPathGenerator(Fme,new Vme,e)}const zme=2,jme=Math.PI*zme,og=.5,Ume=0;function $me(t,e,n=Ume){const r=jme/t,i=[];for(let s=0;s<t;s++)i.push({x:Math.cos(s*r+n)*e,y:Math.sin(s*r+n)*e});return i}function Gme(t,e,n){let o=e[0],a=e[1];const l=e.length;t.moveTo((o.x+a.x)*og,(o.y+a.y)*og);for(let u=1;u<=l;u++)o=a,a=e[(u+1)%l],t.arcTo(o.x,o.y,(o.x+a.x)*og,(o.y+a.y)*og,n)}const pk=5,Hme=5;class qme{constructor(){this.validTypes=["rounded-polygon"]}draw(e){const{context:n,particle:r,radius:i}=e;Gme(n,$me(r.sides,i),r.borderRadius??Hme)}getSidesCount(e){const n=e.shapeData;return Math.round(re((n==null?void 0:n.sides)??pk))}particleInit(e,n){const r=n.shapeData;n.borderRadius=Math.round(re((r==null?void 0:r.radius)??pk))*e.retina.pixelRatio}}async function Wme(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new qme,e)}function Kme(t,e,n,r){const i={x:-e,y:-e,height:n,width:n},s={topLeft:r,topRight:r,bottomLeft:r,bottomRight:r},{x:o,y:a,width:l,height:u}=i,c=o+l,h=a+u;t.moveTo(o+s.topLeft,a),t.lineTo(c-s.topRight,a),t.quadraticCurveTo(c,a,c,a+s.topRight),t.lineTo(c,a+u-s.bottomRight),t.quadraticCurveTo(c,h,c-s.bottomRight,h),t.lineTo(o+s.bottomLeft,h),t.quadraticCurveTo(o,h,o,h-s.bottomLeft),t.lineTo(o,a+s.topLeft),t.quadraticCurveTo(o,a,o+s.topLeft,a)}const Qme=2,Yme=Math.sqrt(Qme),Xme=2,mk=5;class Jme{constructor(){this.validTypes=["rounded-rect"]}draw(e){const{context:n,particle:r,radius:i}=e,s=i/Yme,o=s*Xme,a=r.borderRadius??mk;"roundRect"in n?n.roundRect(-s,-s,o,o,a):Kme(n,s,o,a)}particleInit(e,n){const r=n.shapeData;n.borderRadius=re((r==null?void 0:r.radius)??mk)*e.retina.pixelRatio}}async function Zme(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Jme,e)}var au;(function(t){t[t.normal=0]="normal",t[t.reverse=1]="reverse"})(au||(au={}));const ege=1,tge=0,nge=0,rge=0,ige=1;class sge{constructor(){this._paths=[],this._reverse=!1,this._size={width:0,height:0},this._scale=1,this._offset={x:0,y:0,mode:qs.percent},this._width=0}generate(e,n){const r=e.container,i=r.retina.pixelRatio;e.svgDirection===void 0&&(e.svgDirection=Pe()>tt?au.normal:au.reverse),e.svgPathIndex===void 0&&(e.svgPathIndex=Math.floor(Math.random()*this._paths.length)),e.svgSpeed===void 0&&(e.svgSpeed=e.velocity.mult((e.retina.moveSpeed??ege)*tt).length),e.svgStep===void 0&&(e.svgStep=In({min:0,max:this._paths[e.svgPathIndex].length})*i),e.svgOffset===void 0&&(e.svgOffset={width:In({min:-this._width*tt,max:this._width*tt})*i,height:In({min:-this._width*tt,max:this._width*tt})*i}),e.svgInitialPosition===void 0&&(e.svgInitialPosition={...e.position}),e.velocity.x=0,e.velocity.y=0,e.svgDirection===au.normal?e.svgStep+=e.svgSpeed*n.factor:e.svgStep-=e.svgSpeed*n.factor;let s=this._paths[e.svgPathIndex];if(s){const o=s.length,a=1;e.svgStep>=o?(e.svgPathIndex=e.svgPathIndex+a,e.svgPathIndex>=this._paths.length&&(this._reverse?(e.svgPathIndex=this._paths.length-a,e.svgDirection=au.reverse):(e.svgPathIndex=0,e.svgStep=0))):e.svgStep<=tge&&(e.svgPathIndex=e.svgPathIndex-a,e.svgPathIndex<nge&&(this._reverse?(e.svgPathIndex=0,e.svgDirection=au.normal):(e.svgPathIndex=this._paths.length-a,s=this._paths[e.svgPathIndex],e.svgStep=s.length))),s=this._paths[e.svgPathIndex]}if(s){const o=s.element,a=o.getPointAtLength(e.svgStep),l=e.container.canvas.size,u=HS(this._offset,l),c=this._scale*i;e.position.x=(a.x-this._size.width*tt)*c+e.svgInitialPosition.x+u.x+e.svgOffset.width,e.position.y=(a.y-this._size.height*tt)*c+e.svgInitialPosition.y+u.y+e.svgOffset.height}return at.origin}init(e){const n=e.actualOptions.particles.move.path.options,r=n.position??this._offset;if(this._reverse=n.reverse??this._reverse,this._scale=n.scale??ige,this._offset.x=r.x,this._offset.y=r.y,this._offset.mode=r.mode,this._width=n.width??rge,n.url&&!n.path){const i=n.url;(async()=>{const s=await fetch(i),o=await s.text(),a=new DOMParser,l=a.parseFromString(o,"image/svg+xml"),u=0,c=l.getElementsByTagName("svg")[u];let h=c.getElementsByTagName("path");h.length||(h=l.getElementsByTagName("path")),this._paths=[];for(let f=0;f<h.length;f++){const p=h.item(f);p&&this._paths.push({element:p,length:p.getTotalLength()})}this._size.height=parseFloat(c.getAttribute("height")??"0"),this._size.width=parseFloat(c.getAttribute("width")??"0")})()}else if(n.path){const i=n.path;this._paths=[];for(const s of i.data){const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",s),this._paths.push({element:o,length:o.getTotalLength()})}this._size.height=i.size.height,this._size.width=i.size.width}}reset(){}update(){}}const oge="svgPathGenerator";async function age(t,e=!0){t.checkVersion("3.8.1"),await t.addPathGenerator(oge,new sge,e)}const Yl={size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,offset:{x:4e4,y:4e4,z:4e4}};class lge{constructor(){const e=new j6;this._simplex=e.noise4d,this.field=[],this.noiseW=0,this.options=Kt({},Yl)}generate(e){var s,o,a;const n=e.getPosition(),r={x:Math.max(Math.floor(n.x/this.options.size),0),y:Math.max(Math.floor(n.y/this.options.size),0),z:Math.max(Math.floor(n.z/this.options.size),0)},i=at.origin;return(a=(o=(s=this.field)==null?void 0:s[r.x])==null?void 0:o[r.y])!=null&&a[r.z]&&i.setTo(this.field[r.x][r.y][r.z]),i}init(e){this.container=e,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment)}_calculateField(){const e=this.options;for(let n=0;n<e.columns;n++)for(let r=0;r<e.rows;r++)for(let i=0;i<e.layers;i++)this.field[n][r][i].angle=this._simplex.noise(n/50,r/50,i/50,this.noiseW)*Math.PI*2,this.field[n][r][i].length=this._simplex.noise(n/100+e.offset.x,r/100+e.offset.y,i/100+e.offset.z,this.noiseW)}_initField(){this.field=new Array(this.options.columns);for(let e=0;e<this.options.columns;e++){this.field[e]=new Array(this.options.rows);for(let n=0;n<this.options.rows;n++){this.field[e][n]=new Array(this.options.layers);for(let r=0;r<this.options.layers;r++)this.field[e][n][r]=at.origin}}}_resetField(){const e=this.container;if(!e)return;const n=e.actualOptions.particles.move.path.options;this.options.size=n.size>0?n.size:Yl.size,this.options.increment=n.increment>0?n.increment:Yl.increment,this.options.width=e.canvas.size.width,this.options.height=e.canvas.size.height;const r=n.offset;this.options.offset.x=(r==null?void 0:r.x)??Yl.offset.x,this.options.offset.y=(r==null?void 0:r.y)??Yl.offset.y,this.options.offset.z=(r==null?void 0:r.z)??Yl.offset.z,this.options.seed=n.seed??Yl.seed,this._simplex.seed(this.options.seed??Pe()),this.options.columns=Math.floor(this.options.width/this.options.size)+1,this.options.rows=Math.floor(this.options.height/this.options.size)+1,this.options.layers=Math.floor(e.zLayers/this.options.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",()=>this._resetField())}}const uge="simplexNoise";async function cge(t,e=!0){t.checkVersion("3.8.1"),await t.addPathGenerator(uge,new lge,e)}class gk{constructor(){this.loop=!1,this.source=""}load(e){J(e)||(nl(e)?(e.loop!==void 0&&(this.loop=e.loop),e.source!==void 0&&(this.source=e.source)):this.source=e)}}class a9{constructor(){this.duration=500,this.value=[]}load(e){J(e)||(e.duration!==void 0&&(this.duration=e.duration),e.value!==void 0&&(this.value=e.value))}}class ZS{constructor(){this.loop=!1,this.melodies=[],this.notes=[]}load(e){J(e)||(e.loop!==void 0&&(this.loop=e.loop),e.melodies!==void 0&&(this.melodies=e.melodies.map(n=>{const r=new ZS;return r.load(n),r})),e.notes!==void 0&&(this.notes=e.notes.map(n=>{const r=new a9;return r.load(n),r})))}}class hge{constructor(){this.event=[],this.notes=[]}load(e){if(!J(e)&&(e.event!==void 0&&(this.event=e.event),e.audio!==void 0&&(Jn(e.audio)?this.audio=e.audio.map(n=>{const r=new gk;return r.load(n),r}):(this.audio=new gk,this.audio.load(e.audio))),e.notes!==void 0&&(this.notes=e.notes.map(n=>{const r=new a9;return r.load(n),r})),e.melodies!==void 0&&(this.melodies=e.melodies.map(n=>{const r=new ZS;return r.load(n),r})),e.filter))if(Zr(e.filter)){const n=window[e.filter];Rv(n)&&(this.filter=n)}else this.filter=e.filter}}class ag{constructor(){this.width=24,this.height=24,this.style=""}load(e){J(e)||(e.path!==void 0&&(this.path=e.path),e.svg!==void 0&&(this.svg=e.svg),e.width!==void 0&&(this.width=e.width),e.height!==void 0&&(this.height=e.height))}}class fge{constructor(){this.mute=new ag,this.unmute=new ag,this.volumeDown=new ag,this.volumeUp=new ag,this.enable=!1,this.mute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M19.707,5.293c-0.391-0.391-1.023-0.391-1.414,0l-1.551,1.551c-0.345-0.688-0.987-1.02-1.604-1.02c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.237,0.754,2.302,1.826,2.76l-1.533,1.533c-0.391,0.391-0.391,1.023,0,1.414C5.488,19.902,5.744,20,6,20s0.512-0.098,0.707-0.293l2.527-2.527c0.697,0.174,1.416,0.455,1.875,0.762l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V9.414l2.707-2.707C20.098,6.316,20.098,5.684,19.707,5.293z M14.891,7.941c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8v1.293l-2,2V9.202L14.891,7.941z M7,12c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v2.439l-2.83,2.83C8.757,15.046,8.356,15,8,15c-0.552,0-1-0.448-1-1V12z M10.301,15.406L12,13.707v2.439C11.519,15.859,10.925,15.604,10.301,15.406z M14.994,18.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798v-4.091l2-2V18C15,18.046,14.998,18.086,14.994,18.12z"/>
    </g>
</svg>`,this.unmute.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M17.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C12.357,8.561,10.904,9,10,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C18.035,20.176,19,19.495,19,18V8C19,6.505,18.035,5.824,17.138,5.824z M14,16.146C12.907,15.495,11.211,15,10,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146V16.146z M17,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L15,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C16.998,7.914,17,7.954,17,8V18z"/>
    </g>
</svg>`,this.volumeDown.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M15.138,5.824c-0.449,0-0.905,0.152-1.356,0.453l-2.672,1.781C10.357,8.561,8.904,9,8,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C16.035,20.176,17,19.495,17,18V8C17,6.505,16.035,5.824,15.138,5.824z M8,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C10.907,15.495,9.211,15,8,15z M15,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L13,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C14.998,7.914,15,7.954,15,8V18z"/>
        <path fill="#fff" d="M18.292,10.294c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C18.488,15.902,18.744,16,19,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708s-0.398-1.984-1.123-2.707C19.317,9.903,18.683,9.901,18.292,10.294z"/>
    </g>
</svg>`,this.volumeUp.svg=`<?xml version="1.0"?>
<svg baseProfile="tiny" height="24px" version="1.2" viewBox="0 0 24 24" width="24px"
    xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Layer_1">
        <path fill="#fff" d="M16.706,10.292c-0.389-0.389-1.023-0.391-1.414,0.002c-0.39,0.391-0.39,1.023,0.002,1.414c0.345,0.345,0.535,0.803,0.535,1.291c0,0.489-0.19,0.948-0.536,1.294c-0.391,0.39-0.391,1.023,0,1.414C15.488,15.902,15.744,16,16,16s0.512-0.098,0.707-0.293c0.724-0.723,1.122-1.685,1.122-2.708S17.431,11.015,16.706,10.292z"/>
        <path fill="#fff" d="M18.706,8.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c0.879,0.877,1.363,2.044,1.364,3.287c0.001,1.246-0.484,2.417-1.365,3.298c-0.391,0.391-0.391,1.023,0,1.414C17.488,17.902,17.744,18,18,18s0.512-0.098,0.707-0.293c1.259-1.259,1.952-2.933,1.951-4.713C20.657,11.217,19.964,9.547,18.706,8.292z"/>
        <path fill="#fff" d="M20.706,6.292c-0.391-0.389-1.023-0.39-1.414,0.002c-0.39,0.391-0.39,1.024,0.002,1.414c1.412,1.409,2.191,3.285,2.192,5.284c0.002,2.002-0.777,3.885-2.193,5.301c-0.391,0.391-0.391,1.023,0,1.414C19.488,19.902,19.744,20,20,20s0.512-0.098,0.707-0.293c1.794-1.794,2.781-4.18,2.779-6.717C23.485,10.457,22.497,8.078,20.706,6.292z"/>
        <path fill="#fff" d="M12.138,5.824c-0.449,0-0.905,0.152-1.356,0.453L8.109,8.059C7.357,8.561,5.904,9,5,9c-1.654,0-3,1.346-3,3v2c0,1.654,1.346,3,3,3c0.904,0,2.357,0.439,3.109,0.941l2.672,1.781c0.451,0.301,0.907,0.453,1.356,0.453C13.035,20.176,14,19.495,14,18V8C14,6.505,13.035,5.824,12.138,5.824z M5,15c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1c1.211,0,2.907-0.495,4-1.146v6.293C7.907,15.495,6.211,15,5,15z M12,18c0,0.046-0.002,0.086-0.006,0.12c-0.03-0.016-0.065-0.036-0.104-0.062L10,16.798V9.202l1.891-1.261c0.038-0.025,0.073-0.046,0.104-0.062C11.998,7.914,12,7.954,12,8V18z"/>
    </g>
</svg>`}load(e){J(e)||(e.enable!==void 0&&(this.enable=e.enable),this.mute.load(e.mute),this.unmute.load(e.unmute),this.volumeDown.load(e.volumeDown),this.volumeUp.load(e.volumeUp))}}class dge{constructor(){this.value=100,this.max=100,this.min=0,this.step=10}load(e){J(e)||(nl(e)?(e.max!==void 0&&(this.max=e.max),e.min!==void 0&&(this.min=e.min),e.step!==void 0&&(this.step=e.step),e.value!==void 0&&(this.value=e.value)):this.value=e)}}class pge{constructor(){this.autoPlay=!0,this.enable=!1,this.events=[],this.icons=new fge,this.volume=new dge}load(e){J(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.enable!==void 0&&(this.enable=e.enable),e.events!==void 0&&(this.events=e.events.map(n=>{const r=new hge;return r.load(n),r})),this.icons.load(e.icons),e.volume!==void 0&&this.volume.load(e.volume))}}var _y;(function(t){t.mute="soundsMuted",t.unmute="soundsUnmuted"})(_y||(_y={}));var gd;(function(t){t.Block="block",t.None="none"})(gd||(gd={}));const _i=new Map;_i.set("C",[16.35,32.7,65.41,130.81,261.63,523.25,1046.5,2093,4186.01]);_i.set("Db",[17.32,34.65,69.3,138.59,277.18,554.37,1108.73,2217.46,4434.92]);_i.set("D",[18.35,36.71,73.42,146.83,293.66,587.33,1174.66,2349.32,4698.63]);_i.set("Eb",[19.45,38.89,77.78,155.56,311.13,622.25,1244.51,2489.02,4978.03]);_i.set("E",[20.6,41.2,82.41,164.81,329.63,659.25,1318.51,2637.02,5274.04]);_i.set("F",[21.83,43.65,87.31,174.61,349.23,698.46,1396.91,2793.83,5587.65]);_i.set("Gb",[23.12,46.25,92.5,185,369.99,739.99,1479.98,2959.96,5919.91]);_i.set("G",[24.5,49,98,196,392,783.99,1567.98,3135.96,6271.93]);_i.set("Ab",[25.96,51.91,103.83,207.65,415.3,830.61,1661.22,3322.44,6644.88]);_i.set("A",[27.5,55,110,220,440,880,1760,3520,7040]);_i.set("Bb",[29.14,58.27,116.54,233.08,466.16,932.33,1864.66,3729.31,7458.62]);_i.set("B",[30.87,61.74,123.47,246.94,493.88,987.77,1975.53,3951.07,7902.13]);_i.set("pause",[0]);function mge(t){const e=/(([A-G]b?)(\d))|pause/i,n=e.exec(t),r=2,i=0,s=3;if(!(n!=null&&n.length))return;const o=n[r]||n[i],a=_i.get(o);if(a)return a[parseInt(n[s]||"0")]}let l9=!0;const yk=()=>l9,u9=()=>{l9=!1},c9=1,gge=1,vk=0;function lg(t){var x;const e=document.createElement("img"),{clickCb:n,container:r,display:i,iconOptions:s,margin:o,options:a,pos:l,rightOffsets:u}=t,{width:c,path:h,style:f,svg:p}=s,m=0;return yge(e,l.top+o,l.right-(o*(u.length+gge)+c+u.reduce((v,S)=>v+S,m)),i,a.fullScreen.zIndex+c9,c,o,f),e.src=h??(p?`data:image/svg+xml;base64,${btoa(p)}`:""),(((x=r.canvas.element)==null?void 0:x.parentNode)??document.body).append(e),e.addEventListener("click",()=>{n()}),e}function ug(t){t&&t.remove()}function yge(t,e,n,r,i,s,o,a){t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.position="absolute",t.style.top=`${e+o}px`,t.style.left=`${n-o-s}px`,t.style.display=r,t.style.zIndex=`${i+c9}`,t.style.cssText+=a}class vge{constructor(e,n){this._addBuffer=r=>{const i=r.createBufferSource();return this._audioSources.push(i),i},this._addOscillator=r=>{const i=r.createOscillator();return this._audioSources.push(i),i},this._initEvents=()=>{const r=this._container,i=r.actualOptions.sounds;if(!(!(i!=null&&i.enable)||!r.canvas.element))for(const s of i.events){const o=a=>{(async()=>{const l=s.filter&&!s.filter(a);if(this._container!==a.container)return;if(!this._container||this._container.muted||this._container.destroyed){sn(s.event,c=>{this._engine.removeEventListener(c,o)});return}if(l)return;const u=0;if(s.audio)this._playBuffer(jn(s.audio));else if(s.melodies){const c=Lo(s.melodies);c.melodies.length?await Promise.allSettled(c.melodies.map(h=>this._playNote(h.notes,u,c.loop))):await this._playNote(c.notes,u,c.loop)}else if(s.notes){const c=Lo(s.notes);await this._playNote([c],u,!1)}})()};sn(s.event,a=>{this._engine.addEventListener(a,o)})}},this._mute=async()=>{const r=this._container,i=this._getAudioContext();for(const s of this._audioSources)this._removeAudioSource(s);this._gain&&this._gain.disconnect(),await i.close(),r.audioContext=void 0,this._engine.dispatchEvent(_y.mute,{container:this._container})},this._playBuffer=r=>{const i=this._audioMap.get(r.source);if(!i)return;const s=this._container.audioContext;if(!s)return;const o=this._addBuffer(s);o.loop=r.loop,o.buffer=i,o.connect(this._gain??s.destination),o.start()},this._playFrequency=async(r,i)=>{if(!this._gain||this._container.muted)return;const s=this._getAudioContext(),o=this._addOscillator(s);return o.connect(this._gain),o.type="sine",o.frequency.value=r,o.start(),new Promise(a=>{setTimeout(()=>{this._removeAudioSource(o),a()},i)})},this._playMuteSound=()=>{if(this._container.muted)return;const r=this._getAudioContext(),i=r.createGain();i.connect(r.destination),i.gain.value=0;const s=r.createOscillator();s.connect(i),s.type="sine",s.frequency.value=1,s.start(),setTimeout(()=>{s.stop(),s.disconnect(),i.disconnect()})},this._playNote=async(r,i,s)=>{if(this._container.muted)return;const o=r[i];if(!o)return;const a=o.value,l=sn(a,async(h,f)=>this._playNoteValue(r,i,f));await(Jn(l)?Promise.allSettled(l):l);let c=i+1;s&&c>=r.length&&(c=c%r.length),!this._container.muted&&await this._playNote(r,c,s)},this._playNoteValue=async(r,i,s)=>{const o=r[i];if(!o)return;const a=jn(o.value,s,!0);try{const l=mge(a);if(!Sr(l))return;await this._playFrequency(l,o.duration)}catch(l){ba().error(l)}},this._removeAudioSource=r=>{r.stop(),r.disconnect();const i=1;this._audioSources.splice(this._audioSources.indexOf(r),i)},this._unmute=()=>{const r=this._container,i=r.actualOptions,s=i.sounds;if(!s)return;const o=this._getAudioContext();this._audioSources||(this._audioSources=[]);const a=o.createGain();a.connect(o.destination),a.gain.value=s.volume.value/st,this._gain=a,this._initEvents(),this._engine.dispatchEvent(_y.unmute,{container:this._container})},this._updateMuteIcons=()=>{const r=this._container,i=r.actualOptions.sounds;if(!(i!=null&&i.enable)||!i.icons.enable)return;const s=this._muteImg,o=this._unmuteImg;s&&(s.style.display=r.muted?"block":"none"),o&&(o.style.display=r.muted?"none":"block")},this._updateMuteStatus=async()=>{const r=this._container,i=this._getAudioContext();r.muted?(await(i==null?void 0:i.suspend()),await this._mute()):(await(i==null?void 0:i.resume()),this._unmute(),this._playMuteSound())},this._updateVolume=async()=>{var o;const r=this._container,i=r.actualOptions.sounds;if(!(i!=null&&i.enable))return;vi(this._volume,i.volume.min,i.volume.max);let s=!1;this._volume<=vk&&!r.muted?(this._volume=0,r.muted=!0,s=!0):this._volume>vk&&r.muted&&(r.muted=!1,s=!0),s&&(this._updateMuteIcons(),await this._updateMuteStatus()),(o=this._gain)!=null&&o.gain&&(this._gain.gain.value=this._volume/st)},this._container=e,this._engine=n,this._volume=0,this._audioSources=[],this._audioMap=new Map}async init(){const e=this._container,n=e.actualOptions,r=n.sounds;if(!(r!=null&&r.enable))return;if(r.autoPlay&&yk()){const s=()=>{removeEventListener(up,s),removeEventListener(cp,s),u9(),this.unmute()},o={capture:!0,once:!0};addEventListener(up,s,o),addEventListener(cp,s,o)}this._volume=r.volume.value;const i=r.events;this._audioMap=new Map;for(const s of i){if(!s.audio)continue;const o=sn(s.audio,async a=>{const l=await fetch(a.source);if(!l.ok)return;const u=await l.arrayBuffer(),c=this._getAudioContext(),h=await c.decodeAudioData(u);this._audioMap.set(a.source,h)});o instanceof Promise?await o:await Promise.allSettled(o)}}async mute(){this._container.muted||await this.toggleMute()}async start(){const e=this._container,n=e.actualOptions,r=n.sounds;if(!(r!=null&&r.enable)||!e.canvas.element)return;e.muted=!0;const i=e.canvas.element,s={top:i.offsetTop,right:i.offsetLeft+i.offsetWidth},{mute:o,unmute:a,volumeDown:l,volumeUp:u}=r.icons,c=10,h=async()=>{await this.toggleMute()},f=r.icons.enable,p=f?gd.Block:gd.None;this._muteImg=lg({container:e,options:n,pos:s,display:p,iconOptions:o,margin:c,rightOffsets:[l.width,u.width],clickCb:h}),this._unmuteImg=lg({container:e,options:n,pos:s,display:gd.None,iconOptions:a,margin:c,rightOffsets:[l.width,u.width],clickCb:h}),this._volumeDownImg=lg({container:e,options:n,pos:s,display:p,iconOptions:l,margin:c,rightOffsets:[u.width],clickCb:async()=>{await this.volumeDown()}}),this._volumeUpImg=lg({container:e,options:n,pos:s,display:p,iconOptions:u,margin:c,rightOffsets:[],clickCb:async()=>{await this.volumeUp()}}),!yk()&&r.autoPlay&&await this.unmute()}stop(){this._container.muted=!0,(async()=>(await this._mute(),ug(this._muteImg),ug(this._unmuteImg),ug(this._volumeDownImg),ug(this._volumeUpImg)))()}async toggleMute(){const e=this._container;e.muted=!e.muted,this._updateMuteIcons(),await this._updateMuteStatus()}async unmute(){this._container.muted&&await this.toggleMute()}async volumeDown(){const e=this._container,n=e.actualOptions.sounds;n!=null&&n.enable&&(e.muted&&(this._volume=0),this._volume-=n.volume.step,await this._updateVolume())}async volumeUp(){const e=this._container,n=e.actualOptions.sounds;n!=null&&n.enable&&(this._volume+=n.volume.step,await this._updateVolume())}_getAudioContext(){const e=this._container;return e.audioContext||(e.audioContext=new AudioContext),e.audioContext}}const by=()=>{removeEventListener(up,by),removeEventListener(cp,by),u9()};class wge{constructor(e){this.id="sounds",this._engine=e;const n={capture:!0,once:!0};addEventListener(up,by,n),addEventListener(cp,by,n)}getPlugin(e){return Promise.resolve(new vge(e,this._engine))}loadOptions(e,n){if(!this.needsPlugin(e)&&!this.needsPlugin(n))return;let r=e.sounds;(r==null?void 0:r.load)===void 0&&(e.sounds=r=new pge),r.load(n==null?void 0:n.sounds)}needsPlugin(e){var n;return((n=e==null?void 0:e.sounds)==null?void 0:n.enable)??!1}}async function _ge(t,e=!0){t.checkVersion("3.8.1"),await t.addPlugin(new wge(t),e)}function bge(t){const{context:e,particle:n,radius:r}=t;if(n.spiralInnerRadius===void 0||n.spiralLineSpacing===void 0||n.spiralWidthFactor===void 0)return;const i=(r-n.spiralInnerRadius)/n.spiralLineSpacing,s=10;for(let o=0;o<i*s;o++){const a=o/s,l=n.spiralInnerRadius+n.spiralLineSpacing*a,u={x:l*Math.cos(a),y:l*Math.sin(a)};e.lineTo(u.x,u.y)}}const xge=1,Ege=1,Sge=10;class Age{constructor(){this.validTypes=["spiral"]}draw(e){bge(e)}particleInit(e,n){const r=e.retina.pixelRatio,i=n.shapeData;n.spiralInnerRadius=re((i==null?void 0:i.innerRadius)??xge)*r,n.spiralLineSpacing=re((i==null?void 0:i.lineSpacing)??Ege)*r,n.spiralWidthFactor=re((i==null?void 0:i.widthFactor)??Sge)}}async function Pge(t,e=!0){t.checkVersion("3.8.1"),await t.addShape(new Age,e)}const Tge=2,wk=1,Cge=-1,Ige=10,_k={a:1,b:0,c:0,d:1};class Rge{draw(e){const{context:n,radius:r,particle:i,transformData:s}=e,o=r*sr,a=i.container.retina.pixelRatio,l=i.getPosition(),u=i.trail;if(!u||!i.trailLength)return;const c=i.trailLength+r;if(u.push({color:n.fillStyle??n.strokeStyle,position:{x:l.x,y:l.y},transformData:{...e.transformData}}),u.length<Tge)return;for(;u.length>c;)u.shift();const h=Math.min(u.length,c),f={width:i.container.canvas.size.width+o,height:i.container.canvas.size.height+o};let p=u[h-wk].position;for(let m=h;m>hp;m--){const w=u[m-wk],x=w.position,v=i.trailTransform?w.transformData??_k:_k;n.setTransform(v.a,v.b,v.c,v.d,x.x,x.y),n.beginPath(),n.moveTo(p.x-x.x,p.y-x.y);const S={x:(p.x+f.width)%f.width,y:(p.y+f.height)%f.height};if(Math.abs(p.x-x.x)>f.width*tt||Math.abs(p.y-x.y)>f.height*tt){p=x;continue}n.lineTo(Math.abs(p.x-x.x)>f.width*tt?S.x:Fn.x,Math.abs(p.y-x.y)>f.height*tt?S.y:Fn.y);const A=Math.max(m/h*o,a,i.trailMinWidth??Cge),M=n.globalAlpha;n.globalAlpha=i.trailFade?m/h:sre,n.lineWidth=i.trailMaxWidth?Math.min(A,i.trailMaxWidth):A,n.strokeStyle=w.color,n.stroke(),n.globalAlpha=M,p=x}n.setTransform(s.a,s.b,s.c,s.d,l.x,l.y)}particleInit(e,n){n.trail=[];const r=n.effectData;n.trailFade=(r==null?void 0:r.fade)??!0,n.trailLength=re((r==null?void 0:r.length)??Ige)*e.retina.pixelRatio,n.trailMaxWidth=r!=null&&r.maxWidth?re(r.maxWidth)*e.retina.pixelRatio:void 0,n.trailMinWidth=r!=null&&r.minWidth?re(r.minWidth)*e.retina.pixelRatio:void 0,n.trailTransform=(r==null?void 0:r.transform)??!1}}async function kge(t,e=!0){t.checkVersion("3.8.1"),await t.addEffect("trail",new Rge,e)}const Mge=.5,Oge=.5,bk=Math.PI*Oge;class Nge{constructor(){this.options={waveHeight:{min:0,max:3},waveLength:{min:0,max:5}}}generate(e,n){e.zigzag===void 0&&(e.zigzag={counter:Pe(),waveHeight:re(this.options.waveHeight),waveLength:re(this.options.waveLength)});const r=Mge/e.zigzag.waveLength*n.factor;e.zigzag.counter+=r;const i=e.zigzag.waveHeight*Math.sin(e.zigzag.counter);return e.position.x+=i*Math.cos(e.velocity.angle+bk),e.position.y+=i*Math.sin(e.velocity.angle+bk),at.origin}init(e){const n=e.actualOptions.particles.move.path.options;this.options.waveLength=n.waveLength??this.options.waveLength,this.options.waveHeight=n.waveHeight??this.options.waveHeight}reset(){}update(){}}const Dge="zigZagPathGenerator";async function Lge(t,e=!0){t.checkVersion("3.8.1"),await t.addPathGenerator(Dge,new Nge,e)}async function Vge(t,e=!0){t.checkVersion("3.8.1"),Mse(t),await Rde(t,!1),await Qde(t,!1),await Ope(t,!1),await Fpe(t,!1),await Loe(t,!1),await Voe(t,!1),await Foe(t,!1),await Boe(t,!1),await zoe(t,!1),await joe(t,!1),await Uoe(t,!1),await $oe(t,!1),await pae(t,!1),await _ae(t,!1),await kae(t,!1),await loe(t,!1),await ope(t,!1),await Rpe(t,!1),await Lme(t,!1),await _ge(t,!1),await Nae(t,!1),await Fae(t,!1),await Gae(t,!1),await Wae(t,!1),await Yae(t,!1),await Epe(t,!1),await ime(t,!1),await jde(t,!1),await Xpe(t,!1),await Doe(t,!1),await Ioe(t,!1),await dme(t,!1),await wme(t,!1),await Bme(t,!1),await age(t,!1),await Lge(t,!1),await cge(t,!1),await Hse(t,!1),await Use(t,!1),await doe(t,!1),await Eoe(t,!1),await qde(t,!1),await cpe(t,!1),await ame(t,!1),await Wme(t,!1),await Zme(t,!1),await Pge(t,!1),await kge(t,!1),await t.refresh(e)}const h9=C.createContext({});function Lv(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const e2=typeof window<"u",t2=e2?C.useLayoutEffect:C.useEffect,n2=C.createContext(null);function r2(t,e){t.indexOf(e)===-1&&t.push(e)}function i2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fo=(t,e,n)=>n>e?e:n<t?t:n;let Fge=()=>{},s2=()=>{};const xa={},f9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function d9(t){return typeof t=="object"&&t!==null}const p9=t=>/^0[^.\s]+$/u.test(t);function o2(t){let e;return()=>(e===void 0&&(e=t()),e)}const gi=t=>t,Bge=(t,e)=>n=>e(t(n)),Qp=(...t)=>t.reduce(Bge),Oh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class a2{constructor(){this.subscriptions=[]}add(e){return r2(this.subscriptions,e),()=>i2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Po=t=>t*1e3,To=t=>t/1e3;function l2(t,e){return e?t*(1e3/e):0}const m9=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zge=1e-7,jge=12;function Uge(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=m9(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>zge&&++a<jge);return o}function Yp(t,e,n,r){if(t===e&&n===r)return gi;const i=s=>Uge(s,0,1,t,n);return s=>s===0||s===1?s:m9(i(s),e,r)}const g9=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,y9=t=>e=>1-t(1-e),v9=Yp(.33,1.53,.69,.99),u2=y9(v9),w9=g9(u2),_9=t=>(t*=2)<1?.5*u2(t):.5*(2-Math.pow(2,-10*(t-1))),c2=t=>1-Math.sin(Math.acos(t)),b9=y9(c2),x9=g9(c2),$ge=Yp(.42,0,1,1),Gge=Yp(0,0,.58,1),E9=Yp(.42,0,.58,1),Hge=t=>Array.isArray(t)&&typeof t[0]!="number",S9=t=>Array.isArray(t)&&typeof t[0]=="number",qge={linear:gi,easeIn:$ge,easeInOut:E9,easeOut:Gge,circIn:c2,circInOut:x9,circOut:b9,backIn:u2,backInOut:w9,backOut:v9,anticipate:_9},Wge=t=>typeof t=="string",xk=t=>{if(S9(t)){s2(t.length===4);const[e,n,r,i]=t;return Yp(e,n,r,i)}else if(Wge(t))return qge[t];return t},cg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ek={value:null,addProjectionMetrics:null};function Kge(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(h){o.has(h)&&(c.schedule(h),t()),l++,h(a)}const c={schedule:(h,f=!1,p=!1)=>{const w=p&&i?n:r;return f&&o.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&Ek.value&&Ek.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const Qge=40;function A9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=cg.reduce((A,M)=>(A[M]=Kge(s,e?M:void 0),A),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:f,render:p,postRender:m}=o,w=()=>{const A=xa.useManualTiming?i.timestamp:performance.now();n=!1,xa.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,Qge),1)),i.timestamp=A,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},x=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:cg.reduce((A,M)=>{const U=o[M];return A[M]=(N,D=!1,R=!1)=>(n||x(),U.schedule(N,D,R)),A},{}),cancel:A=>{for(let M=0;M<cg.length;M++)o[cg[M]].cancel(A)},state:i,steps:o}}const{schedule:Yt,cancel:Ks,state:er,steps:Aw}=A9(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0);let Kg;function Yge(){Kg=void 0}const fi={now:()=>(Kg===void 0&&fi.set(er.isProcessing||xa.useManualTiming?er.timestamp:performance.now()),Kg),set:t=>{Kg=t,queueMicrotask(Yge)}},P9=t=>e=>typeof e=="string"&&e.startsWith(t),h2=P9("--"),Xge=P9("var(--"),f2=t=>Xge(t)?Jge.test(t.split("/*")[0].trim()):!1,Jge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dp={...tf,transform:t=>Fo(0,1,t)},hg={...tf,default:1},yd=t=>Math.round(t*1e5)/1e5,d2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zge(t){return t==null}const e0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,p2=(t,e)=>n=>!!(typeof n=="string"&&e0e.test(n)&&n.startsWith(t)||e&&!Zge(n)&&Object.prototype.hasOwnProperty.call(n,e)),T9=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(d2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},t0e=t=>Fo(0,255,t),Pw={...tf,transform:t=>Math.round(t0e(t))},vu={test:p2("rgb","red"),parse:T9("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Pw.transform(t)+", "+Pw.transform(e)+", "+Pw.transform(n)+", "+yd(dp.transform(r))+")"};function n0e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qb={test:p2("#"),parse:n0e,transform:vu.transform},Xp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),La=Xp("deg"),Co=Xp("%"),He=Xp("px"),r0e=Xp("vh"),i0e=Xp("vw"),Sk=(()=>({...Co,parse:t=>Co.parse(t)/100,transform:t=>Co.transform(t*100)}))(),Dc={test:p2("hsl","hue"),parse:T9("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Co.transform(yd(e))+", "+Co.transform(yd(n))+", "+yd(dp.transform(r))+")"},Vn={test:t=>vu.test(t)||qb.test(t)||Dc.test(t),parse:t=>vu.test(t)?vu.parse(t):Dc.test(t)?Dc.parse(t):qb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vu.transform(t):Dc.transform(t),getAnimatableNone:t=>{const e=Vn.parse(t);return e.alpha=0,Vn.transform(e)}},s0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o0e(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(d2))==null?void 0:e.length)||0)+(((n=t.match(s0e))==null?void 0:n.length)||0)>0}const C9="number",I9="color",a0e="var",l0e="var(",Ak="${}",u0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(u0e,l=>(Vn.test(l)?(r.color.push(s),i.push(I9),n.push(Vn.parse(l))):l.startsWith(l0e)?(r.var.push(s),i.push(a0e),n.push(l)):(r.number.push(s),i.push(C9),n.push(parseFloat(l))),++s,Ak)).split(Ak);return{values:n,split:a,indexes:r,types:i}}function R9(t){return pp(t).values}function k9(t){const{split:e,types:n}=pp(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===C9?s+=yd(i[o]):a===I9?s+=Vn.transform(i[o]):s+=i[o]}return s}}const c0e=t=>typeof t=="number"?0:Vn.test(t)?Vn.getAnimatableNone(t):t;function h0e(t){const e=R9(t);return k9(t)(e.map(c0e))}const kl={test:o0e,parse:R9,createTransformer:k9,getAnimatableNone:h0e};function Tw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f0e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Tw(l,a,t+1/3),s=Tw(l,a,t),o=Tw(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function xy(t,e){return n=>n>0?e:t}const dn=(t,e,n)=>t+(e-t)*n,Cw=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},d0e=[qb,vu,Dc],p0e=t=>d0e.find(e=>e.test(t));function Pk(t){const e=p0e(t);if(!e)return!1;let n=e.parse(t);return e===Dc&&(n=f0e(n)),n}const Tk=(t,e)=>{const n=Pk(t),r=Pk(e);if(!n||!r)return xy(t,e);const i={...n};return s=>(i.red=Cw(n.red,r.red,s),i.green=Cw(n.green,r.green,s),i.blue=Cw(n.blue,r.blue,s),i.alpha=dn(n.alpha,r.alpha,s),vu.transform(i))},Wb=new Set(["none","hidden"]);function m0e(t,e){return Wb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function g0e(t,e){return n=>dn(t,e,n)}function m2(t){return typeof t=="number"?g0e:typeof t=="string"?f2(t)?xy:Vn.test(t)?Tk:w0e:Array.isArray(t)?M9:typeof t=="object"?Vn.test(t)?Tk:y0e:xy}function M9(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>m2(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function y0e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=m2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function v0e(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const w0e=(t,e)=>{const n=kl.createTransformer(e),r=pp(t),i=pp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Wb.has(t)&&!i.values.length||Wb.has(e)&&!r.values.length?m0e(t,e):Qp(M9(v0e(r,i),i.values),n):xy(t,e)};function O9(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dn(t,e,n):m2(t)(t,e)}const _0e=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Yt.update(e,n),stop:()=>Ks(e),now:()=>er.isProcessing?er.timestamp:fi.now()}},N9=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ey=2e4;function g2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ey;)e+=n,r=t.next(e);return e>=Ey?1/0:e}function b0e(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(g2(r),Ey);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:To(i)}}const x0e=5;function D9(t,e,n){const r=Math.max(e-x0e,0);return l2(n-t(r),e-r)}const xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Iw=.001;function E0e({duration:t=xn.duration,bounce:e=xn.bounce,velocity:n=xn.velocity,mass:r=xn.mass}){let i,s,o=1-e;o=Fo(xn.minDamping,xn.maxDamping,o),t=Fo(xn.minDuration,xn.maxDuration,To(t)),o<1?(i=u=>{const c=u*o,h=c*t,f=c-n,p=Kb(u,o),m=Math.exp(-h);return Iw-f/p*m},s=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-h),w=Kb(Math.pow(u,2),o);return(-i(u)+Iw>0?-1:1)*((f-p)*m)/w}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-Iw+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=A0e(i,s,a);if(t=Po(t),isNaN(l))return{stiffness:xn.stiffness,damping:xn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const S0e=12;function A0e(t,e,n){let r=n;for(let i=1;i<S0e;i++)r=r-t(r)/e(r);return r}function Kb(t,e){return t*Math.sqrt(1-e*e)}const P0e=["duration","bounce"],T0e=["stiffness","damping","mass"];function Ck(t,e){return e.some(n=>t[n]!==void 0)}function C0e(t){let e={velocity:xn.velocity,stiffness:xn.stiffness,damping:xn.damping,mass:xn.mass,isResolvedFromDuration:!1,...t};if(!Ck(t,T0e)&&Ck(t,P0e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:xn.mass,stiffness:i,damping:s}}else{const n=E0e(t);e={...e,...n,mass:xn.mass},e.isResolvedFromDuration=!0}return e}function Sy(t=xn.visualDuration,e=xn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:f,isResolvedFromDuration:p}=C0e({...n,velocity:-To(n.velocity||0)}),m=f||0,w=u/(2*Math.sqrt(l*c)),x=o-s,v=To(Math.sqrt(l/c)),S=Math.abs(x)<5;r||(r=S?xn.restSpeed.granular:xn.restSpeed.default),i||(i=S?xn.restDelta.granular:xn.restDelta.default);let A;if(w<1){const U=Kb(v,w);A=N=>{const D=Math.exp(-w*v*N);return o-D*((m+w*v*x)/U*Math.sin(U*N)+x*Math.cos(U*N))}}else if(w===1)A=U=>o-Math.exp(-v*U)*(x+(m+v*x)*U);else{const U=v*Math.sqrt(w*w-1);A=N=>{const D=Math.exp(-w*v*N),R=Math.min(U*N,300);return o-D*((m+w*v*x)*Math.sinh(R)+U*x*Math.cosh(R))/U}}const M={calculatedDuration:p&&h||null,next:U=>{const N=A(U);if(p)a.done=U>=h;else{let D=U===0?m:0;w<1&&(D=U===0?Po(m):D9(A,U,N));const R=Math.abs(D)<=r,L=Math.abs(o-N)<=i;a.done=R&&L}return a.value=a.done?o:N,a},toString:()=>{const U=Math.min(g2(M),Ey),N=N9(D=>M.next(U*D).value,U,30);return U+"ms "+N},toTransition:()=>{}};return M}Sy.applyToOptions=t=>{const e=b0e(t,100,Sy);return t.ease=e.ease,t.duration=Po(e.duration),t.type="keyframes",t};function Qb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},p=R=>a!==void 0&&R<a||l!==void 0&&R>l,m=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let w=n*e;const x=h+w,v=o===void 0?x:o(x);v!==x&&(w=v-h);const S=R=>-w*Math.exp(-R/r),A=R=>v+S(R),M=R=>{const L=S(R),z=A(R);f.done=Math.abs(L)<=u,f.value=f.done?v:z};let U,N;const D=R=>{p(f.value)&&(U=R,N=Sy({keyframes:[f.value,m(f.value)],velocity:D9(A,R,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return D(0),{calculatedDuration:null,next:R=>{let L=!1;return!N&&U===void 0&&(L=!0,M(R),D(R)),U!==void 0&&R>=U?N.next(R-U):(!L&&M(R),f)}}}function I0e(t,e,n){const r=[],i=n||xa.mix||O9,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||gi:e;a=Qp(l,a)}r.push(a)}return r}function y2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(s2(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=I0e(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=Oh(t[h],t[h+1],c);return a[h](f)};return n?c=>u(Fo(t[0],t[s-1],c)):u}function R0e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Oh(0,e,r);t.push(dn(n,1,i))}}function L9(t){const e=[0];return R0e(e,t.length-1),e}function k0e(t,e){return t.map(n=>n*e)}function M0e(t,e){return t.map(()=>e||E9).splice(0,t.length-1)}function vd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Hge(r)?r.map(xk):xk(r),s={done:!1,value:e[0]},o=k0e(n&&n.length===e.length?n:L9(e),t),a=y2(o,e,{ease:Array.isArray(i)?i:M0e(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const O0e=t=>t!==null;function v2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(O0e),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const N0e={decay:Qb,inertia:Qb,tween:vd,keyframes:vd,spring:Sy};function V9(t){typeof t.type=="string"&&(t.type=N0e[t.type])}class w2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const D0e=t=>t/100;class _2 extends w2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==fi.now()&&this.tick(fi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;V9(e);const{type:n=vd,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||vd;l!==vd&&typeof a[0]!="number"&&(this.mixKeyframes=Qp(D0e,O9(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=g2(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:f,repeatDelay:p,type:m,onUpdate:w,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,M=r;if(h){const R=Math.min(this.currentTime,i)/a;let L=Math.floor(R),z=R%1;!z&&R>=1&&(z=1),z===1&&L--,L=Math.min(L,h+1),!!(L%2)&&(f==="reverse"?(z=1-z,p&&(z-=p/a)):f==="mirror"&&(M=o)),A=Fo(0,1,z)*a}const U=S?{done:!1,value:c[0]}:M.next(A);s&&(U.value=s(U.value));let{done:N}=U;!S&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return D&&m!==Qb&&(U.value=v2(c,this.options,x,this.speed)),w&&w(U.value),D&&this.finish(),U}then(e,n){return this.finished.then(e,n)}get duration(){return To(this.calculatedDuration)}get time(){return To(this.currentTime)}set time(e){var n;e=Po(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=To(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=_0e,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function L0e(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const wu=t=>t*180/Math.PI,Yb=t=>{const e=wu(Math.atan2(t[1],t[0]));return Xb(e)},V0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yb,rotateZ:Yb,skewX:t=>wu(Math.atan(t[1])),skewY:t=>wu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xb=t=>(t=t%360,t<0&&(t+=360),t),Ik=Yb,Rk=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),kk=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),F0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Rk,scaleY:kk,scale:t=>(Rk(t)+kk(t))/2,rotateX:t=>Xb(wu(Math.atan2(t[6],t[5]))),rotateY:t=>Xb(wu(Math.atan2(-t[2],t[0]))),rotateZ:Ik,rotate:Ik,skewX:t=>wu(Math.atan(t[4])),skewY:t=>wu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Jb(t){return t.includes("scale")?1:0}function Zb(t,e){if(!t||t==="none")return Jb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=F0e,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=V0e,i=a}if(!i)return Jb(e);const s=r[e],o=i[1].split(",").map(z0e);return typeof s=="function"?s(o):o[s]}const B0e=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Zb(n,e)};function z0e(t){return parseFloat(t.trim())}const nf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rf=(()=>new Set(nf))(),Mk=t=>t===tf||t===He,j0e=new Set(["x","y","z"]),U0e=nf.filter(t=>!j0e.has(t));function $0e(t){const e=[];return U0e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const xu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Zb(e,"x"),y:(t,{transform:e})=>Zb(e,"y")};xu.translateX=xu.x;xu.translateY=xu.y;const Eu=new Set;let ex=!1,tx=!1,nx=!1;function F9(){if(tx){const t=Array.from(Eu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$0e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tx=!1,ex=!1,Eu.forEach(t=>t.complete(nx)),Eu.clear()}function B9(){Eu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tx=!0)})}function G0e(){nx=!0,B9(),F9(),nx=!1}class b2{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Eu.add(this),ex||(ex=!0,Yt.read(B9),Yt.resolveKeyframes(F9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}L0e(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Eu.delete(this)}cancel(){this.state==="scheduled"&&(Eu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const H0e=t=>t.startsWith("--");function q0e(t,e,n){H0e(e)?t.style.setProperty(e,n):t.style[e]=n}const z9=o2(()=>window.ScrollTimeline!==void 0),W0e={};function K0e(t,e){const n=o2(t);return()=>W0e[e]??n()}const j9=K0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ok={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yf([0,.65,.55,1]),circOut:Yf([.55,0,1,.45]),backIn:Yf([.31,.01,.66,-.59]),backOut:Yf([.33,1.53,.69,.99])};function U9(t,e){if(t)return typeof t=="function"?j9()?N9(t,e):"ease-out":S9(t)?Yf(t):Array.isArray(t)?t.map(n=>U9(n,e)||Ok.easeOut):Ok[t]}function Q0e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const h=U9(a,i);Array.isArray(h)&&(c.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function $9(t){return typeof t=="function"&&"applyToOptions"in t}function Y0e({type:t,...e}){return $9(t)&&j9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class X0e extends w2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,s2(typeof e.type!="string");const u=Y0e(e);this.animation=Q0e(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=v2(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):q0e(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return To(Number(e))}get time(){return To(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Po(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&z9()?(this.animation.timeline=e,gi):n(this)}}const G9={anticipate:_9,backInOut:w9,circInOut:x9};function J0e(t){return t in G9}function Z0e(t){typeof t.ease=="string"&&J0e(t.ease)&&(t.ease=G9[t.ease])}const Nk=10;class eye extends X0e{constructor(e){Z0e(e),V9(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new _2({...o,autoplay:!1}),l=Po(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Nk).value,a.sample(l).value,Nk),a.stop()}}const Dk=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(kl.test(t)||t==="0")&&!t.startsWith("url("));function tye(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nye(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Dk(i,e),a=Dk(s,e);return!o||!a?!1:tye(t)||(n==="spring"||$9(n))&&r}function x2(t){return d9(t)&&"offsetHeight"in t}const rye=new Set(["opacity","clipPath","filter","transform"]),iye=o2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sye(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!x2((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return iye()&&n&&rye.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const oye=40;class aye extends w2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){var m;super(),this.stop=()=>{var w,x;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=fi.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...h},p=(c==null?void 0:c.KeyframeResolver)||b2;this.keyframeResolver=new p(a,(w,x,v)=>this.onKeyframesResolved(w,x,f,!v),l,u,c),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=fi.now(),nye(e,s,o,a)||((xa.instantAnimations||!l)&&(c==null||c(v2(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>oye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&sye(f)?new eye({...f,element:f.motionValue.owner.current}):new _2(f);p.finished.then(()=>this.notifyFinished()).catch(gi),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),G0e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const lye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uye(t){const e=lye.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function H9(t,e,n=1){const[r,i]=uye(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return f9(o)?parseFloat(o):o}return f2(i)?H9(i,e,n+1):i}function E2(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const q9=new Set(["width","height","top","left","right","bottom",...nf]),cye={test:t=>t==="auto",parse:t=>t},W9=t=>e=>e.test(t),K9=[tf,He,Co,La,i0e,r0e,cye],Lk=t=>K9.find(W9(t));function hye(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p9(t):!0}const fye=new Set(["brightness","contrast","saturate","opacity"]);function dye(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(d2)||[];if(!r)return t;const i=n.replace(r,"");let s=fye.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const pye=/\b([a-z-]*)\(.*?\)/gu,rx={...kl,getAnimatableNone:t=>{const e=t.match(pye);return e?e.map(dye).join(" "):t}},Vk={...tf,transform:Math.round},mye={rotate:La,rotateX:La,rotateY:La,rotateZ:La,scale:hg,scaleX:hg,scaleY:hg,scaleZ:hg,skew:La,skewX:La,skewY:La,distance:He,translateX:He,translateY:He,translateZ:He,x:He,y:He,z:He,perspective:He,transformPerspective:He,opacity:dp,originX:Sk,originY:Sk,originZ:He},S2={borderWidth:He,borderTopWidth:He,borderRightWidth:He,borderBottomWidth:He,borderLeftWidth:He,borderRadius:He,radius:He,borderTopLeftRadius:He,borderTopRightRadius:He,borderBottomRightRadius:He,borderBottomLeftRadius:He,width:He,maxWidth:He,height:He,maxHeight:He,top:He,right:He,bottom:He,left:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,backgroundPositionX:He,backgroundPositionY:He,...mye,zIndex:Vk,fillOpacity:dp,strokeOpacity:dp,numOctaves:Vk},gye={...S2,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:rx,WebkitFilter:rx},Q9=t=>gye[t];function Y9(t,e){let n=Q9(t);return n!==rx&&(n=kl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yye=new Set(["auto","none","0"]);function vye(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!yye.has(s)&&pp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Y9(n,i)}class wye extends b2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),f2(u))){const c=H9(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!q9.has(r)||e.length!==2)return;const[i,s]=e,o=Lk(i),a=Lk(s);if(o!==a)if(Mk(o)&&Mk(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else xu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||hye(e[i]))&&r.push(i);r.length&&vye(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=xu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function X9(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const J9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fk=30,_ye=t=>!isNaN(parseFloat(t)),wd={current:void 0};class bye{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=fi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_ye(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new a2);const r=this.events[e].add(n);return e==="change"?()=>{r(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return wd.current&&wd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Fk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Fk);return l2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ns(t,e){return new bye(t,e)}const{schedule:A2,cancel:T_e}=A9(queueMicrotask,!1),xs={x:!1,y:!1};function Z9(){return xs.x||xs.y}function xye(t){return t==="x"||t==="y"?xs[t]?null:(xs[t]=!0,()=>{xs[t]=!1}):xs.x||xs.y?null:(xs.x=xs.y=!0,()=>{xs.x=xs.y=!1})}function e8(t,e){const n=X9(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Bk(t){return!(t.pointerType==="touch"||Z9())}function Eye(t,e,n={}){const[r,i,s]=e8(t,n),o=a=>{if(!Bk(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=h=>{Bk(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const t8=(t,e)=>e?t===e?!0:t8(t,e.parentElement):!1,P2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Sye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aye(t){return Sye.has(t.tagName)||t.tabIndex!==-1}const Qg=new WeakSet;function zk(t){return e=>{e.key==="Enter"&&t(e)}}function Rw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Pye=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=zk(()=>{if(Qg.has(n))return;Rw(n,"down");const i=zk(()=>{Rw(n,"up")}),s=()=>Rw(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function jk(t){return P2(t)&&!Z9()}function Tye(t,e,n={}){const[r,i,s]=e8(t,n),o=a=>{const l=a.currentTarget;if(!jk(a))return;Qg.add(l);const u=e(l,a),c=(p,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Qg.has(l)&&Qg.delete(l),jk(p)&&typeof u=="function"&&u(p,{success:m})},h=p=>{c(p,l===window||l===document||n.useGlobalTarget||t8(l,p.target))},f=p=>{c(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),x2(a)&&(a.addEventListener("focus",u=>Pye(u,i)),!Aye(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function T2(t){return d9(t)&&"ownerSVGElement"in t}const Yg=new WeakMap;let Va;const n8=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:T2(r)&&"getBBox"in r?r.getBBox()[e]:r[n],Cye=n8("inline","width","offsetWidth"),Iye=n8("block","height","offsetHeight");function Rye({target:t,borderBoxSize:e}){var n;(n=Yg.get(t))==null||n.forEach(r=>{r(t,{get width(){return Cye(t,e)},get height(){return Iye(t,e)}})})}function kye(t){t.forEach(Rye)}function Mye(){typeof ResizeObserver>"u"||(Va=new ResizeObserver(kye))}function Oye(t,e){Va||Mye();const n=X9(t);return n.forEach(r=>{let i=Yg.get(r);i||(i=new Set,Yg.set(r,i)),i.add(e),Va==null||Va.observe(r)}),()=>{n.forEach(r=>{const i=Yg.get(r);i==null||i.delete(e),i!=null&&i.size||Va==null||Va.unobserve(r)})}}const Xg=new Set;let Lc;function Nye(){Lc=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Xg.forEach(e=>e(t))},window.addEventListener("resize",Lc)}function Dye(t){return Xg.add(t),Lc||Nye(),()=>{Xg.delete(t),!Xg.size&&typeof Lc=="function"&&(window.removeEventListener("resize",Lc),Lc=void 0)}}function Lye(t,e){return typeof t=="function"?Dye(t):Oye(t,e)}function r8(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Yt.preUpdate(r,!0),()=>Ks(r)}function Vye(t){return T2(t)&&t.tagName==="svg"}function Fye(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],a=y2(i,s,o);return e?a(r):a}const Br=t=>!!(t&&t.getVelocity),Bye=[...K9,Vn,kl],zye=t=>Bye.find(W9(t)),C2=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jye(t=!0){const e=C.useContext(n2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const o=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const i8=C.createContext({strict:!1}),Uk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nh={};for(const t in Uk)Nh[t]={isEnabled:e=>Uk[t].some(n=>!!e[n])};function Uye(t){for(const e in t)Nh[e]={...Nh[e],...t[e]}}const $ye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ay(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$ye.has(t)}let s8=t=>!Ay(t);function Gye(t){typeof t=="function"&&(s8=e=>e.startsWith("on")?!Ay(e):t(e))}try{Gye(require("@emotion/is-prop-valid").default)}catch{}function Hye(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(s8(i)||n===!0&&Ay(i)||!e&&!Ay(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function qye(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Vv=C.createContext({});function Fv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mp(t){return typeof t=="string"||Array.isArray(t)}const I2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R2=["initial",...I2];function Bv(t){return Fv(t.animate)||R2.some(e=>mp(t[e]))}function o8(t){return!!(Bv(t)||t.variants)}function Wye(t,e){if(Bv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mp(n)?n:void 0,animate:mp(r)?r:void 0}}return t.inherit!==!1?e:{}}function Kye(t){const{initial:e,animate:n}=Wye(t,C.useContext(Vv));return C.useMemo(()=>({initial:e,animate:n}),[$k(e),$k(n)])}function $k(t){return Array.isArray(t)?t.join(" "):t}const Qye=Symbol.for("motionComponentSymbol");function Vc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Yye(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Vc(n)&&(n.current=r))},[e])}const k2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xye="framerAppearId",a8="data-"+k2(Xye),l8=C.createContext({});function Jye(t,e,n,r,i){var w,x;const{visualElement:s}=C.useContext(Vv),o=C.useContext(i8),a=C.useContext(n2),l=C.useContext(C2).reducedMotion,u=C.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=C.useContext(l8);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&Zye(u.current,n,i,h);const f=C.useRef(!1);C.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const p=n[a8],m=C.useRef(!!p&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,p))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,p)));return t2(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),A2.render(c.render),m.current&&c.animationState&&c.animationState.animateChanges())}),C.useEffect(()=>{c&&(!m.current&&c.animationState&&c.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),m.current=!1))}),c}function Zye(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:u8(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Vc(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function u8(t){if(t)return t.options.allowProjection!==!1?t.projection:u8(t.parent)}function eve({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Uye(t);function s(a,l){let u;const c={...C.useContext(C2),...a,layoutId:tve(a)},{isStatic:h}=c,f=Kye(a),p=r(a,h);if(!h&&e2){nve();const m=rve(c);u=m.MeasureLayout,f.visualElement=Jye(i,p,c,e,m.ProjectionNode)}return b.jsxs(Vv.Provider,{value:f,children:[u&&f.visualElement?b.jsx(u,{visualElement:f.visualElement,...c}):null,n(i,a,Yye(p,f.visualElement,l),p,h,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=C.forwardRef(s);return o[Qye]=i,o}function tve({layoutId:t}){const e=C.useContext(h9).id;return e&&t!==void 0?e+"-"+t:t}function nve(t,e){C.useContext(i8).strict}function rve(t){const{drag:e,layout:n}=Nh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gp={};function ive(t){for(const e in t)gp[e]=t[e],h2(e)&&(gp[e].isCSSVariable=!0)}function c8(t,{layout:e,layoutId:n}){return rf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gp[t]||t==="opacity")}const sve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ove=nf.length;function ave(t,e,n){let r="",i=!0;for(let s=0;s<ove;s++){const o=nf[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=J9(a,S2[o]);if(!l){i=!1;const c=sve[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function M2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(rf.has(l)){o=!0;continue}else if(h2(l)){i[l]=u;continue}else{const c=J9(u,S2[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=ave(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const O2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function h8(t,e,n){for(const r in e)!Br(e[r])&&!c8(r,n)&&(t[r]=e[r])}function lve({transformTemplate:t},e){return C.useMemo(()=>{const n=O2();return M2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uve(t,e){const n=t.style||{},r={};return h8(r,n,t),Object.assign(r,lve(t,e)),r}function cve(t,e){const n={},r=uve(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const hve={offset:"stroke-dashoffset",array:"stroke-dasharray"},fve={offset:"strokeDashoffset",array:"strokeDasharray"};function dve(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?hve:fve;t[s.offset]=He.transform(-r);const o=He.transform(e),a=He.transform(n);t[s.array]=`${o} ${a}`}function f8(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(M2(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&dve(h,i,s,o,!1)}const d8=()=>({...O2(),attrs:{}}),p8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pve(t,e,n,r){const i=C.useMemo(()=>{const s=d8();return f8(s,e,p8(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};h8(s,t.style,t),i.style={...s,...i.style}}return i}const mve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function N2(t){return typeof t!="string"||t.includes("-")?!1:!!(mve.indexOf(t)>-1||/[A-Z]/u.test(t))}function gve(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(N2(n)?pve:cve)(r,s,o,n),u=Hye(r,typeof n=="string",t),c=n!==C.Fragment?{...u,...l,ref:i}:{},{children:h}=r,f=C.useMemo(()=>Br(h)?h.get():h,[h]);return C.createElement(n,{...c,children:f})}}function Gk(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function D2(t,e,n,r){if(typeof e=="function"){const[i,s]=Gk(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Gk(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Jg(t){return Br(t)?t.get():t}function yve({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:vve(n,r,i,t),renderState:e()}}const m8=t=>(e,n)=>{const r=C.useContext(Vv),i=C.useContext(n2),s=()=>yve(t,e,r,i);return n?s():Lv(s)};function vve(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Jg(s[f]);let{initial:o,animate:a}=t;const l=Bv(t),u=o8(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!Fv(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const m=D2(t,f[p]);if(m){const{transitionEnd:w,transition:x,...v}=m;for(const S in v){let A=v[S];if(Array.isArray(A)){const M=c?A.length-1:0;A=A[M]}A!==null&&(i[S]=A)}for(const S in w)i[S]=w[S]}}}return i}function L2(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Br(r[o])||e.style&&Br(e.style[o])||c8(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const wve={useVisualState:m8({scrapeMotionValuesFromProps:L2,createRenderState:O2})};function g8(t,e,n){const r=L2(t,e,n);for(const i in t)if(Br(t[i])||Br(e[i])){const s=nf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const _ve={useVisualState:m8({scrapeMotionValuesFromProps:g8,createRenderState:d8})};function bve(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...N2(r)?_ve:wve,preloadedFeatures:t,useRender:gve(i),createVisualElement:e,Component:r};return eve(o)}}function yp(t,e,n){const r=t.getProps();return D2(r,e,n!==void 0?n:r.custom,t)}const ix=t=>Array.isArray(t);function xve(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ns(n))}function Eve(t){return ix(t)?t[t.length-1]||0:t}function Sve(t,e){const n=yp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Eve(s[o]);xve(t,o,a)}}function Ave(t){return!!(Br(t)&&t.add)}function sx(t,e){const n=t.getValue("willChange");if(Ave(n))return n.add(e);if(!n&&xa.WillChange){const r=new xa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function y8(t){return t.props[a8]}const Pve=t=>t!==null;function Tve(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Pve),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Cve={type:"spring",stiffness:500,damping:25,restSpeed:10},Ive=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Rve={type:"keyframes",duration:.8},kve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mve=(t,{keyframes:e})=>e.length>2?Rve:rf.has(t)?t.startsWith("scale")?Ive(e[1]):Cve:kve;function Ove({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const V2=(t,e,n,r={},i,s)=>o=>{const a=E2(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Po(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Ove(a)||Object.assign(c,Mve(t,c)),c.duration&&(c.duration=Po(c.duration)),c.repeatDelay&&(c.repeatDelay=Po(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),(xa.instantAnimations||xa.skipAnimations)&&(h=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const f=Tve(c.keyframes,a);if(f!==void 0){Yt.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new _2(c):new aye(c)};function Nve({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function v8(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const h=t.getValue(c,t.latestValues[c]??null),f=a[c];if(f===void 0||u&&Nve(u,c))continue;const p={delay:n,...E2(s||{},c)},m=h.get();if(m!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===m&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const v=y8(t);if(v){const S=window.MotionHandoffAnimation(v,c,Yt);S!==null&&(p.startTime=S,w=!0)}}sx(t,c),h.start(V2(c,h,f,t.shouldReduceMotion&&q9.has(c)?{type:!1}:p,t,w));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{Yt.update(()=>{o&&Sve(t,o)})}),l}function ox(t,e,n={}){var l;const r=yp(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(v8(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=i;return Dve(t,e,c+u,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function Dve(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Lve).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(ox(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Lve(t,e){return t.sortNodePosition(e)}function Vve(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ox(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ox(t,e,n);else{const i=typeof e=="function"?yp(t,e,n.custom):e;r=Promise.all(v8(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function w8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Fve=R2.length;function _8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Fve;n++){const r=R2[n],i=t.props[r];(mp(i)||i===!1)&&(e[r]=i)}return e}const Bve=[...I2].reverse(),zve=I2.length;function jve(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Vve(t,n,r)))}function Uve(t){let e=jve(t),n=Hk(),r=!0;const i=l=>(u,c)=>{var f;const h=yp(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:m,...w}=h;u={...u,...w,...m}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=_8(t.parent)||{},h=[],f=new Set;let p={},m=1/0;for(let x=0;x<zve;x++){const v=Bve[x],S=n[v],A=u[v]!==void 0?u[v]:c[v],M=mp(A),U=v===l?S.isActive:null;U===!1&&(m=x);let N=A===c[v]&&A!==u[v]&&M;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),S.protectedKeys={...p},!S.isActive&&U===null||!A&&!S.prevProp||Fv(A)||typeof A=="boolean")continue;const D=$ve(S.prevProp,A);let R=D||v===l&&S.isActive&&!N&&M||x>m&&M,L=!1;const z=Array.isArray(A)?A:[A];let G=z.reduce(i(v),{});U===!1&&(G={});const{prevResolvedValues:W={}}=S,E={...W,...G},g=V=>{R=!0,f.has(V)&&(L=!0,f.delete(V)),S.needsAnimating[V]=!0;const O=t.getValue(V);O&&(O.liveStyle=!1)};for(const V in E){const O=G[V],$=W[V];if(p.hasOwnProperty(V))continue;let q=!1;ix(O)&&ix($)?q=!w8(O,$):q=O!==$,q?O!=null?g(V):f.add(V):O!==void 0&&f.has(V)?g(V):S.protectedKeys[V]=!0}S.prevProp=A,S.prevResolvedValues=G,S.isActive&&(p={...p,...G}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(N&&D)||L)&&h.push(...z.map(V=>({animation:V,options:{type:v}})))}if(f.size){const x={};if(typeof u.initial!="boolean"){const v=yp(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(x.transition=v.transition)}f.forEach(v=>{const S=t.getBaseTarget(v),A=t.getValue(v);A&&(A.liveStyle=!0),x[v]=S??null}),h.push({animation:x})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Hk(),r=!0}}}function $ve(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!w8(e,t):!1}function Xl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hk(){return{animate:Xl(!0),whileInView:Xl(),whileHover:Xl(),whileTap:Xl(),whileDrag:Xl(),whileFocus:Xl(),exit:Xl()}}class jl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Gve extends jl{constructor(e){super(e),e.animationState||(e.animationState=Uve(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Hve=0;class qve extends jl{constructor(){super(...arguments),this.id=Hve++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Wve={animation:{Feature:Gve},exit:{Feature:qve}};function vp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Jp(t){return{point:{x:t.pageX,y:t.pageY}}}const Kve=t=>e=>P2(e)&&t(e,Jp(e));function _d(t,e,n,r){return vp(t,e,Kve(n),r)}function b8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Qve({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Yve(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const x8=1e-4,Xve=1-x8,Jve=1+x8,E8=.01,Zve=0-E8,e1e=0+E8;function Kr(t){return t.max-t.min}function t1e(t,e,n){return Math.abs(t-e)<=n}function qk(t,e,n,r=.5){t.origin=r,t.originPoint=dn(e.min,e.max,t.origin),t.scale=Kr(n)/Kr(e),t.translate=dn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Xve&&t.scale<=Jve||isNaN(t.scale))&&(t.scale=1),(t.translate>=Zve&&t.translate<=e1e||isNaN(t.translate))&&(t.translate=0)}function bd(t,e,n,r){qk(t.x,e.x,n.x,r?r.originX:void 0),qk(t.y,e.y,n.y,r?r.originY:void 0)}function Wk(t,e,n){t.min=n.min+e.min,t.max=t.min+Kr(e)}function n1e(t,e,n){Wk(t.x,e.x,n.x),Wk(t.y,e.y,n.y)}function Kk(t,e,n){t.min=e.min-n.min,t.max=t.min+Kr(e)}function xd(t,e,n){Kk(t.x,e.x,n.x),Kk(t.y,e.y,n.y)}const Qk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fc=()=>({x:Qk(),y:Qk()}),Yk=()=>({min:0,max:0}),Sn=()=>({x:Yk(),y:Yk()});function Ji(t){return[t("x"),t("y")]}function kw(t){return t===void 0||t===1}function ax({scale:t,scaleX:e,scaleY:n}){return!kw(t)||!kw(e)||!kw(n)}function nu(t){return ax(t)||S8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S8(t){return Xk(t.x)||Xk(t.y)}function Xk(t){return t&&t!=="0%"}function Py(t,e,n){const r=t-n,i=e*r;return n+i}function Jk(t,e,n,r,i){return i!==void 0&&(t=Py(t,i,r)),Py(t,n,r)+e}function lx(t,e=0,n=1,r,i){t.min=Jk(t.min,e,n,r,i),t.max=Jk(t.max,e,n,r,i)}function A8(t,{x:e,y:n}){lx(t.x,e.translate,e.scale,e.originPoint),lx(t.y,n.translate,n.scale,n.originPoint)}const Zk=.999999999999,e3=1.0000000000001;function r1e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,A8(t,o)),r&&nu(s.latestValues)&&zc(t,s.latestValues))}e.x<e3&&e.x>Zk&&(e.x=1),e.y<e3&&e.y>Zk&&(e.y=1)}function Bc(t,e){t.min=t.min+e,t.max=t.max+e}function t3(t,e,n,r,i=.5){const s=dn(t.min,t.max,i);lx(t,e,n,s,r)}function zc(t,e){t3(t.x,e.x,e.scaleX,e.scale,e.originX),t3(t.y,e.y,e.scaleY,e.scale,e.originY)}function P8(t,e){return b8(Yve(t.getBoundingClientRect(),e))}function i1e(t,e,n){const r=P8(t,n),{scroll:i}=e;return i&&(Bc(r.x,i.offset.x),Bc(r.y,i.offset.y)),r}const T8=({current:t})=>t?t.ownerDocument.defaultView:null,n3=(t,e)=>Math.abs(t-e);function s1e(t,e){const n=n3(t.x,e.x),r=n3(t.y,e.y);return Math.sqrt(n**2+r**2)}class C8{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ow(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=s1e(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=h,{timestamp:w}=er;this.history.push({...m,timestamp:w});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Mw(f,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ow(h.type==="pointercancel"?this.lastMoveEventInfo:Mw(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),m&&m(h,x)},!P2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Jp(e),a=Mw(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=er;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Ow(a,this.history)),this.removeListeners=Qp(_d(this.contextWindow,"pointermove",this.handlePointerMove),_d(this.contextWindow,"pointerup",this.handlePointerUp),_d(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function Mw(t,e){return e?{point:e(t.point)}:t}function r3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ow({point:t},e){return{point:t,delta:r3(t,I8(e)),offset:r3(t,o1e(e)),velocity:a1e(e,.1)}}function o1e(t){return t[0]}function I8(t){return t[t.length-1]}function a1e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=I8(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Po(e)));)n--;if(!r)return{x:0,y:0};const s=To(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function l1e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dn(n,t,r.max):Math.min(t,n)),t}function i3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function u1e(t,{top:e,left:n,bottom:r,right:i}){return{x:i3(t.x,n,i),y:i3(t.y,e,r)}}function s3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function c1e(t,e){return{x:s3(t.x,e.x),y:s3(t.y,e.y)}}function h1e(t,e){let n=.5;const r=Kr(t),i=Kr(e);return i>r?n=Oh(e.min,e.max-r,t.min):r>i&&(n=Oh(t.min,t.max-i,e.min)),Fo(0,1,n)}function f1e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ux=.35;function d1e(t=ux){return t===!1?t=0:t===!0&&(t=ux),{x:o3(t,"left","right"),y:o3(t,"top","bottom")}}function o3(t,e,n){return{min:a3(t,e),max:a3(t,n)}}function a3(t,e){return typeof t=="number"?t:t[e]||0}const p1e=new WeakMap;class m1e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jp(c).point)},s=(c,h)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xye(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ji(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Co.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[x];A&&(v=Kr(A)*(parseFloat(v)/100))}}this.originPoint[x]=v}),m&&Yt.postRender(()=>m(c,h)),sx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=g1e(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(c,h)},a=(c,h)=>this.stop(c,h),l=()=>Ji(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new C8(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:T8(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Yt.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!fg(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=l1e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Vc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=u1e(r.layoutBox,e):this.constraints=!1,this.elastic=d1e(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ji(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=f1e(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=i1e(r,i.root,this.visualElement.getTransformPagePoint());let o=c1e(i.layout.layoutBox,s);if(n){const a=n(Qve(o));this.hasMutatedConstraints=!!a,a&&(o=b8(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ji(c=>{if(!fg(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sx(this.visualElement,e),r.start(V2(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ji(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ji(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ji(n=>{const{drag:r}=this.getProps();if(!fg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-dn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ji(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=h1e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ji(o=>{if(!fg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(dn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;p1e.set(this.visualElement,this);const e=this.visualElement.current,n=_d(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Vc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yt.read(r);const o=vp(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ji(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ux,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function fg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function g1e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class y1e extends jl{constructor(e){super(e),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new m1e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}unmount(){this.removeGroupControls(),this.removeListeners()}}const l3=t=>(e,n)=>{t&&Yt.postRender(()=>t(e,n))};class v1e extends jl{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(e){this.session=new C8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:l3(e),onStart:l3(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Yt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=_d(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(He.test(t))t=parseFloat(t);else return t;const n=u3(t,e.target.x),r=u3(t,e.target.y);return`${n}% ${r}%`}},w1e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=kl.parse(t);if(i.length>5)return r;const s=kl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=dn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class _1e extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;ive(b1e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Yt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),A2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function R8(t){const[e,n]=jye(),r=C.useContext(h9);return b.jsx(_1e,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(l8),isPresent:e,safeToRemove:n})}const b1e={borderRadius:{...Nf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nf,borderTopRightRadius:Nf,borderBottomLeftRadius:Nf,borderBottomRightRadius:Nf,boxShadow:w1e};function x1e(t,e,n){const r=Br(t)?t:Ns(t);return r.start(V2("",r,e,n)),r.animation}const E1e=(t,e)=>t.depth-e.depth;class S1e{constructor(){this.children=[],this.isDirty=!1}add(e){r2(this.children,e),this.isDirty=!0}remove(e){i2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(E1e),this.isDirty=!1,this.children.forEach(e)}}function A1e(t,e){const n=fi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ks(r),t(s-e))};return Yt.setup(r,!0),()=>Ks(r)}const k8=["TopLeft","TopRight","BottomLeft","BottomRight"],P1e=k8.length,c3=t=>typeof t=="string"?parseFloat(t):t,h3=t=>typeof t=="number"||He.test(t);function T1e(t,e,n,r,i,s){i?(t.opacity=dn(0,n.opacity??1,C1e(r)),t.opacityExit=dn(e.opacity??1,0,I1e(r))):s&&(t.opacity=dn(e.opacity??1,n.opacity??1,r));for(let o=0;o<P1e;o++){const a=`border${k8[o]}Radius`;let l=f3(e,a),u=f3(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||h3(l)===h3(u)?(t[a]=Math.max(dn(c3(l),c3(u),r),0),(Co.test(u)||Co.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=dn(e.rotate||0,n.rotate||0,r))}function f3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const C1e=M8(0,.5,b9),I1e=M8(.5,.95,gi);function M8(t,e,n){return r=>r<t?0:r>e?1:n(Oh(t,e,r))}function d3(t,e){t.min=e.min,t.max=e.max}function Qi(t,e){d3(t.x,e.x),d3(t.y,e.y)}function p3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function m3(t,e,n,r,i){return t-=e,t=Py(t,1/n,r),i!==void 0&&(t=Py(t,1/i,r)),t}function R1e(t,e=0,n=1,r=.5,i,s=t,o=t){if(Co.test(e)&&(e=parseFloat(e),e=dn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=dn(s.min,s.max,r);t===s&&(a-=e),t.min=m3(t.min,e,n,a,i),t.max=m3(t.max,e,n,a,i)}function g3(t,e,[n,r,i],s,o){R1e(t,e[n],e[r],e[i],e.scale,s,o)}const k1e=["x","scaleX","originX"],M1e=["y","scaleY","originY"];function y3(t,e,n,r){g3(t.x,e,k1e,n?n.x:void 0,r?r.x:void 0),g3(t.y,e,M1e,n?n.y:void 0,r?r.y:void 0)}function v3(t){return t.translate===0&&t.scale===1}function O8(t){return v3(t.x)&&v3(t.y)}function w3(t,e){return t.min===e.min&&t.max===e.max}function O1e(t,e){return w3(t.x,e.x)&&w3(t.y,e.y)}function _3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function N8(t,e){return _3(t.x,e.x)&&_3(t.y,e.y)}function b3(t){return Kr(t.x)/Kr(t.y)}function x3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class N1e{constructor(){this.members=[]}add(e){r2(this.members,e),e.scheduleRender()}remove(e){if(i2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D1e(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:f,skewX:p,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Nw=["","X","Y","Z"],L1e={visibility:"hidden"},V1e=1e3;let F1e=0;function Dw(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function D8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=y8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Yt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&D8(r)}function L8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=F1e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j1e),this.nodes.forEach(q1e),this.nodes.forEach(W1e),this.nodes.forEach(U1e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new S1e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new a2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=T2(o)&&!Vye(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=A1e(h,250),Zg.hasAnimatedSinceResize&&(Zg.hasAnimatedSinceResize=!1,this.nodes.forEach(S3))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||J1e,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!N8(this.targetLayout,p),S=!h&&f;if(this.options.layoutRoot||this.resumeFrom||S||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...E2(m,"layout"),onPlay:w,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(c,S)}else h||S3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K1e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E3);return}this.isUpdating||this.nodes.forEach(G1e),this.isUpdating=!1,this.nodes.forEach(H1e),this.nodes.forEach(B1e),this.nodes.forEach(z1e),this.clearAllSnapshots();const a=fi.now();er.delta=Fo(0,1e3/60,a-er.timestamp),er.timestamp=a,er.isProcessing=!0,Aw.update.process(er),Aw.preRender.process(er),Aw.render.process(er),er.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($1e),this.sharedNodes.forEach(Q1e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kr(this.snapshot.measuredBox.x)&&!Kr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!O8(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||nu(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Z1e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Sn();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(ewe))){const{scroll:c}=this.root;c&&(Bc(a.x,c.offset.x),Bc(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Sn();if(Qi(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:f}=c;c!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Qi(a,o),Bc(a.x,h.offset.x),Bc(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Sn();Qi(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&zc(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),nu(c.latestValues)&&zc(l,c.latestValues)}return nu(this.latestValues)&&zc(l,this.latestValues),l}removeTransform(o){const a=Sn();Qi(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!nu(u.latestValues))continue;ax(u.latestValues)&&u.updateSnapshot();const c=Sn(),h=u.measurePageBox();Qi(c,h),y3(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return nu(this.latestValues)&&y3(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==er.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=er.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),xd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sn(),this.targetWithTransforms=Sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qi(this.target,this.layout.layoutBox),A8(this.target,this.targetDelta)):Qi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),xd(this.relativeTargetOrigin,this.target,p.target),Qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ax(this.parent.latestValues)||S8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===er.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Qi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;r1e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Sn());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p3(this.prevProjectionDelta.x,this.projectionDelta.x),p3(this.prevProjectionDelta.y,this.projectionDelta.y)),bd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!x3(this.projectionDelta.x,this.prevProjectionDelta.x)||!x3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fc(),this.projectionDelta=Fc(),this.projectionDeltaWithTransform=Fc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Fc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Sn(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,w=p!==m,x=this.getStack(),v=!x||x.members.length<=1,S=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(X1e));this.animationProgress=0;let A;this.mixTargetDelta=M=>{const U=M/1e3;A3(h.x,o.x,U),A3(h.y,o.y,U),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y1e(this.relativeTarget,this.relativeTargetOrigin,f,U),A&&O1e(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Sn()),Qi(A,this.relativeTarget)),w&&(this.animationValues=c,T1e(c,u,this.latestValues,U,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{Zg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ns(0)),this.currentAnimation=x1e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V1e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&V8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Sn();const h=Kr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Kr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Qi(a,l),zc(a,c),bd(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new N1e),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Dw("z",o,u,this.animationValues);for(let c=0;c<Nw.length;c++)Dw(`rotate${Nw[c]}`,o,u,this.animationValues),Dw(`skew${Nw[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return L1e;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Jg(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Jg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!nu(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const c=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=D1e(this.projectionDeltaWithTransform,this.treeScale,c),l&&(a.transform=l(c,a.transform));const{x:h,y:f}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in gp){if(c[p]===void 0)continue;const{correct:m,applyTo:w,isCSSVariable:x}=gp[p],v=a.transform==="none"?c[p]:m(c[p],u);if(w){const S=w.length;for(let A=0;A<S;A++)a[w[A]]=v}else x?this.options.visualElement.renderState.vars[p]=v:a[p]=v}return this.options.layoutId&&(a.pointerEvents=u===this?Jg(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(E3),this.root.sharedNodes.clear()}}}function B1e(t){t.updateLayout()}function z1e(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ji(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=Kr(f);f.min=r[h].min,f.max=f.min+p}):V8(s,e.layoutBox,r)&&Ji(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=Kr(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Fc();bd(a,r,e.layoutBox);const l=Fc();o?bd(l,t.applyTransform(i,!0),e.measuredBox):bd(l,r,e.layoutBox);const u=!O8(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=Sn();xd(m,e.layoutBox,f.layoutBox);const w=Sn();xd(w,r,p.layoutBox),N8(m,w)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function j1e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function U1e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $1e(t){t.clearSnapshot()}function E3(t){t.clearMeasurements()}function G1e(t){t.isLayoutDirty=!1}function H1e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function S3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function q1e(t){t.resolveTargetDelta()}function W1e(t){t.calcProjection()}function K1e(t){t.resetSkewAndRotation()}function Q1e(t){t.removeLeadSnapshot()}function A3(t,e,n){t.translate=dn(e.translate,0,n),t.scale=dn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function P3(t,e,n,r){t.min=dn(e.min,n.min,r),t.max=dn(e.max,n.max,r)}function Y1e(t,e,n,r){P3(t.x,e.x,n.x,r),P3(t.y,e.y,n.y,r)}function X1e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J1e={duration:.45,ease:[.4,0,.1,1]},T3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),C3=T3("applewebkit/")&&!T3("chrome/")?Math.round:gi;function I3(t){t.min=C3(t.min),t.max=C3(t.max)}function Z1e(t){I3(t.x),I3(t.y)}function V8(t,e,n){return t==="position"||t==="preserve-aspect"&&!t1e(b3(e),b3(n),.2)}function ewe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const twe=L8({attachResizeListener:(t,e)=>vp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lw={current:void 0},F8=L8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lw.current){const t=new twe({});t.mount(window),t.setOptions({layoutScroll:!0}),Lw.current=t}return Lw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nwe={pan:{Feature:v1e},drag:{Feature:y1e,ProjectionNode:F8,MeasureLayout:R8}};function R3(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Yt.postRender(()=>s(e,Jp(e)))}class rwe extends jl{mount(){const{current:e}=this.node;e&&(this.unmount=Eye(e,(n,r)=>(R3(this.node,r,"Start"),i=>R3(this.node,i,"End"))))}unmount(){}}class iwe extends jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qp(vp(this.node.current,"focus",()=>this.onFocus()),vp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function k3(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Yt.postRender(()=>s(e,Jp(e)))}class swe extends jl{mount(){const{current:e}=this.node;e&&(this.unmount=Tye(e,(n,r)=>(k3(this.node,r,"Start"),(i,{success:s})=>k3(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cx=new WeakMap,Vw=new WeakMap,owe=t=>{const e=cx.get(t.target);e&&e(t)},awe=t=>{t.forEach(owe)};function lwe({root:t,...e}){const n=t||document;Vw.has(n)||Vw.set(n,{});const r=Vw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(awe,{root:t,...e})),r[i]}function uwe(t,e,n){const r=lwe(e);return cx.set(t,n),r.observe(t),()=>{cx.delete(t),r.unobserve(t)}}const cwe={some:0,all:1};class hwe extends jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:cwe[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return uwe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fwe(e,n))&&this.startObserver()}unmount(){}}function fwe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const dwe={inView:{Feature:hwe},tap:{Feature:swe},focus:{Feature:iwe},hover:{Feature:rwe}},pwe={layout:{ProjectionNode:F8,MeasureLayout:R8}},hx={current:null},B8={current:!1};function mwe(){if(B8.current=!0,!!e2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hx.current=t.matches;t.addListener(e),e()}else hx.current=!1}const gwe=new WeakMap;function ywe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Br(i))t.addValue(r,i);else if(Br(s))t.addValue(r,Ns(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ns(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const M3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vwe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=b2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=fi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Yt.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Bv(n),this.isVariantNode=o8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&Br(p)&&p.set(l[f],!1)}}mount(e){this.current=e,gwe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),B8.current||mwe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=rf.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nh){const n=Nh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<M3.length;r++){const i=M3[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ywe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ns(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(f9(r)||p9(r))?r=parseFloat(r):!zye(r)&&kl.test(n)&&(r=Y9(e,n)),this.setBaseTarget(e,Br(r)?r.get():r)),Br(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=D2(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Br(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new a2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class z8 extends vwe{constructor(){super(...arguments),this.KeyframeResolver=wye}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Br(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function j8(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function wwe(t){return window.getComputedStyle(t)}class _we extends z8{constructor(){super(...arguments),this.type="html",this.renderInstance=j8}readValueFromInstance(e,n){var r;if(rf.has(n))return(r=this.projection)!=null&&r.isProjecting?Jb(n):B0e(e,n);{const i=wwe(e),s=(h2(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P8(e,n)}build(e,n,r){M2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return L2(e,n,r)}}const U8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bwe(t,e,n,r){j8(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(U8.has(i)?i:k2(i),e.attrs[i])}class xwe extends z8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(rf.has(n)){const r=Q9(n);return r&&r.default||0}return n=U8.has(n)?n:k2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return g8(e,n,r)}build(e,n,r){f8(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){bwe(e,n,r,i)}mount(e){this.isSVGTag=p8(e.tagName),super.mount(e)}}const Ewe=(t,e)=>N2(t)?new xwe(e):new _we(e,{allowProjection:t!==C.Fragment}),Swe=bve({...Wve,...dwe,...nwe,...pwe},Ewe),Or=qye(Swe),Awe=50,O3=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Pwe=()=>({time:0,x:O3(),y:O3()}),Twe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function N3(t,e,n,r){const i=n[e],{length:s,position:o}=Twe[e],a=i.current,l=n.time;i.current=t[`scroll${o}`],i.scrollLength=t[`scroll${s}`]-t[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Oh(0,i.scrollLength,i.current);const u=r-l;i.velocity=u>Awe?0:l2(i.current-a,u)}function Cwe(t,e,n){N3(t,"x",e,n),N3(t,"y",e,n),e.time=n}function Iwe(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(x2(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const fx={start:0,center:.5,end:1};function D3(t,e,n=0){let r=0;if(t in fx&&(t=fx[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const Rwe=[0,0];function kwe(t,e,n,r){let i=Array.isArray(t)?t:Rwe,s=0,o=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,fx[t]?t:"0"]),s=D3(i[0],n,r),o=D3(i[1],e),s-o}const Mwe={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Owe={x:0,y:0};function Nwe(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Dwe(t,e,n){const{offset:r=Mwe.All}=n,{target:i=t,axis:s="y"}=n,o=s==="y"?"height":"width",a=i!==t?Iwe(i,t):Owe,l=i===t?{width:t.scrollWidth,height:t.scrollHeight}:Nwe(i),u={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let c=!e[s].interpolate;const h=r.length;for(let f=0;f<h;f++){const p=kwe(r[f],u[o],l[o],a[s]);!c&&p!==e[s].interpolatorOffsets[f]&&(c=!0),e[s].offset[f]=p}c&&(e[s].interpolate=y2(e[s].offset,L9(r),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Fo(0,1,e[s].interpolate(e[s].current))}function Lwe(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function Vwe(t,e,n,r={}){return{measure:i=>{Lwe(t,r.target,n),Cwe(t,n,i),(r.offset||r.target)&&Dwe(t,n,r)},notify:()=>e(n)}}const Df=new WeakMap,L3=new WeakMap,Fw=new WeakMap,V3=t=>t===document.scrollingElement?window:t;function $8(t,{container:e=document.scrollingElement,...n}={}){if(!e)return gi;let r=Fw.get(e);r||(r=new Set,Fw.set(e,r));const i=Pwe(),s=Vwe(e,t,i,n);if(r.add(s),!Df.has(e)){const a=()=>{for(const h of r)h.measure(er.timestamp);Yt.preUpdate(l)},l=()=>{for(const h of r)h.notify()},u=()=>Yt.read(a);Df.set(e,u);const c=V3(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&L3.set(e,Lye(e,u)),c.addEventListener("scroll",u,{passive:!0}),u()}const o=Df.get(e);return Yt.read(o,!1,!0),()=>{var u;Ks(o);const a=Fw.get(e);if(!a||(a.delete(s),a.size))return;const l=Df.get(e);Df.delete(e),l&&(V3(e).removeEventListener("scroll",l),(u=L3.get(e))==null||u(),window.removeEventListener("resize",l))}}const F3=new Map;function Fwe(t){const e={value:0},n=$8(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function G8({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=F3.get(e)??new Map;F3.set(e,i);const s=n.target??"self",o=i.get(s)??{},a=r+(n.offset??[]).join(",");return o[a]||(o[a]=!n.target&&z9()?new ScrollTimeline({source:e,axis:r}):Fwe({container:e,...n})),o[a]}function Bwe(t,e){const n=G8(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),r8(i=>{r.time=r.duration*i},n))})}function zwe(t){return t.length===2}function jwe(t,e){return zwe(t)?$8(n=>{t(n[e.axis].progress,n)},e):r8(t,G8(e))}function Uwe(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return gi;const i={axis:e,container:n,...r};return typeof t=="function"?jwe(t,i):Bwe(t,i)}function B3(t,e){Fge(!!(!e||e.current))}const $we=()=>({scrollX:Ns(0),scrollY:Ns(0),scrollXProgress:Ns(0),scrollYProgress:Ns(0)});function Gwe({container:t,target:e,layoutEffect:n=!0,...r}={}){const i=Lv($we);return(n?t2:C.useEffect)(()=>(B3("target",e),B3("container",t),Uwe((o,{x:a,y:l})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),i}function Hwe(t){const e=Lv(()=>Ns(t)),{isStatic:n}=C.useContext(C2);if(n){const[,r]=C.useState(t);C.useEffect(()=>e.on("change",r),[])}return e}function H8(t,e){const n=Hwe(e()),r=()=>n.set(e());return r(),t2(()=>{const i=()=>Yt.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Ks(r)}}),n}function qwe(t){wd.current=[],t();const e=H8(wd.current,t);return wd.current=void 0,e}function z3(t,e,n,r){if(typeof t=="function")return qwe(t);const i=typeof e=="function"?e:Fye(e,n,r);return Array.isArray(t)?j3(t,i):j3([t],([s])=>i(s))}function j3(t,e){const n=Lv(()=>[]);return H8(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Wwe(t){return Gu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-141.651-35.33c4.937-32.999-20.191-50.739-54.55-62.573l11.146-44.702-27.213-6.781-10.851 43.524c-7.154-1.783-14.502-3.464-21.803-5.13l10.929-43.81-27.198-6.781-11.153 44.686c-5.922-1.349-11.735-2.682-17.377-4.084l.031-.14-37.53-9.37-7.239 29.062s20.191 4.627 19.765 4.913c11.022 2.751 13.014 10.044 12.68 15.825l-12.696 50.925c.76.194 1.744.473 2.829.907-.907-.225-1.876-.473-2.876-.713l-17.796 71.338c-1.349 3.348-4.767 8.37-12.471 6.464.271.395-19.78-4.937-19.78-4.937l-13.51 31.147 35.414 8.827c6.588 1.651 13.045 3.379 19.4 5.006l-11.262 45.213 27.182 6.781 11.153-44.733a1038.209 1038.209 0 0 0 21.687 5.627l-11.115 44.523 27.213 6.781 11.262-45.128c46.404 8.781 81.299 5.239 95.986-36.727 11.836-33.79-.589-53.281-25.004-65.991 17.78-4.098 31.174-15.792 34.747-39.949zm-62.177 87.179c-8.41 33.79-65.308 15.523-83.755 10.943l14.944-59.899c18.446 4.603 77.6 13.717 68.811 48.956zm8.417-87.667c-7.673 30.736-55.031 15.12-70.393 11.292l13.548-54.327c15.363 3.828 64.836 10.973 56.845 43.035z"},child:[]}]})(t)}function Kwe(t){return Gu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function Qwe(t){return Gu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}const Ywe="_landingPageContainer_r0c2g_25",Xwe="_particlesBackground_r0c2g_38",Jwe="_navbar_r0c2g_48",Zwe="_navbarBrand_r0c2g_65",e_e="_navIcon_r0c2g_73",t_e="_navbarNav_r0c2g_78",n_e="_aeroblur_r0c2g_134",r_e="_heroSection_r0c2g_171",i_e="_heroLogoContainer_r0c2g_182",s_e="_heroLogo_r0c2g_182",o_e="_heroContent_r0c2g_193",a_e="_ctaButton_r0c2g_208",l_e="_featuresSection_r0c2g_228",u_e="_benefitsSection_r0c2g_229",c_e="_ctaSection_r0c2g_230",h_e="_featuresGrid_r0c2g_237",f_e="_benefitsGrid_r0c2g_238",d_e="_featureCard_r0c2g_245",p_e="_benefitItem_r0c2g_246",m_e="_cardIcon_r0c2g_269",g_e="_iconCircle_r0c2g_290",y_e="_footer_r0c2g_320",Mt={landingPageContainer:Ywe,particlesBackground:Xwe,navbar:Jwe,navbarBrand:Zwe,navIcon:e_e,navbarNav:t_e,aeroblur:n_e,heroSection:r_e,heroLogoContainer:i_e,heroLogo:s_e,heroContent:o_e,ctaButton:a_e,featuresSection:l_e,benefitsSection:u_e,ctaSection:c_e,featuresGrid:h_e,benefitsGrid:f_e,featureCard:d_e,benefitItem:p_e,cardIcon:m_e,iconCircle:g_e,footer:y_e},U3=()=>{const t=ds(),e=C.useRef(null),[n,r]=C.useState(!1),{scrollYProgress:i}=Gwe(),s=z3(i,[0,.5],["0%","-20%"]),o=z3(i,[0,.3],[1,0]);C.useEffect(()=>{xse(async c=>{await Vge(c)}).then(()=>{r(!0)})},[]);const a={background:{color:{value:"#000000"}},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"}},modes:{push:{quantity:4},repulse:{distance:100,duration:.4}}},particles:{color:{value:"#ff9100"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.2,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:2,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0},l={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:1,ease:"easeOut",staggerChildren:.2,delayChildren:.5}}},u={hidden:{opacity:0,y:50},visible:{opacity:1,y:0}};return b.jsxs("div",{className:Mt.landingPageContainer,children:[n&&b.jsx(bse,{id:"tsparticles",options:a,className:Mt.particlesBackground}),b.jsxs("nav",{className:Mt.navbar,children:[b.jsx("div",{className:Mt.navbarBrand,children:"Cripto Listo"}),b.jsxs("ul",{className:Mt.navbarNav,children:[b.jsx("li",{children:b.jsx("a",{href:"#inicio",children:"Inicio"})}),b.jsx("li",{children:b.jsx("a",{href:"#beneficios",children:"Beneficios"})}),b.jsx("li",{children:b.jsx("a",{href:"#plataforma",children:"Plataforma"})}),b.jsx("li",{children:b.jsx("a",{href:"#registro",children:"Registro"})})]})]}),b.jsxs("section",{id:"inicio",className:`${Mt.heroSection} ${Mt}`,ref:e,children:[" ",b.jsxs(Or.div,{className:Mt.heroContent,initial:"hidden",animate:"visible",variants:l,style:{y:s,opacity:o},children:[b.jsx(Or.div,{className:Mt.heroLogoContainer,variants:u,children:b.jsx("img",{src:zE,alt:"Company Logo",className:Mt.heroLogo})}),b.jsx(Or.h1,{variants:u,children:"Cripto Listo"}),b.jsx(Or.p,{variants:u,children:"Realiza transferencias desde cualquier parte del mundo. Tu mercado de criptomonedas de confianza."}),b.jsx("a",{href:"#beneficios",className:"text-reset text-decoration-none",children:b.jsx(Or.button,{className:Mt.ctaButton,variants:u,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Explora"})})]})]}),b.jsxs("section",{id:"beneficios",className:`${Mt.benefitsSection} ${Mt}`,children:[" ",b.jsx(Or.h2,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.8},children:"Beneficios"}),b.jsxs("div",{className:Mt.benefitsGrid,children:[b.jsxs(Or.div,{className:Mt.benefitItem,initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.6,delay:.1},children:[b.jsx("div",{className:Mt.iconCircle,children:""}),b.jsx("h3",{children:"Confianza Monetaria"}),b.jsx("p",{children:"Transacciones que no devaluan tu billetera"})]}),b.jsxs(Or.div,{className:Mt.benefitItem,initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.6,delay:.2},children:[b.jsx("div",{className:Mt.iconCircle,children:""}),b.jsx("h3",{children:"Acceso Global"}),b.jsx("p",{children:"Opera desde cualquier lugar del mundo, 24/7."})]}),b.jsxs(Or.div,{className:Mt.benefitItem,initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.6,delay:.3},children:[b.jsx("div",{className:Mt.iconCircle,children:""}),b.jsx("h3",{children:"Transferencia Segura"}),b.jsx("p",{children:"Acceso a billetera slo a traves de llaves publicas"})]})]})]}),b.jsxs("section",{id:"plataforma",className:`${Mt.featuresSection} ${Mt}`,children:[" ",b.jsx(Or.h2,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.8},children:"Nuestra Plataforma"}),b.jsxs("div",{className:Mt.featuresGrid,children:[b.jsxs(Or.div,{className:Mt.featureCard,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.6,delay:.1},children:[b.jsx(Qwe,{className:Mt.cardIcon}),b.jsx("h3",{children:"Privacidad"}),b.jsx("p",{children:"No monitoreamos informacin sensible"})]}),b.jsxs(Or.div,{className:Mt.featureCard,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.6,delay:.2},children:[b.jsx(Kwe,{className:Mt.cardIcon}),b.jsx("h3",{children:"Versatilidad"}),b.jsx("p",{children:"Facilita el manejo de tu billetera"})]}),b.jsxs(Or.div,{className:Mt.featureCard,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.6,delay:.3},children:[b.jsx(Wwe,{className:Mt.cardIcon}),b.jsx("h3",{children:"Educacin Financiera"}),b.jsx("p",{children:"Accede a informacin actualizada acerca de criptoactivos"})]})]})]}),b.jsxs("section",{id:"registro",className:`${Mt.ctaSection} ${Mt}`,children:[" ",b.jsx(Or.h2,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.8},children:"Listo para el Futuro Financiero?"}),b.jsx(Or.p,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.8,delay:.2},children:"nete a nuestra comunidad y comienza tu viaje en el mundo de las criptomonedas."}),b.jsx(Or.button,{className:Mt.ctaButton,whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.8,delay:.4},onClick:()=>t("/logreg"),children:"Regstrate Ahora"})]}),b.jsx("footer",{className:Mt.footer,children:b.jsxs("p",{children:[" ",new Date().getFullYear()," Cripto Listo. Todos los derechos reservados."]})})]})};function v_e(){const[t,e]=C.useState(null),[n,r]=C.useState(!0),[i,s]=C.useState(""),o=ds();C.useEffect(()=>{(async()=>{try{const u=Ri.currentUser;if(!u){o("/login");return}const c=await Iv(zl(Di,"users",u.uid));c.exists()?e(c.data()):s("No se encontraron datos del usuario")}catch(u){s("Error al cargar los datos del usuario"),console.error(u)}finally{r(!1)}})()},[o]);const a=async()=>{try{await mJ(Ri),o("/login")}catch(l){s("Error al cerrar sesin"),console.error(l)}};return n?b.jsx(Fs,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:b.jsx(PE,{animation:"border",variant:"primary"})}):b.jsx(b.Fragment,{children:b.jsxs(Fs,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:[b.jsx(fl,{}),b.jsx(xt,{style:{width:"500px"},children:b.jsxs(xt.Body,{children:[b.jsx("h2",{className:"text-center mb-4",children:"Perfil de Usuario"}),i&&b.jsx(Gd,{variant:"danger",children:i}),t&&b.jsxs("div",{className:"user-info",children:[b.jsxs("div",{className:"mb-3",children:[b.jsx("strong",{children:"Nombre: "}),b.jsx("span",{children:t.name})]}),b.jsxs("div",{className:"mb-3",children:[b.jsx("strong",{children:"Alias: "}),b.jsx("span",{children:t.alias})]}),b.jsxs("div",{className:"mb-3",children:[b.jsx("strong",{children:"Email: "}),b.jsx("span",{children:t.email.replace(/(.{2})(.*)(@.*)/,(l,u,c,h)=>`${u}${c.replace(/./g,"*")}${h}`)})]})]}),b.jsxs("div",{className:"d-grid gap-2 mt-4",children:[b.jsx(ir,{variant:"primary",onClick:()=>o("/homcompra"),children:"Volver al inicio"}),b.jsx(ir,{variant:"danger",onClick:a,children:"Cerrar sesin"})]})]})})]})})}const w_e=Hj([{path:"/",element:b.jsx(rU,{}),children:[{index:!0,element:b.jsx(U3,{})},{path:"landing",element:b.jsx(U3,{})},{path:"homventa",element:b.jsx(Wne,{})},{path:"homcompra",element:b.jsx(Yne,{})},{path:"detalleprod/:id",element:b.jsx(Jne,{})},{path:"logreg",element:b.jsx(Une,{})},{path:"register",element:b.jsx($ne,{})},{path:"formpago",element:b.jsx(tH,{})},{path:"paymeta",element:b.jsx(IQ,{})},{path:"paytrust",element:b.jsx(MQ,{})},{path:"profile",element:b.jsx(v_e,{})},{path:"*",element:b.jsx(vj,{to:"/landing",replace:!0})}]}]);Bw.createRoot(document.getElementById("root")).render(b.jsx(yr.StrictMode,{children:b.jsx(iU,{router:w_e})}));
